!function(){function e(t){var i=a[t];if(void 0!==i)return i.exports;var n=a[t]={id:t,exports:{}};return o[t].call(n.exports,n,n.exports,e),n.exports}var t,i,n,r,o={9823:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=i(6326),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".LTR0aGkBLc{display:flex;flex-direction:row;align-items:center;padding:8px 10px;width:100%;height:42px;background:#3d7bf5;border-radius:0 0 20px 20px;position:absolute;top:0;left:0;box-sizing:border-box}.NiR0JB{background:none}.ZW6repNkK2{justify-content:center}.wsDCP{display:flex;flex-direction:row;align-items:center;padding:5px 10px 5px 5px;grid-gap:4px;gap:4px;height:100%;background:#e4f2ff;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-radius:999px;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;pointer-events:auto}.b9Y{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M16 7.99935C16 12.4173 12.4183 15.9987 8 15.9987C3.58172 15.9987 0 12.4173 0 7.99935C0 3.58143 3.58172 0 8 0C12.4183 0 16 3.58143 16 7.99935ZM13 7.99935C13 10.7605 10.7614 12.9989 8 12.9989C5.23858 12.9989 3 10.7605 3 7.99935C3 5.23815 5.23858 2.99976 8 2.99976C10.7614 2.99976 13 5.23815 13 7.99935Z' fill='url(%23paint0_linear_308_8267)'/%3E %3Cpath d='M8.00092 12.9994C10.7623 12.9994 13.0009 10.761 13.0009 7.99984C13.0009 5.23864 10.7623 3.00024 8.00092 3.00024C5.23949 3.00024 3.00092 5.23864 3.00092 7.99984C3.00092 10.761 5.23949 12.9994 8.00092 12.9994Z' fill='white'/%3E %3Cmask id='mask0_308_8267' style='mask-type:alpha' maskUnits='userSpaceOnUse' x='3' y='5' width='10' height='12'%3E %3Cpath d='M8.00315 10.4011C9.32859 10.4011 10.4031 9.3267 10.4031 8.00136C10.4031 6.67602 9.32859 5.60162 8.00315 5.60162C6.6777 5.60162 5.60321 6.67602 5.60321 8.00136C5.60321 9.3267 6.6777 10.4011 8.00315 10.4011Z' fill='%23FFDD13'/%3E %3Cpath d='M8.00162 11.0007C5.78756 11.0007 3.93131 12.4491 3.2735 14.4442C4.5985 15.4191 6.22975 16.0003 8.00162 16.0003C9.7735 16.0003 11.4047 15.4176 12.7297 14.4442C12.0719 12.4491 10.2157 11.0007 8.00162 11.0007Z' fill='%23FFDD13'/%3E %3C/mask%3E %3Cg mask='url(%23mask0_308_8267)'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1.58563 17.0527H14.6832V1.51959H1.58563V17.0527Z' fill='url(%23paint1_linear_308_8267)'/%3E %3C/g%3E %3Cdefs%3E %3ClinearGradient id='paint0_linear_308_8267' x1='14.3333' y1='17.9985' x2='-4.0652' y2='-0.00149854' gradientUnits='userSpaceOnUse'%3E %3Cstop stop-color='%234643B9'/%3E %3Cstop offset='1' stop-color='%23498BFF'/%3E %3C/linearGradient%3E %3ClinearGradient id='paint1_linear_308_8267' x1='12.7978' y1='15.5336' x2='17.9478' y2='31.1347' gradientUnits='userSpaceOnUse'%3E %3Cstop stop-color='%2300B2FF'/%3E %3Cstop offset='0.567708' stop-color='%23498BFF'/%3E %3Cstop offset='1' stop-color='%233E3BA0'/%3E %3C/linearGradient%3E %3C/defs%3E %3C/svg%3E\");background-repeat:no-repeat;background-position:50%;height:100%;width:16px;flex-shrink:0}.y2FWKkW{font-family:"+o.locals.AD_FONT+";font-weight:700;font-style:normal;font-size:11px;text-align:center;color:#414141}.pic{height:35px;margin-top:60px}.pic .wsDCP{padding:8px 12px;height:unset}.pic .b9Y{height:16px}.pic .fvVhabp0iG{font-family:"+o.locals.AD_FONT+";font-size:16px;line-height:normal;font-weight:400}.zbIqdl{position:absolute;top:60px;right:34px}",""]),s.locals={AD_FONT:""+o.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,SurveyHeader:"LTR0aGkBLc",SurveyHeader_background_none:"NiR0JB",SurveyHeader_justifyContent_center:"ZW6repNkK2",SurveyHeader__adLabel:"wsDCP",SurveyHeader__adLabelIcon:"b9Y",SurveyHeader__adLabelText:"y2FWKkW",SurveyHeader_modern:"pic",SurveyHeader__logoText:"fvVhabp0iG",SurveyHeader_skipWrapper:"zbIqdl"},e.exports=s},3641:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".XLD{display:inline-block;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto;margin-right:8px}.xlMCX5{--survey-buttons-skip-button-bg:#e7e9ec;display:inline-block;padding:var(--survey-buttons-padding);position:relative;border-radius:14px;overflow:hidden;background-color:var(--survey-buttons-skip-button-bg);font-weight:400;font-family:"+o.locals.AD_FONT+";font-size:var(--survey-buttons-font-size);line-height:var(--survey-buttons-line-height);letter-spacing:.04em;color:#313130;white-space:nowrap;text-decoration:none;text-overflow:ellipsis;border:none;outline:none}.xlMCX5:hover:not(.Ndvshj){--survey-buttons-skip-button-bg:#dcdee0;cursor:pointer}.Ndvshj,.Ndvshj:active{--survey-buttons-skip-button-bg:#f0f1f3;cursor:default;color:#b6b7b7}.kRkPKhezCm{--survey-buttons-font-size:16px;--survey-buttons-line-height:24px;--survey-buttons-padding:8px 16px}.qP4oc5,.Mz9ZM2A{--survey-buttons-font-size:14px;--survey-buttons-line-height:24px;--survey-buttons-padding:4px 16px}.gTGb1{--survey-buttons-font-size:12px;--survey-buttons-line-height:12px;--survey-buttons-padding:6px 12px}.yqKY7FeTbC{position:absolute;top:0;left:0;right:0;bottom:0;padding:var(--survey-buttons-padding);line-height:var(--survey-buttons-line-height);text-align:center;background-color:#f0f1f3;font-size:var(--survey-buttons-font-size);color:hsla(180,1%,62%,.8)}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,SurveySkipButton_clickable:"XLD",SurveySkipButton:"xlMCX5",SurveySkipButton_disabled:"Ndvshj",SurveySkipButton_size_l:"kRkPKhezCm",SurveySkipButton_size_m:"qP4oc5",SurveySkipButton_size_s:"Mz9ZM2A",SurveySkipButton_size_xs:"gTGb1",SurveySkipButton__timer:"yqKY7FeTbC"},e.exports=a},6081:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".gR0WW4w{animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-fill:balance;grid-column-gap:normal;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-feature-settings:normal;font-variant:normal;font-weight:400;font-stretch:normal;line-height:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;all:initial;display:block;position:absolute;width:100%;height:100%;left:0;top:0;pointer-events:auto;visibility:hidden;overflow:hidden;z-index:0}",""]),r.locals={AdPodContainer:"gR0WW4w"},e.exports=r},8861:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".ZElrhTT{position:relative;font-weight:700;width:85px}.M0JZDVEGz{left:0;padding:0 .5px;display:flex;flex-shrink:0;width:16px;height:16px}.Ymuci,.klGm5182FA{left:0;width:inherit;height:inherit;color:#e1e3e3;position:absolute;top:0;display:flex}.klGm5182FA{color:#ffd11d;overflow:hidden}",""]),r.locals={starContainer:"ZElrhTT",star:"M0JZDVEGz",starsEmpty:"Ymuci",starsFilled:"klGm5182FA"},e.exports=r},6936:function(e,t,i){var n=i(7344),r=i(7742),o=i(6174),a=i(466),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".U4sd{position:relative;display:flex;height:var(--ec-height);max-width:100%;overflow:hidden;border-radius:4px;background-color:"+a.locals.button_active_background_color+";-webkit-backdrop-filter:"+o.locals.button_backdrop_filter+";backdrop-filter:"+o.locals.button_backdrop_filter+'}.BFJyr{display:flex;width:100%}.edBa1cP{position:relative;flex:1;min-width:0;height:calc(var(--ec-height)*2);will-change:transform}.nZCAr6CG{position:absolute;top:0;left:0;right:0;bottom:0}.nZCAr6CG,.Ju8roqXY{opacity:1;visibility:visible;transition-timing-function:ease-out;transition-property:opacity,visibility;transition-duration:.2s}.s7tpyjd,.o3u4Dg870{opacity:0;visibility:collapse}.FS5u{transition:transform .3s ease-in-out;transform:translateY(calc(-1*var(--ec-height)))}.PVtbDcQgs{position:relative;flex-shrink:0}.Iq10C{--ec-height:60px;width:294px}.Iq10C .BFJyr{-webkit-clip-path:path("M0 0h56a4 4 0 0 1 4 4V0h500v60H60v-4a4 4 0 0 1-4 4H0z");clip-path:path("M0 0h56a4 4 0 0 1 4 4V0h500v60H60v-4a4 4 0 0 1-4 4H0z")}.ZoLp{--ec-height:40px;width:240px}.ZoLp .BFJyr{-webkit-clip-path:path("M0 0h36a4 4 0 0 1 4 4V0h500v40H40v-4a4 4 0 0 1-4 4H0z");clip-path:path("M0 0h36a4 4 0 0 1 4 4V0h500v40H40v-4a4 4 0 0 1-4 4H0z")}.Iq10C .PVtbDcQgs{font-size:12px;margin:5px 5px 5px 12px}.ZoLp .PVtbDcQgs{font-size:.9em;margin:1px 1px 1px 5px}.PVtbDcQgs .XD6Ix1giwW{height:100%}.ZoLp.yUmnmYN888{width:auto}.b0dH7hU+.BFJyr{overflow:hidden;border-top-left-radius:4px;border-bottom-left-radius:4px}',""]),s.locals={button_backdrop_filter:""+o.locals.button_backdrop_filter,button_active_background_color:""+a.locals.button_active_background_color,EcomCta:"U4sd",EcomCta__Clip:"BFJyr",EcomCta__Slider:"edBa1cP",EcomCta__Domain:"nZCAr6CG",EcomCta__Inner:"Ju8roqXY",EcomCta__Domain_hidden:"s7tpyjd",EcomCta__Inner_hidden:"o3u4Dg870",EcomCta__Slider_moving:"FS5u",EcomCta__Button:"PVtbDcQgs",EcomCta_size_m:"Iq10C",EcomCta_size_s:"ZoLp",ActionButton:"XD6Ix1giwW",EcomCta_hideText:"yUmnmYN888",EcomCta__AbuseInCta:"b0dH7hU"},e.exports=s},221:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".hgVc27I6cS{display:flex;height:var(--ec-height);font-family:"+o.locals.AD_FONT+"}.pi2{width:var(--ec-height);height:var(--ec-height);object-fit:cover;background:rgba(230,230,255,.15)}.izmUeAVOri{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center}.I6SHD3h{font-size:14px;line-height:16px;font-weight:700;color:#fff;overflow:hidden;text-overflow:ellipsis}.ysLbnKa{font-size:11px;line-height:13px;letter-spacing:.02em;overflow:hidden;color:hsla(0,0%,100%,.75);display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--ecc-lines)}.mMTgEeALe{--ecc-lines:3}.mMTgEeALe .izmUeAVOri{margin-left:12px}.mMTgEeALe.EhEe0L7D .ysLbnKa{--ecc-lines:2}.mMTgEeALe .I6SHD3h{margin-bottom:2px}.dvX{--ecc-lines:2}.dvX .izmUeAVOri{margin-left:6px}.dvX.EhEe0L7D .ysLbnKa{display:block;text-overflow:ellipsis;white-space:nowrap}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,EcomCtaCard:"hgVc27I6cS",EcomCtaCard__Image:"pi2",EcomCtaCard__Content:"izmUeAVOri",EcomCtaCard__Price:"I6SHD3h",EcomCtaCard__Text:"ysLbnKa",EcomCtaCard_size_m:"mMTgEeALe",EcomCtaCard_withPrice:"EhEe0L7D",EcomCtaCard_size_s:"dvX"},e.exports=a},5087:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".BaMmx8i{display:flex;height:var(--ec-height);font-family:"+o.locals.AD_FONT+"}.OTcJP{--icon-size:32px;--margin:calc(var(--ec-height)/2 - var(--icon-size)/2);display:flex;align-items:center;justify-content:center;width:var(--icon-size);min-width:var(--icon-size);height:var(--icon-size);border-radius:16px;margin:var(--margin) 0 var(--margin) var(--margin)}.OTcJP img{border-radius:2px;width:100%;height:100%}.KduhgDLO8c{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center}.IfJUm{font-weight:700}.j5M,.IfJUm{line-height:1.3;color:#fff;overflow:hidden;text-overflow:ellipsis}.j5M{font-size:1.4em;letter-spacing:.02em;white-space:nowrap}.GsIhf .KduhgDLO8c{margin-left:12px}.zTmL1NBu .j5M{font-size:inherit}.zTmL1NBu .KduhgDLO8c{margin-left:6px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,EcomCtaDomain:"BaMmx8i",EcomCtaDomain__FavIcon:"OTcJP",EcomCtaDomain__Content:"KduhgDLO8c",EcomCtaDomain__Title:"IfJUm",EcomCtaDomain__Text:"j5M",EcomCtaDomain_size_m:"GsIhf",EcomCtaDomain_size_s:"zTmL1NBu"},e.exports=a},5284:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,'.xKU5uflG{box-sizing:border-box;width:100%;border-radius:12px;padding:var(--pc-card-inner-gap);position:relative;line-height:var(--pc-card-line-height);background:#fff;box-shadow:0 0 5px rgba(0,0,0,.17)}.xKU5uflG .jClcJ{position:absolute;top:0;right:0;bottom:0;left:0}.yUoCX{display:flex;max-height:calc((var(--pc-card-width) - var(--pc-card-outer-gap)*2)/2)}.ioN1t9vKtX{display:block;width:var(--pc-card-image-size);height:var(--pc-card-image-size);object-fit:cover;border-radius:8px}.yUoCX .ioN1t9vKtX{width:40%;max-height:100%;max-width:50%}@supports (aspect-ratio:1){.yUoCX .ioN1t9vKtX{aspect-ratio:1;width:auto}}.fMja{margin:var(--pc-card-vertical-gap) 0}.yUoCX .fMja{margin-top:0;padding-left:8px;flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center}.AnYdLjnv{display:flex;align-items:center;flex-wrap:wrap;font-size:var(--pc-card-price-font-size);height:calc(var(--pc-card-line-height)*1em);overflow:hidden;word-wrap:break-word}.Ry4tz{color:#000;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.chL3L{display:flex;align-items:center;font-size:.73em;margin-left:6px;white-space:nowrap;height:100%}.fi4h{display:inline-block;background:#f65454;color:#fff;border-radius:6px;padding:.13em 4px}.NNpK{color:#a3acbf;position:relative;display:inline-block;margin-left:6px}.NNpK:after{content:"";left:0;top:50%;width:100%;height:1px;position:absolute;background:currentColor}.USqLF{color:rgba(32,53,96,.6);margin-top:var(--pc-card-vertical-gap);font-size:var(--pc-card-text-font-size);display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--pc-card-text-lines-count);line-clamp:var(--pc-card-text-lines-count);overflow:hidden}.gu8 .USqLF{-webkit-line-clamp:var(--pc-card-w-price-text-lines-count);line-clamp:var(--pc-card-w-price-text-lines-count)}',""]),r.locals={EcomProductCard:"xKU5uflG",ClickThroughLink:"jClcJ",EcomProductCard_horizontal:"yUoCX",EcomProductCard__Image:"ioN1t9vKtX",EcomProductCard__Details:"fMja",EcomProductCard__pricesContainer:"AnYdLjnv",EcomProductCard__price:"Ry4tz",EcomProductCard__oldPrice:"chL3L",EcomProductCard__discount:"fi4h",EcomProductCard__oldPriceValue:"NNpK",EcomProductCard__Text:"USqLF",EcomProductCard_withPrice:"gu8"},e.exports=r},3648:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".uOAMe6{display:flex;height:100%}.FG4FthrI{display:flex;align-items:center}.dEGmCQ,.juTOxw1b{--pc-slide-to-offset:calc((var(--pc-area-width) - var(--pc-card-width)*var(--pc-visible-items))/2);font:inherit;display:flex;justify-content:center;align-items:center;width:2.4em;height:2.4em;padding:10.75px 8px;border-radius:2.4em;border:none;background:#fff;color:#000;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.17)}.dEGmCQ{transform:translateX(var(--pc-slide-to-offset))}.juTOxw1b{transform:translateX(calc(-1*var(--pc-slide-to-offset)))}.yEXTHjY4R9{width:100%}.jT3{flex:1;min-width:0;display:flex;justify-content:center}.Mw4tRkRp5{flex:1;max-width:calc(var(--pc-visible-items)*var(--pc-card-width));max-height:100%;display:flex;align-self:center;border-radius:12px;overflow:auto;scroll-behavior:smooth;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-width:none}.Mw4tRkRp5::-webkit-scrollbar{display:none}.ARteo{justify-content:center}.eEc52{display:flex;justify-content:center;box-sizing:border-box;width:var(--pc-card-width);min-width:var(--pc-card-width);padding:var(--pc-card-outer-gap);scroll-snap-align:start}",""]),r.locals={EcomProductsCarousel:"uOAMe6",EcomProductsCarousel__slideToContainer:"FG4FthrI",EcomProductsCarousel__slideToLeft:"dEGmCQ",EcomProductsCarousel__slideToRight:"juTOxw1b",EcomProductsCarousel__slideToIcon:"yEXTHjY4R9",EcomProductsCarousel__productCardsArea:"jT3",EcomProductsCarousel__productCards:"Mw4tRkRp5",EcomProductsCarousel__productCards_noScroll:"ARteo",EcomProductsCarousel__productCardContainer:"eEc52"},e.exports=r},880:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=i(1574),s=i(9812),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".CGJXr7v,.CGJXr7v *{font-family:"+o.locals.AD_FONT+";box-sizing:border-box}.CGJXr7v{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5);padding:4px 10px 68px}.v2buk{padding-bottom:151px}.dgyZ{transform:translateY(100%);opacity:0;animation:EA39T var(--epc-show-animation-duration) ease-out;animation-fill-mode:forwards}@keyframes EA39T{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.xt12i4v8{text-align:right;padding-right:2.4em}.odRH5h{padding:0;color:#fff;background:none;border:none;font:inherit;cursor:pointer;opacity:1;visibility:visible;transition:"+a.locals.default_transition_duration+" opacity "+s.locals.default_transition_timing_function+","+a.locals.default_transition_duration+" visibility "+s.locals.default_transition_timing_function+"}.mf9{visibility:hidden;opacity:0}.LCND1{height:24px;width:24px}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,default_transition_duration:""+a.locals.default_transition_duration,default_transition_timing_function:""+s.locals.default_transition_timing_function,EcomProductsPackshotScreen:"CGJXr7v",EcomProductsPackshotScreen_padBottomForCta:"v2buk",EcomProductsPackshotScreen_withAnimation:"dgyZ","show-ecom-products-packshot-screen":"EA39T",EcomProductsPackshotScreen__closeButtonContainer:"xt12i4v8",EcomProductsPackshotScreen__closeButton:"odRH5h",EcomProductsPackshotScreen__closeButton_hidden:"mf9",EcomProductsPackshotScreen__closeIcon:"LCND1"},e.exports=l},4263:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".KAAIlGu5{display:inline-block;color:#000;font-size:16px;font-family:"+o.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.IUMmQEd{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,HoneypotButton:"KAAIlGu5",HoneypotButton__content:"IUMmQEd"},e.exports=a},7610:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".tUmbmaRzu{background-color:#000;opacity:.5}",""]),r.locals={HoneypotOverlay:"tUmbmaRzu"},e.exports=r},7844:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".P2kQPOSg{position:relative}.sN2HBscow{cursor:pointer}.r9oZkoMe2{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.rdu3Od{position:absolute;top:0;left:0}",""]),r.locals={HoneypotScreen:"P2kQPOSg",HoneypotScreen_clickable:"sN2HBscow",HoneypotScreen__buttonWrapper:"r9oZkoMe2",HoneypotScreen__honeypotOverlayWrapper:"rdu3Od"},e.exports=r},346:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".zNFUSba1v{word-wrap:break-word}.Xgl2WXnlI{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}",""]),r.locals={HyphenedText:"zNFUSba1v",HyphenedText__auto:"Xgl2WXnlI"},e.exports=r},8208:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".jClcJ{color:inherit;text-decoration:none;pointer-events:auto}.jClcJ[data-pointer-events]{pointer-events:none}",""]),r.locals={ClickThroughLink:"jClcJ"},e.exports=r},711:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".p1JqIQvbM{display:inline-block;color:#fff;font-size:16px;font-family:"+o.locals.AD_FONT+";background-color:#37f;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.sNNNpbd1y7{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,PackshotButton:"p1JqIQvbM",PackshotButton__content:"sNNNpbd1y7"},e.exports=a},3317:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".k3jfeHxE8{background-color:#000;opacity:.5}",""]),r.locals={PackshotOverlay:"k3jfeHxE8"},e.exports=r},333:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".ugTWNm{position:relative;color:#fff;font-family:"+o.locals.AD_FONT+";height:100%}.del{transform:translateY(100%);opacity:0;animation:xCbNjH var(--cp-show-animation-duration) ease-out;animation-fill-mode:forwards}@keyframes xCbNjH{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.up32FEboki{cursor:pointer}.iOO4rSR{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center}.hd29DGsm{padding:4px 0;font-weight:700;cursor:pointer}.HFzCN,.hd29DGsm{box-sizing:border-box;text-align:center;width:100%}.HFzCN{padding:0 0 4px}.fg5ZSym6{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.e3L{justify-content:center;display:flex;margin:8px}.Khs48{position:absolute;top:0;right:0;bottom:0;left:0}.bWiFd{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%}.cKjzmXTtz8{position:absolute;bottom:0;width:100%;padding:4px;opacity:.85}.Aut{justify-content:left}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,PackshotScreen:"ugTWNm",PackshotScreen_withAnimation:"del","show-classic-packshot-screen":"xCbNjH",PackshotScreen_clickable:"up32FEboki",PackshotScreen__content:"iOO4rSR",PackshotScreen__title:"hd29DGsm",PackshotScreen__body:"HFzCN",PackshotScreen__buttonWrapper:"fg5ZSym6",PackshotScreen__buttonWrapper_newDesign:"e3L",PackshotScreen__packshotOverlayWrapper:"Khs48",PackshotScreen__textBlock:"bWiFd",PackshotScreen__textBlock_newDesgin:"cKjzmXTtz8",PackshotScreen__buttonWrapper_newDesign_float_left:"Aut"},e.exports=a},7177:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".eE5A{--cp-show-animation-duration:1s;--vic-pc-container-paddings:8px 12px 12px;--vic-pc-container-gap-big:12px;--vic-pc-container-gap-small:4px;--vic-pc-app-icon-max-side:60px;--vic-pc-title-font-size:18px;--vic-pc-title-line-height:21px;--vic-pc-body-font-size:14px;--vic-pc-body-line-height:18px;--vic-rmp-cta-color:#3d7bf5;--vic-pc-cta-horizontal-paddings:28px;--vic-pc-cta-width:100%;--vic-pc-cta-height:28px;--vic-pc-cta-font-size:16px}.iGfzbBqDQj{box-sizing:border-box;display:flex;flex-direction:column;pointer-events:all;position:absolute;width:100%;height:100%;color:#fff;font-family:"+o.locals.AD_FONT+";animation:bINA7 var(--cp-show-animation-duration) ease}.QNAkTayG{position:absolute;top:0;right:0;bottom:0;left:0}.x7Krd{box-sizing:inherit;position:relative;display:flex;justify-content:center;padding:6px;width:100%;min-height:30px;animation:rzCMtisw var(--cp-show-animation-duration) ease}.niLx40q{position:absolute;top:6px;left:6px}.jzQGg4q4f{box-sizing:border-box;overflow:hidden;display:flex;flex-grow:1;flex-direction:column;pointer-events:none;animation:tgGUvTb var(--cp-show-animation-duration) ease}.lLKWd{position:relative;display:flex;justify-content:center;flex-direction:column;flex-grow:1;padding:var(--vic-pc-container-paddings);padding-top:0;padding-bottom:0;grid-gap:var(--vic-pc-container-gap-big);gap:var(--vic-pc-container-gap-big)}.KuW1K{display:flex;flex-direction:column;grid-gap:var(--vic-pc-container-gap-small);gap:var(--vic-pc-container-gap-small)}.s8MHgSzOV{display:flex;position:relative;width:100%;cursor:pointer}.JAR{order:1}.KdP{display:flex}.YrOzeygd{height:16px;width:16px}.ZL9mTVVLt{display:flex}.vM4Odj67{padding-left:6px;font-weight:400;font-size:13px;line-height:16px}.ulhMVKnu{display:flex;flex-wrap:nowrap;align-items:center;width:100%}.O44rYW{flex-direction:row;justify-content:flex-start}.zn1{flex-direction:column;justify-content:center}.Vrno73{width:60px;height:60px;margin-right:12px;cursor:pointer;border-radius:8px}.NDehz{width:var(--vic-pc-app-icon-max-side);height:var(--vic-pc-app-icon-max-side)}.NcjL1uU{font-size:var(--vic-pc-title-font-size);line-height:var(--vic-pc-title-line-height);font-weight:700;cursor:pointer}.Yf4pf7HHB{margin-bottom:4px}.M8vD{margin-left:90px}.TZjV{box-sizing:border-box;cursor:pointer;width:100%;position:relative;font-size:var(--vic-pc-body-font-size);line-height:var(--vic-pc-body-line-height)}.LzU32Gmw3w{flex-direction:row;justify-content:space-between}.Bhvpvbm,.LzU32Gmw3w{box-sizing:border-box;display:flex;align-items:center}.Bhvpvbm{position:relative;justify-content:center;background:var(--vic-rmp-cta-color);color:#fff;border-radius:6px;padding:0 var(--vic-pc-cta-horizontal-paddings);white-space:nowrap;width:var(--vic-pc-cta-width);height:var(--vic-pc-cta-height);font-size:var(--vic-pc-cta-font-size);font-weight:700}.Auhe{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;cursor:pointer}.nKvaYclc{display:none}@keyframes bINA7{0%{opacity:0}to{opacity:1}}@keyframes tgGUvTb{0%{transform:translateY(100%)}75%{transform:translateY(-5px)}to{transform:translateY(0)}}@keyframes rzCMtisw{0%{transform:translateY(-100%)}75%{transform:translateY(5px)}to{transform:translateY(0)}}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,RmpPackshot__root:"eE5A",RmpPackshot__container:"iGfzbBqDQj","packshot-slot-animation":"bINA7",RmpPackshot__overlayWrapper:"QNAkTayG",RmpPackshot__header:"x7Krd","packshot-header-animation":"rzCMtisw",RmpPackshot__adLabelContainer:"niLx40q",RmpPackshot__contentContainer:"jzQGg4q4f","packshot-content-animation":"tgGUvTb",RmpPackshot__content:"lLKWd",RmpPackshot__info:"KuW1K",RmpPackshot__store:"s8MHgSzOV",RmpPackshot__store_ordered:"JAR",RmpPackshot__storeIconWrapper:"KdP",RmpPackshot__storeIcon:"YrOzeygd",RmpPackshot__storeNameWrapper:"ZL9mTVVLt",RmpPackshot__storeName:"vM4Odj67",RmpPackshot__app:"ulhMVKnu",RmpPackshot__app_horizontal:"O44rYW",RmpPackshot__app_vertical:"zn1",RmpPackshot__icon:"Vrno73",RmpPackshot__icon_large:"NDehz",RmpPackshot__name:"NcjL1uU",RmpPackshot__name_withRating:"Yf4pf7HHB",RmpPackshot__reviews:"M8vD",RmpPackshot__body:"TZjV",RmpPackshot__footer:"LzU32Gmw3w",RmpPackshot__cta:"Bhvpvbm",RmpPackshot__link:"Auhe",RmpPackshot__hidden:"nKvaYclc"},e.exports=a},3507:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".k3jfeHxE8{position:relative;height:100%;width:100%}.HWq1eb{--vic-pc-bg-opacity:0.8;--vic-pc-bg-blur:blur(40px)}.JfXz{--vic-pc-bg-opacity:0.5;--vic-pc-bg-blur:blur(2px)}.aSPY9q{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%}.MeYkV5Ho{background:#000;opacity:var(--vic-pc-bg-opacity)}.qYF{-webkit-backdrop-filter:var(--vic-pc-bg-blur);backdrop-filter:var(--vic-pc-bg-blur)}",""]),r.locals={PackshotOverlay:"k3jfeHxE8",PackshotOverlay_theme_dark:"HWq1eb",PackshotOverlay_theme_light:"JfXz",PackshotOverlay__fullsize:"aSPY9q",PackshotOverlay__background:"MeYkV5Ho",PackshotOverlay__blur:"qYF"},e.exports=r},6457:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".lwPk9Yy{--vic-pc-text-color:#fff;--vic-pc-assets-bg-color:rgba(0,0,0,0.4);pointer-events:all;position:relative;color:var(--vic-pc-text-color);font-family:"+o.locals.AD_FONT+";width:100%;height:100%;--cp-show-animation-duration:1s}.gjsXMaPlC{--vic-pc-text-color:#252729;--vic-pc-assets-bg-color:hsla(0,0%,100%,0.9)}.lwPk9Yy[data-hidden=true],.lwPk9Yy [data-hidden=true]{display:none}.hJ5sIsfjH{cursor:pointer}.XaptvMRUzA{box-sizing:border-box;position:absolute;width:100%;height:100%;display:flex;flex-direction:column}.LizuPG{display:flex;width:100%;flex-direction:row;align-items:center;position:relative}.Ujqbo4GS{justify-content:center}.UleSor{height:16px;width:16px}.wseQg{max-width:calc(100% - 16px);display:flex;flex-direction:row;align-items:end;flex-wrap:wrap}.hjiQBLIXZ{padding-left:6px;overflow:hidden;max-width:calc(100% - 6px);font-weight:400;font-size:14px;line-height:14px;text-overflow:ellipsis;white-space:nowrap}.sWXm{width:100%;font-size:var(--vic-pc-carousel-font-size);pointer-events:all}.JZn9{text-align:center}.sFTFtSumY{box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:100%;font-weight:700;cursor:pointer;position:relative;font-size:var(--vic-pc-title-font-size);line-height:var(--vic-pc-title-line-height)}.Dhgq{text-shadow:0 0 .15em rgba(0,0,0,.7),0 0 .4em rgba(0,0,0,.5)}.vwlq5mfS{box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:100%;cursor:pointer;opacity:.5;position:relative;font-size:var(--vic-pc-body-font-size);line-height:var(--vic-pc-body-line-height)}.SeGW7H14{position:absolute;top:6px;left:6px}.gr0NJe6Y8c{padding-left:6px;color:var(--vic-pc-text-color);opacity:.5;line-height:10px;font-size:8px;text-transform:uppercase;letter-spacing:.1em}.KdLfn{height:19px;width:19px}.OKRv{fill:var(--vic-pc-text-color)}.gw4Mj{padding-left:5px}.uG3ipWFNCn{display:flex;flex-direction:column;grid-gap:var(--vic-pc-container-gap-small);gap:var(--vic-pc-container-gap-small)}.S5g1Xq{align-items:center}.izam{grid-gap:var(--vic-pc-container-gap-big);gap:var(--vic-pc-container-gap-big)}.KB73v{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.U4emzB9pVg{box-sizing:border-box;position:relative;display:flex;justify-content:center;align-items:center;background:#37f;color:#fff;border-radius:6px;padding:0 var(--vic-pc-cta-horizontal-paddings);white-space:nowrap;width:var(--vic-pc-cta-width);height:var(--vic-pc-cta-height);font-size:var(--vic-pc-cta-font-size);font-weight:700}.WXf{position:absolute;top:0;right:0;bottom:0;left:0}.PjKT{box-sizing:border-box;position:relative;display:flex;justify-content:center;padding:6px;width:100%;min-height:30px}.WC6gdDRO{box-sizing:border-box;overflow:hidden;display:flex;justify-content:center;align-items:center;flex-grow:1;flex-direction:column}.WC6gdDRO>*,.eV2f6Ps>*{position:relative}.CFHoHtwrJ{display:flex;align-items:center;overflow:hidden;flex-grow:1;width:100%}.mdoO0{justify-content:center}.witsGxR,.eV2f6Ps{box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;padding:var(--vic-pc-container-paddings);border-radius:12px;max-height:100%}.witsGxR{align-items:center;width:100%}.SNo{-webkit-backdrop-filter:blur(40px);backdrop-filter:blur(40px);background:var(--vic-pc-assets-bg-color)}.JGALu8F{max-height:86%}.rGnN0{max-width:86%}.Lcr7QAK{cursor:pointer;display:flex;font-size:14px;line-height:19px}.PgnAgY6{-webkit-backdrop-filter:blur(40px);backdrop-filter:blur(40px);background:var(--vic-pc-assets-bg-color);border-radius:12px;margin:-5px;padding:5px}.KsvNS{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%}.ApeKfccim{animation:bINA7 var(--cp-show-animation-duration) ease}.ApeKfccim .PjKT{animation:rzCMtisw var(--cp-show-animation-duration) ease}.ApeKfccim .WC6gdDRO{animation:eOGiVuRxA8 var(--cp-show-animation-duration) ease}@keyframes bINA7{0%{opacity:0}to{opacity:1}}@keyframes rzCMtisw{0%{transform:translateY(-100%)}75%{transform:translateY(5px)}to{transform:translateY(0)}}@keyframes eOGiVuRxA8{0%{transform:translateY(100%)}75%{transform:translateY(-5px)}to{transform:translateY(0)}}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,VideoInComboPackshotScreen:"lwPk9Yy",VideoInComboPackshotScreen_theme_light:"gjsXMaPlC",VideoInComboPackshotScreen_clickable:"hJ5sIsfjH",VideoInComboPackshotScreen__content:"XaptvMRUzA",VideoInComboPackshotScreen__logoAndUrl:"LizuPG",VideoInComboPackshotScreen__logoAndUrl_justifyContent_center:"Ujqbo4GS",VideoInComboPackshotScreen__favicon:"UleSor",VideoInComboPackshotScreen__domainAndAdLabelContainer:"wseQg",VideoInComboPackshotScreen__domain:"hjiQBLIXZ",VideoInComboPackshotScreen__carouselSlot:"sWXm",VideoInComboPackshotScreen__text_center:"JZn9",VideoInComboPackshotScreen__title:"sFTFtSumY",VideoInComboPackshotScreen__text_withShadow:"Dhgq",VideoInComboPackshotScreen__body:"vwlq5mfS",VideoInComboPackshotScreen__adlabelContainer:"SeGW7H14",VideoInComboPackshotScreen__adLabelInMain:"gr0NJe6Y8c",VideoInComboPackshotScreen__RepeatIconContainer:"KdLfn",VideoInComboPackshotScreen__RepeatIcon:"OKRv",VideoInComboPackshotScreen__RepeatIconContainer_paddingLeft:"gw4Mj",VideoInComboPackshotScreen__area_gap_small:"uG3ipWFNCn",VideoInComboPackshotScreen__Block_align_center:"S5g1Xq",VideoInComboPackshotScreen__area_gap_big:"izam",VideoInComboPackshotScreen__footer:"KB73v",VideoInComboPackshotScreen__CTAbutton:"U4emzB9pVg",VideoInComboPackshotScreen__packshotOverlayWrapper:"WXf",VideoInComboPackshotScreen__PackshotHeader:"PjKT",VideoInComboPackshotScreen__PackshotMain:"WC6gdDRO",VideoInComboPackshotScreen__PackshotMainContent:"eV2f6Ps",VideoInComboPackshotScreen__PackshotMainContainer:"CFHoHtwrJ",VideoInComboPackshotScreen__PackshotMainContainer_justify_center:"mdoO0",VideoInComboPackshotScreen__PackshotEcomMainContent:"witsGxR",VideoInComboPackshotScreen__PackshotMainContent_blur:"SNo",VideoInComboPackshotScreen__PackshotMainContent_verticalPaddings:"JGALu8F",VideoInComboPackshotScreen__PackshotMainContent_horizontalPaddings:"rGnN0",VideoInComboPackshotScreen__RepeatButton:"Lcr7QAK",VideoInComboPackshotScreen__RepeatButton_alternative:"PgnAgY6",VideoInComboPackshotScreen__fullsize:"KsvNS",VideoInComboPackshotScreen_withAnimation:"ApeKfccim","packshot-slot-animation":"bINA7","packshot-header-animation":"rzCMtisw","packshot-main-animation":"eOGiVuRxA8"},e.exports=a},8602:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".CwiYQsD5I{position:relative;background-color:var(--vas-rmp-cta-btn-bg);color:#fff;display:flex;flex-direction:row;justify-content:center;align-items:center;height:var(--vas-rmp-cta-btn-h);font-weight:700}.IY15qQO{border-radius:var(--vas-rmp-cta-btn-br);padding:0 8px;font-size:var(--vas-rmp-cta-btn-fs);max-width:var(--vas-rmp-cta-btn-mw)}.nbsUOAIg{border-radius:8px;width:var(--vas-rmp-cta-btn-w)}.mQgOs61ceg{box-sizing:border-box;width:100%}.UtYhYTbW{margin-right:8px;fill:#fff}.a1JzbB{margin-top:var(--vas-rmp-cta-btn-top-gap)}.DZRC{width:100%}",""]),r.locals={rmpCta:"CwiYQsD5I",rmpCta_big:"IY15qQO",rmpCta_small:"nbsUOAIg",rmpCta_fullWidth:"mQgOs61ceg",rmpCta__icon:"UtYhYTbW",rmpCta__withGap:"a1JzbB",rmpCta__wrapper:"DZRC"},e.exports=r},3654:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".W4d{display:inline-flex;align-items:center;height:15px;box-sizing:border-box;padding:0 6px;color:#b1b1b1;font-weight:400;font-size:6px;font-family:"+o.locals.AD_FONT+";line-height:normal;letter-spacing:.075em;text-transform:uppercase;text-decoration:none;text-shadow:0 2px 2px rgba(0,0,0,.1);background:rgba(38,38,38,.65);border-radius:24px;transform-origin:bottom left;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.APGpoO39eg{font-size:8px;height:17px}.EU2B{cursor:pointer}.QCv1Sq1A{margin:0 3px;font-weight:700;font-size:4px;line-height:1.5}.APGpoO39eg .QCv1Sq1A{font-size:6px}.Ac7DC,.nxt{}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,AdLabel:"W4d",AdLabel_fullSize:"APGpoO39eg",AdLabel_clickable:"EU2B",AdLabel__delimiter:"QCv1Sq1A",AdLabel__ageLabel:"Ac7DC",AdLabel__domain:"nxt"},e.exports=a},1049:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".ObP{display:flex;align-items:center}",""]),r.locals={AdLabelsPanel:"ObP"},e.exports=r},4011:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".ttt6si7P{pointer-events:auto;display:block;position:relative;height:17px;width:17px;margin-left:3px;border-radius:20px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}.DmGEBQE8{height:15px;width:15px;margin-left:2px}.ttt6si7P>svg{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}",""]),r.locals={BusinessUnitAdLabel:"ttt6si7P",BusinessUnitAdLabel_small:"DmGEBQE8"},e.exports=r},4014:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".PlGziM{height:100%;opacity:0}.IjRp{opacity:1}.SDvun67{height:calc(100% - var(--ctat-margin-top) - var(--ctat-margin-bottom));display:flex;align-items:center;justify-content:center;margin-left:var(--ctat-horizontal-margin);margin-right:var(--ctat-horizontal-margin);margin-top:var(--ctat-margin-top);position:relative;z-index:0}.TtPTr,.Px0tkYw7{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;font-family:"+o.locals.AD_FONT+";font-weight:600;text-shadow:0 0 16px rgba(0,0,0,.05),0 0 8px rgba(0,0,0,.05),0 4px 4px rgba(0,0,0,.05),0 2px 2px rgba(0,0,0,.05),0 1px 1px rgba(0,0,0,.05)}.IjRp .Px0tkYw7 .n2g{--ctat-animation-delay-line:calc(var(--ctat-animation-title-part-duration)*3*var(--stw-text-line-index));--ctat-animation-delay-third:calc(var(--ctat-animation-title-part-duration)*var(--stw-text-char-inside-line-third));--ctat-animation-overlap-char:calc(var(--ctat-animation-delay-third) + var(--ctat-animation-delay-line));animation-name:OrnBD;animation-duration:var(--ctat-animation-title-part-duration);animation-delay:calc(-1*var(--ctat-animation-current-time) + var(--ctat-animation-overlap-char) + var(--ctat-animation-title-animation-show-delay));animation-fill-mode:both;animation-timing-function:ease-in-out;animation-play-state:var(--ctat-animation-playing-state)}@keyframes OrnBD{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.TtPTr .VeE,.Px0tkYw7 .VeE{overflow:clip;pointer-events:auto}.IjRp .Px0tkYw7 .VeE{--ctat-animation-title-animation-enlarge-current-line-delay:calc(var(--ctat-animation-title-animation-enlargement-delay) + (var(--ctat-animation-title-animation-enlargement-duration) + var(--ctat-animation-title-enlargement-next-line-delay))*var(--stw-text-line-index));--ctat-animation-title-animation-hide-current-line-delay:calc(var(--ctat-animation-title-animation-hide-delay) + var(--ctat-animation-title-animation-hide-duration)*var(--stw-text-line-index));animation-name:iLad,br5f;animation-duration:var(--ctat-animation-title-animation-enlargement-duration),var(--ctat-animation-title-animation-hide-duration);animation-delay:calc(-1*var(--ctat-animation-current-time) + var(--ctat-animation-title-animation-enlarge-current-line-delay)),calc(-1*var(--ctat-animation-current-time) + var(--ctat-animation-title-animation-hide-current-line-delay));animation-fill-mode:both,forwards;animation-timing-function:cubic-bezier(.35,0,.65,1),ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}@keyframes iLad{0%{transform:scale(1) translateY(0)}to{transform:scale(1.1) translateY(0)}}@keyframes br5f{0%{transform:scale(1.1) translateY(0);opacity:1}99%{transform:scale(1.1) translateY(100%);opacity:0}to{transform:scale(1.1) translateY(9999px);opacity:0}}.IjRp .TtPTr .VeE{--ctat-animation-body-animation-show-current-line-delay:calc(var(--ctat-animation-body-animation-show-delay) + (var(--ctat-animation-body-animation-show-duration)*0.5 + var(--ctat-animation-body-animation-show-line-delay))*var(--stw-text-line-index));--ctat-animation-body-animation-enlargement-current-line-delay:calc(var(--ctat-animation-body-animation-enlargement-delay) + var(--ctat-animation-body-animation-show-duration)*var(--stw-text-line-index));animation-name:FOJov795ZD,VJn;animation-duration:var(--ctat-animation-body-animation-show-duration),var(--ctat-animation-body-animation-enlargement-duration);animation-delay:calc(-1*var(--ctat-animation-current-time) + var(--ctat-animation-body-animation-show-current-line-delay)),calc(-1*var(--ctat-animation-current-time) + var(--ctat-animation-body-animation-enlargement-current-line-delay));animation-fill-mode:both,none;animation-timing-function:ease-in-out,ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}.IjRp .TtPTr{z-index:0;animation-name:K8F;animation-delay:calc(-1*var(--ctat-animation-current-time) + var(--ctat-animation-body-animation-show-delay));animation-duration:.1s;animation-timing-function:linear;animation-fill-mode:both}.IjRp .Px0tkYw7{z-index:1}@keyframes K8F{0%{z-index:0}to{z-index:1}}@keyframes FOJov795ZD{0%{transform:translateY(9999px);opacity:0}1%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes VJn{0%{transform:scale(1);letter-spacing:normal}33%{transform:scale(1.1);letter-spacing:.1em}to{transform:scale(1);letter-spacing:normal}}.S5bq7V{width:100%;height:100%;position:absolute;top:0;left:0;background-color:rgba(0,0,0,.1)}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,CallToActionText:"PlGziM",CallToActionText__animated:"IjRp",CallToActionText__overlay:"SDvun67",CallToActionText__body:"TtPTr",CallToActionText__title:"Px0tkYw7",SplitTextLinesWrapper__char:"n2g","title-char-reveal":"OrnBD",SplitTextLinesWrapper__textLine:"VeE","title-line-enlargement":"iLad","title-line-hide":"br5f","body-line-show":"FOJov795ZD","body-line-enlargement":"VJn","body-show":"K8F",CallToActionTextContainer:"S5bq7V"},e.exports=a},5206:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".rX8lr{display:flex;flex-direction:column;align-items:center;color:#fff;font-size:var(--font-size);line-height:var(--line-height)}.R0kyqY{position:absolute;width:100%}.WVm{box-sizing:border-box;max-width:100%;padding:0 .4em;background:rgba(38,38,38,.6);text-align:center;word-wrap:break-word}",""]),r.locals={Subtitles:"rX8lr",Subtitles_absolute:"R0kyqY",Subtitles__Line:"WVm"},e.exports=r},3407:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".ST04{position:absolute;box-shadow:0 10px 20px -4px rgba(0,0,0,.36);background-color:#2f2f32;border-radius:6px;font-family:"+o.locals.AD_FONT+";color:#fff;font-weight:400;font-size:13px;line-height:16px;letter-spacing:-.31px}.LEWyRJtl{position:absolute;width:24px;height:8px}.LEWyRJtl svg{position:absolute;left:0;top:0}.ObI{display:flex}.kek5K85{padding:5px 8px 7px}.PzIpso{pointer-events:auto;padding:5px 5px 0 0}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,Tooltip:"ST04",Tooltip__arrow:"LEWyRJtl",Tooltip__body:"ObI",Tooltip__text:"kek5K85",Tooltip__closeContainer:"PzIpso"},e.exports=a},8510:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".TdaOrXN{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}",""]),r.locals={TooltipContainer:"TdaOrXN"},e.exports=r},7273:function(e,t,i){var n=i(7344),r=i(7742),o=i(1574),a=i(9812),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".k1HeovmI7g{--dot-translate-offset:6px;border-radius:16px;cursor:pointer}.loy{}.k1HeovmI7g:not(.lE8s37t),.lE8s37t{background-color:var(--icon-bgcolor)}.bn5{transform:translate(calc(var(--dot-translate-offset)*2),calc(var(--dot-translate-offset)*2));will-change:transform}.Iz9tIS9{transform:rotate(45deg);opacity:0}.lE8s37t .MOL9{opacity:0}.lE8s37t .Iz9tIS9{opacity:1}.lE8s37t .Cnn{transform:translateY(var(--dot-translate-offset))}.lE8s37t .VXsGz1CKW{transform:translateY(calc(0 - var(--dot-translate-offset)))}.lE8s37t .AI3PnO{transform:rotate(0deg)}.lE8s37t .YPAFuDZcX{transform:rotate(90deg)}.k1HeovmI7g:not(.loy){--icon-bgcolor:rgba(35,37,38,0.1);--icon-bgcolor-hover:rgba(35,37,38,0.4);transition:"+o.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+";will-change:background-color}.k1HeovmI7g:not(.loy) .MOL9,.k1HeovmI7g:not(.loy) .Iz9tIS9{transition:"+o.locals.default_transition_duration+" transform "+a.locals.default_transition_timing_function+","+o.locals.default_transition_duration+" opacity "+a.locals.default_transition_timing_function+";will-change:transform,opacity}.k1HeovmI7g:not(.lE8s37t):hover,.lE8s37t:hover{background-color:var(--icon-bgcolor-hover)}",""]),s.locals={default_transition_duration:""+o.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseAnimationIcon:"k1HeovmI7g",AbuseAnimationIcon_background_none:"loy",AbuseAnimationIcon_cross:"lE8s37t",AbuseAnimationIcon__lines:"bn5",AbuseAnimationIcon__line:"Iz9tIS9",AbuseAnimationIcon__dot:"MOL9",AbuseAnimationIcon__dot_top:"Cnn",AbuseAnimationIcon__dot_bottom:"VXsGz1CKW",AbuseAnimationIcon__line_left:"AI3PnO",AbuseAnimationIcon__line_right:"YPAFuDZcX"},e.exports=s},8943:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".UxUwY{width:calc(48px*var(--screen-size-scale));height:calc(48px*var(--screen-size-scale));cursor:pointer;pointer-events:auto}.UxUwY>svg{width:100%;height:auto}",""]),r.locals={AbuseSmartTVIcon:"UxUwY"},e.exports=r},4376:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=i(6326),s=i(4946),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".Av78dSnlg{display:inline-block;color:#000;font-weight:"+a.locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+o.locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.O5tvU{cursor:pointer}.aRBKM7jnRd{text-decoration:none}.M67BL{display:flex;align-items:center;height:"+s.locals.small_button_height+";opacity:.6}.O5tvU .M67BL{opacity:.915}.O5tvU:hover .M67BL{opacity:1}.rvxg1{padding:4px;pointer-events:auto}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,small_button_height:""+s.locals.small_button_height,Button:"Av78dSnlg",Button_active:"O5tvU",Button_link:"aRBKM7jnRd",Button__content:"M67BL",Button__clickable:"rvxg1"},e.exports=l},9216:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".ygOW{display:flex;align-items:center;padding:0 calc(10px*var(--screen-size-scale));height:calc(24px*var(--screen-size-scale));background:rgba(0,0,0,.25);border-radius:calc(6px*var(--screen-size-scale))}.ygOW span{font-weight:500;font-size:calc(12px*var(--screen-size-scale));letter-spacing:.1em;white-space:pre-wrap;text-transform:uppercase}.M7Vf3{opacity:.5}",""]),r.locals={InfoBlockSmartTV:"ygOW",InfoBlockSmartTV__adLabel:"M7Vf3"},e.exports=r},9505:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".hPxJmH{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));width:26px;height:24px}.liUuSefQA0{width:100%;height:100%}",""]),r.locals={MuteIcon:"hPxJmH",MuteIcon_Fill:"liUuSefQA0"},e.exports=r},9124:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,"@keyframes BBId{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.PjjM2{animation-name:BBId;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),r.locals={SpinnerIcon__css_animated:"PjjM2",spin:"BBId"},e.exports=r},1147:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".KRiqxP1OBE{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));width:26px;height:24px}.N3DI{width:100%;height:100%}",""]),r.locals={UnmuteIcon:"KRiqxP1OBE",UnmuteIcon_Fill:"N3DI"},e.exports=r},8165:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".mcdGzDyg7d{}",""]),r.locals={AbuseContainer:"mcdGzDyg7d"},e.exports=r},6672:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=i(1574),s=i(9812),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".De2Fe0PS04{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:"+a.locals.default_transition_duration+" opacity "+s.locals.default_transition_timing_function+","+a.locals.default_transition_duration+" height "+s.locals.default_transition_timing_function+";pointer-events:none;will-change:opacity,height}.De2Fe0PS04:not(.cGU8A){visibility:hidden}.cGU8A{opacity:1;pointer-events:auto}.De2Fe0PS04:not(.HKpRKCer4O){width:240px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.PNne{left:16px;bottom:130px}.De2Fe0PS04:not(.HKpRKCer4O):not(.PNne){top:var(--abuse-top);right:4px}.HKpRKCer4O{top:0;right:0;bottom:0;left:0}.Y5wNVyJ6{box-sizing:border-box;padding:8px}.HKpRKCer4O .Y5wNVyJ6{height:100%;overflow:auto}.R6x{display:flex;align-items:center;height:36px}.aEvp3LcE{box-sizing:border-box;width:100%;height:112px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+o.locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:3px;outline:none;resize:none;pointer-events:auto}.aEvp3LcE:focus{border-color:#498bff}.Sade3db8{margin-top:8px;background-color:#498bff;border-radius:8px}.Sade3db8:hover{background-color:#2e71e5}.rT2RrElRJH{justify-content:center;height:26px;color:#fff;font-weight:400;line-height:20px}.J0HCr3aex{padding:8px;color:#3a3d40}.rT2RrElRJH,.si6H1eZ2,.J0HCr3aex{font-size:15px}.si6H1eZ2{color:#a3acbf;line-height:16px;word-break:break-word}.si6H1eZ2,.J0HCr3aex{font-weight:600;font-family:"+o.locals.AD_FONT+";line-height:16px}.y8j .si6H1eZ2,.DQ9 .si6H1eZ2{padding:10px 8px}.CTnQm4qo8s .si6H1eZ2{margin-right:15px;margin-left:10px}.bbaZ{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:"+a.locals.default_transition_duration+" background-color "+s.locals.default_transition_timing_function+";pointer-events:auto}.bbaZ:hover{background-color:#f4f8ff}.SbqeY5J9{display:flex;flex-direction:column}.oNS{margin:8px;overflow-y:auto;color:#a3acbf;font-size:11px;font-family:"+o.locals.AD_FONT+";line-height:14px;white-space:pre-line}.HKpRKCer4O .oNS{margin-right:18px}.HKpRKCer4O .SbqeY5J9{height:calc(100% - 36px);min-height:120px}.HKpRKCer4O .CTnQm4qo8s,.HKpRKCer4O .aEvp3LcE{height:100%}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,default_transition_duration:""+a.locals.default_transition_duration,default_transition_timing_function:""+s.locals.default_transition_timing_function,AbuseDisplay:"De2Fe0PS04",AbuseDisplay_visible:"cGU8A",AbuseDisplay_fullSize:"HKpRKCer4O",AbuseDisplay_positionLeftBottom:"PNne",AbuseDisplay__content:"Y5wNVyJ6",AbuseDisplay__customReasonDisplayHeader:"R6x",AbuseDisplay__customReasonDisplayTextarea:"aEvp3LcE",AbuseDisplay__customReasonDisplayButton:"Sade3db8",AbuseDisplay__customReasonDisplayButtonContent:"rT2RrElRJH",AbuseDisplay__text:"J0HCr3aex",AbuseDisplay__hint:"si6H1eZ2",AbuseDisplay__complaintDisplay:"y8j",AbuseDisplay__hideDisplay:"DQ9",AbuseDisplay__customReasonDisplay:"CTnQm4qo8s",AbuseDisplay__arrowLeftIcon:"bbaZ",AbuseDisplay__messageBox:"SbqeY5J9",AbuseDisplay__legal:"oNS"},e.exports=l},5804:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".Jz3qz{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;background:#f4f6fb;pointer-events:none}.Q1S{justify-content:center}.ZlLHv0Qi{justify-content:left}.ZlLHv0Qi .uSWFNFj1P{max-width:200px;margin-left:20px}.Q1S .uSWFNFj1P{text-align:center}.Hx64E3h7IS{color:#3a3d40;font-weight:600;font-size:16px;font-family:"+o.locals.AD_FONT+";line-height:22px}.igv{margin-top:8px;color:#a3acbf;font-size:14px;font-family:"+o.locals.AD_FONT+";line-height:20px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,AbusePlaceholder:"Jz3qz",AbusePlaceholder_place_center:"Q1S",AbusePlaceholder_place_left:"ZlLHv0Qi",AbusePlaceholder__container:"uSWFNFj1P",AbusePlaceholder__text:"Hx64E3h7IS",AbusePlaceholder__hint:"igv"},e.exports=a},5915:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,"@media screen and (max-height:719px){.FKjp{--screen-size-scale:0.667}}@media screen and (min-height:720px) and (max-height:1079px){.FKjp{--screen-size-scale:1}}@media screen and (min-height:1080px) and (max-height:2159px){.FKjp{--screen-size-scale:1.5}}@media screen and (min-height:2160px){.FKjp{--screen-size-scale:3}}.FKjp{position:fixed;top:0;left:0;right:0;bottom:0;margin:0;background-color:rgba(14,14,15,.9);pointer-events:auto;padding:0 calc(120px*var(--screen-size-scale));display:flex;align-items:center}.NQyXGT8Eyp{font-family:"+o.locals.AD_FONT+";font-style:normal;font-weight:400;color:#fff;display:flex;justify-content:space-between;flex-grow:1;flex-shrink:0}.SxEULU8iqz{display:flex;flex-direction:column;width:calc(670px*var(--screen-size-scale));font-size:calc(28px*var(--screen-size-scale));line-height:calc(42px*var(--screen-size-scale))}.SxEULU8iqz span{opacity:.8}.Hopo{display:flex;flex-direction:column;width:calc(248px*var(--screen-size-scale));font-size:calc(16px*var(--screen-size-scale));line-height:calc(24px*var(--screen-size-scale))}.Hopo span{opacity:.8}.xFYx{font-size:calc(20px*var(--screen-size-scale));line-height:calc(31px*var(--screen-size-scale))}.aPY0HFd{display:flex;flex-direction:column}.wrCss0pOo{margin-top:calc(42px*var(--screen-size-scale))}.HuRPIro{margin-bottom:calc(16px*var(--screen-size-scale));width:calc(250px*var(--screen-size-scale));height:calc(250px*var(--screen-size-scale));background-image:url(https://avatars.mds.yandex.net/get-direct/4442718/Zwfvdtmql8LK5gLU2vS_LQ/x450);background-size:cover}.nDW3XJcjWa{margin-top:calc(40px*var(--screen-size-scale))}.xDrbc2{display:inline-block;padding:calc(24px*var(--screen-size-scale)) calc(36px*var(--screen-size-scale));background:hsla(0,0%,100%,.1);color:#fff;border-radius:calc(100px*var(--screen-size-scale));font-weight:500;font-size:calc(24px*var(--screen-size-scale));line-height:calc(24px*var(--screen-size-scale));pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.gGESmejN{background:#fff;color:#000}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,AbuseSmartTVDisplay:"FKjp",AbuseSmartTVDisplay__content:"NQyXGT8Eyp",AbuseSmartTVDisplay_column_first:"SxEULU8iqz",AbuseSmartTVDisplay_column_second:"Hopo",AbuseSmartTVDisplay_recommendationTitle:"xFYx",AbuseSmartTVDisplay__advertiserInfo:"aPY0HFd",AbuseSmartTVDisplay__newParagraph:"wrCss0pOo",AbuseSmartTVDisplay__qrDirect:"HuRPIro",AbuseSmartTVDisplay__buttonWrapper:"nDW3XJcjWa",AbuseSmartTVDisplay__button:"xDrbc2",AbuseSmartTVDisplay__button_focused:"gGESmejN"},e.exports=a},8977:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,'.DqjLZWMs{display:flex;pointer-events:auto;white-space:nowrap;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.Zx4{padding-top:4px;margin:0 16px 7px;letter-spacing:.01em;color:#fff;opacity:.85;text-shadow:0 0 4px rgba(0,0,0,.75);font-size:12px}.DqjLZWMs>:not(:last-child):after{content:"\u2022";padding:0 .3em}',""]),r.locals={Backpack:"DqjLZWMs",Backpack_defaultStyles_enabled:"Zx4"},e.exports=r},8380:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".leO0{pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.pENlRq{width:100%}",""]),r.locals={BackpackAdLabel:"leO0",BackpackAdLabel_preserveDomain:"pENlRq"},e.exports=r},5770:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".YVN0Mx{}",""]),r.locals={BackpackAdSequence:"YVN0Mx"},e.exports=r},8949:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,'.pjY{position:relative;display:flex;flex-flow:column nowrap;z-index:0;height:100%;width:100%;overflow:visible;justify-content:flex-end}.pjY:before{z-index:-1;content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.004) 6.67%,rgba(0,0,0,.018) 13.33%,rgba(0,0,0,.04) 20%,rgba(0,0,0,.073) 26.67%,rgba(0,0,0,.115) 33.33%,rgba(0,0,0,.165) 40%,rgba(0,0,0,.221) 46.67%,rgba(0,0,0,.278) 53.33%,rgba(0,0,0,.334) 60%,rgba(0,0,0,.384) 66.67%,rgba(0,0,0,.426) 73.33%,rgba(0,0,0,.459) 80%,rgba(0,0,0,.482) 86.67%,rgba(0,0,0,.495) 93.33%,rgba(0,0,0,.5));opacity:.65}.eAm1f:before{content:none}.lQl.pjY:before{top:30px}.ZAe9dQYNH{opacity:1;transition:none}.lQl .ZAe9dQYNH{order:-1;opacity:.01;transition:opacity .3s ease-in-out,order 0s .3s}.CwKmouIvek{margin:0 16px;transition:none}.lQl .CwKmouIvek,.rqDE7ZfG .CwKmouIvek{margin:0;transition:margin 0s .3s}.pjY .mOiI{width:35px;height:35px;padding-right:2px}.BIVHR7p{display:flex;justify-content:space-between;align-items:flex-end}',""]),r.locals={ControlPanel:"pjY",ControlPanel_withoutShadow:"eAm1f",ControlPanel_minimized:"lQl",ControlPanel__controls:"ZAe9dQYNH",ControlPanel__timeLine:"CwKmouIvek",ControlPanel_small:"rqDE7ZfG",ControlPanel__fullscreenButton:"mOiI",ControlPanel__backpackLine:"BIVHR7p"},e.exports=r},6877:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".j4sv3{width:43px;height:43px;display:flex;align-items:center;justify-content:center;cursor:pointer;pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mYGL1HDFA{cursor:default}.j4sv3 svg{color:#fff;opacity:.85}.mYGL1HDFA svg{opacity:.5}.j4sv3:hover svg{opacity:1}.mYGL1HDFA:hover svg{opacity:.5}",""]),r.locals={ControlPanelButton:"j4sv3",ControlPanelButton_disabled:"mYGL1HDFA"},e.exports=r},2048:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".hQfB{display:flex;padding:0 16px;pointer-events:auto}.PJz3afi{position:static}.Ni3C{margin-left:auto}.Ni3C+.Ni3C{margin-left:0}",""]),r.locals={ControlPanelControls:"hQfB",ControlPanelControls__playButton:"PJz3afi",ControlPanelControls__PushRight:"Ni3C"},e.exports=r},4272:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".BL3CNmC svg{height:20px;width:20px}",""]),r.locals={ControlPanelFullscreenButton:"BL3CNmC"},e.exports=r},7711:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".bh1atJq{cursor:pointer;display:flex}.Z3I{will-change:width;width:0;height:43px;position:relative;overflow:hidden;transition:width .2s ease-out}.j3taPyh8aQ .Z3I{width:48px}.YcORiqChlH{position:absolute;left:0;right:0;top:50%;box-shadow:0 0 1px 0 rgba(0,0,0,.75);height:2px;background:#fff;transform:translateY(-50%);opacity:.5}.HxB6yx6nv{position:absolute;top:0;bottom:0;left:0;width:calc(100% - 10px)}.eW2H{position:absolute;background:#fff;width:10px;height:10px;border-radius:5px;top:50%;transform:translateY(-50%);will-change:left}",""]),r.locals={ControlPanelSoundButton:"bh1atJq",ControlPanelSoundButton__SliderContainer:"Z3I",ControlPanelSoundButton_opened:"j3taPyh8aQ",ControlPanelSoundButton__SliderContainerLiner:"YcORiqChlH",ControlPanelSoundButton__SliderContainerThumbContainer:"HxB6yx6nv",ControlPanelSoundButton__SliderContainerThumb:"eW2H"},e.exports=r},3989:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".cmpZ svg{width:20px;height:14px}",""]),r.locals={ControlPanelSubtitlesButton:"cmpZ"},e.exports=r},4675:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".clRhc9Sy{position:relative;height:0}.v98k{position:absolute;height:3px;left:0;width:100%;bottom:0;background-color:rgba(0,0,0,.2);display:flex}.qZnW4BpB{width:100%;border-radius:3px;border-bottom-left-radius:0;border-top-left-radius:0;background-color:#f8cc46}.Fc4vCFWMe{border-radius:0}",""]),r.locals={ControlPanelTimeLine_container:"clRhc9Sy",ControlPanelTimeLine:"v98k",ControlPanelTimeLine__bar:"qZnW4BpB",ControlPanelTimeLine__bar_full:"Fc4vCFWMe"},e.exports=r},8921:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".ptWc{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}.cNYfCYCw{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background-color:rgba(0,0,0,.2);display:grid;align-items:center;justify-items:center;place-items:center;pointer-events:auto;filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}.cNYfCYCw svg{fill:#fff;width:40px;height:43px}.IGQ{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:auto}",""]),r.locals={OverlayLayer__spinnerContainer:"ptWc",OverlayLayer__playButtonContainer:"cNYfCYCw",OverlayLayer__pauseContainer:"IGQ"},e.exports=r},3883:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=i(4946),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".rSBe{font-family:"+o.locals.AD_FONT+";font-size:var(--skin-font-size);color:#fff;position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;display:grid;grid-template-rows:auto 1fr auto auto auto;grid-template-columns:auto auto 1fr auto 35px}@media screen and (max-height:719px){.asZ0{--screen-size-scale:0.667}}@media screen and (min-height:720px) and (max-height:1079px){.asZ0{--screen-size-scale:1}}@media screen and (min-height:1080px) and (max-height:2159px){.asZ0{--screen-size-scale:1.5}}@media screen and (min-height:2160px){.asZ0{--screen-size-scale:3}}.ugab88I{grid-template-rows:auto 1fr auto auto 10%}.US4{grid-row:1;grid-column:1/5;position:relative}.x9ldW{grid-row:3;grid-column:1/-1;overflow:hidden}.fnZ0YSpAr{margin-bottom:.3em}.AeG{grid-area:none;margin:0}.sn46yiDA{grid-row:4;grid-column:4/6;font-size:var(--skin-skip-button-font-size);padding-right:6px;align-self:flex-end}.c50nG2n{position:absolute;z-index:1;top:calc(20px*var(--screen-size-scale));left:calc(20px*var(--screen-size-scale));display:flex;align-items:center;grid-gap:calc(12px*var(--screen-size-scale));gap:calc(12px*var(--screen-size-scale))}.Qxm9Qyn{position:fixed;right:calc(30px*var(--screen-size-scale));bottom:calc(30px*var(--screen-size-scale));font-size:calc(24px*var(--screen-size-scale));font-weight:500}.E9mMtiMI{visibility:hidden}.dQNINOe .n7EriJl4Sr{padding-top:0;padding-bottom:0}.dQNINOe .qMz7Yex{height:"+a.locals.small_button_height+"}.Vm6WAr{grid-row:2/4;grid-column:1/6;padding:10px 36px;min-height:0;min-width:0;position:relative}.BL7kj6cpP{pointer-events:auto}.SEa9ie65 .Vm6WAr,.I54YejKq .Vm6WAr,.I54YejKq.SEa9ie65 .Vm6WAr{grid-row:2/4;grid-column:1/6;padding:10px 20px}.ZpsS{position:relative;grid-row:4;grid-column:1;padding-left:16px;margin-bottom:4px;min-width:0}.h3WDTWA{grid-column:3}.SWqcEDj7d{grid-column:1/6;padding-right:6px}.dQNINOe .ZpsS{padding-left:6px;margin-bottom:0;align-self:flex-end}.dQNINOe .U4sd{margin-right:4px;margin-left:4px;max-width:calc(100% - 8px)}.AcHwfxRk{grid-row:5;grid-column:1/6;display:flex}.Wec,.LdnZYeh9{position:absolute;right:0;bottom:0;left:0}.Wec{height:236px;background:linear-gradient(180deg,transparent,rgba(0,0,0,.01) 6.67%,rgba(0,0,0,.03) 13.33%,rgba(0,0,0,.07) 20%,rgba(0,0,0,.12) 26.67%,rgba(0,0,0,.19) 33.33%,rgba(0,0,0,.27) 40%,rgba(0,0,0,.35) 46.67%,rgba(0,0,0,.45) 53.33%,rgba(0,0,0,.53) 60%,rgba(0,0,0,.61) 66.67%,rgba(0,0,0,.68) 73.33%,rgba(0,0,0,.73) 80%,rgba(0,0,0,.77) 86.67%,rgba(0,0,0,.79) 93.33%,rgba(0,0,0,.8))}.qS7izAkk{position:relative;grid-row:4;grid-column:1/6;display:flex;overflow:hidden;padding:0 16px 8px;align-items:flex-end;justify-content:space-between;grid-gap:12px;gap:12px}.BSbQZ{flex-grow:0;flex-shrink:1;overflow:hidden;max-width:400px}.QpWF9DwauP{display:flex;align-items:flex-end;flex:1 0 0;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;height:100%;min-width:40px}.fEj{min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.k3qZaBp,.d0SSbGu3q{grid-row:4/6;padding-bottom:60px}.k3qZaBp{padding-bottom:65px}.S5bq7V .PlGziM{overflow:hidden}",""]),s.locals={AD_FONT:""+o.locals.AD_FONT,small_button_height:""+a.locals.small_button_height,Skin:"rSBe",Skin_smartTV:"asZ0",Skin_CtaAlwaysOnTenPercentOverBottom:"ugab88I",Skin__TopControlsContainer:"US4",Skin__Subtitles:"x9ldW",Skin__Subtitles_withBottomGap:"fnZ0YSpAr",Skin__Subtitles_absolute:"AeG",Skin__SkipButtonContainer:"sn46yiDA",Skin_smartTV__topPanel:"c50nG2n",Skin_smartTV__skipButtonContainer:"Qxm9Qyn",Skin__SkipButtonContainer_invisible:"E9mMtiMI",Skin_smallControls:"dQNINOe",SkipButton:"n7EriJl4Sr",SkipButton__clickable:"qMz7Yex",Skin__ProductsPackshotContainer:"Vm6WAr",Skin__ProductsPackshotContainer_visible:"BL7kj6cpP",Skin_twoControlLines:"SEa9ie65",Skin_vertical:"I54YejKq",Skin__CtaContainer:"ZpsS",Skin__CtaContainer_actionPanel:"h3WDTWA",Skin__CtaContainer_width_full:"SWqcEDj7d",EcomCta:"U4sd",Skin_BottomControlsContainer:"AcHwfxRk",Skin__BottomFade:"Wec",Skin__DisclaimerContainer:"LdnZYeh9",Skin__CtaAndAlternativeSkipButtonContainer:"qS7izAkk",Skin__ThemeEmptyActionPanelContainer:"BSbQZ",Skin__SkipButtonAlternativeContainer:"QpWF9DwauP",Skin__SkipButtonAlternativeContainer_shrink_disabled:"fEj",Skin__CtaAndAlternativeSkipButtonContainer_isAbuseInside:"k3qZaBp",Skin__CtaContainer_isAbuseInside:"d0SSbGu3q",CallToActionTextContainer:"S5bq7V",CallToActionText:"PlGziM"},e.exports=s},5291:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".SFU{--responsive-multiplier:1;display:flex}.eBGlFq8Yn{margin-top:15px;margin-left:6px}.bhp svg{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#f2f2f2;opacity:1}.VbAN svg{position:relative;top:-2px}",""]),r.locals={TopControlsLayer:"SFU",TopControlsLayer_withLeftTopOffset:"eBGlFq8Yn",TopControlsLayer__Button:"bhp",TopControlsLayer__Button_topFix:"VbAN"},e.exports=r},4995:function(e,t,i){var n=i(7344),r=i(7742),o=i(1574),a=i(9812),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".OOkl{margin:4px 0 0 auto;min-width:0}.Yu9p{margin-top:8px;margin-right:7px}.jN83xea{--forward-bg-color:hsla(0,0%,100%,0.1);display:flex;align-items:center;margin-left:4px;padding:0 8px;height:24px;line-height:24px;font-size:12px;text-shadow:0 0 2px rgba(0,0,0,.75);border-radius:12px;background:linear-gradient(var(--forward-bg-color),var(--forward-bg-color)),rgba(35,37,38,.1);transition:"+o.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+"}.jN83xea:hover{background:linear-gradient(var(--forward-bg-color),var(--forward-bg-color)),rgba(35,37,38,.4)}.Nnfe2y{display:inline-block;height:16px;width:16px;margin:0 6px 0 -2px;border-radius:50%}.UUut{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",""]),s.locals={default_transition_duration:""+o.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,TopGreenUrl:"OOkl",TopGreenUrl_vic:"Yu9p",TopGreenUrl__Link:"jN83xea",TopGreenUrl__Favicon:"Nnfe2y",TopGreenUrl__Text:"UUut"},e.exports=s},5326:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".LIveqYQ{--size:calc(28px*var(--responsive-multiplier));width:var(--size);height:var(--size);padding:4px;cursor:pointer;pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;flex-shrink:0}",""]),r.locals={TopMuteButton:"LIveqYQ"},e.exports=r},8944:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".n2R47{display:flex;justify-content:center;align-items:center;width:36px;height:36px;cursor:pointer;pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.n2R47 svg{flex-shrink:0;pointer-events:none}",""]),r.locals={TopPlayButton:"n2R47"},e.exports=r},2609:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".vNeN60,.Nk5r{display:flex;justify-content:center;align-items:center}.vNeN60{padding:4px;cursor:pointer;pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.Nk5r{--size:calc(28px*var(--responsive-multiplier));box-sizing:border-box;width:var(--size);height:var(--size);padding:calc(4px*var(--responsive-multiplier))}.vNeN60 svg{width:100%;height:100%}",""]),r.locals={TopSubtitlesButton:"vNeN60",TopSubtitlesButton__Inner:"Nk5r"},e.exports=r},1090:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".sk5gm9{pointer-events:auto;position:absolute;top:0;right:0;bottom:0;left:0}",""]),r.locals={UnderlyingLayer:"sk5gm9"},e.exports=r},7804:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".QTPtSZNO{top:4px;right:4px;width:24px;height:24px;cursor:pointer;pointer-events:auto}.ZHX4EGvMxk{position:absolute;z-index:1;width:48px;height:48px;top:20px;left:20px}.QTPtSZNO:not(.HoIEiG8Mqb){position:absolute}.HoIEiG8Mqb{display:flex;align-items:center;justify-content:center;height:100%}.HoIEiG8Mqb:not(.LuuJw2W1b){padding-left:10px;margin-left:-10px;padding-right:10px;margin-right:-10px}.LuuJw2W1b{margin-left:-5px;margin-right:-5px}.dLZ{z-index:2}",""]),r.locals={AbuseBurgerButton:"QTPtSZNO",AbuseBurgerButton_mode_SmartTV:"ZHX4EGvMxk",AbuseBurgerButton_inCta:"HoIEiG8Mqb",AbuseBurgerButton_inCtaSmall:"LuuJw2W1b",AbuseBurgerButton_inFullSize:"dLZ"},e.exports=r},2635:function(e,t,i){var n=i(7344),r=i(7742),o=i(1574),a=i(9812),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".doNbcP5i{display:block;width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:"+o.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+"}.PAUgXUd{display:flex;align-items:center;margin-right:13px}.f3Y0d{margin-left:auto}.doNbcP5i:hover{background-color:#e5f2ff}.doNbcP5i .rvxg1{padding:0}.KmZ2{padding:8px}.tXKU7Ia{height:auto;font-size:15px;line-height:16px}.ACg1xlLGJ{direction:rtl}.ACg1xlLGJ .PAUgXUd{margin-right:0;margin-left:13px}.ACg1xlLGJ .f3Y0d{margin-left:0;margin-right:auto;transform:scaleX(-1)}",""]),s.locals={default_transition_duration:""+o.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseOptionButton:"doNbcP5i",AbuseOptionButton__leftIcon:"PAUgXUd",AbuseOptionButton__rightIcon:"f3Y0d",Button__clickable:"rvxg1",AbuseOptionButton__clickable:"KmZ2",AbuseOptionButton__content:"tXKU7Ia",AbuseOptionButton_direction_rtl:"ACg1xlLGJ"},e.exports=s},5379:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".kBfz72eug{width:100%;height:100%;font-weight:100;fill:#c4c4c4}.UpZ{text-transform:uppercase}",""]),r.locals={DisclaimerSvg:"kBfz72eug",DisclaimerSvg_text:"UpZ"},e.exports=r},7629:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".NwBeY6LP{display:flex;box-sizing:border-box;width:100%;padding:0;font-family:Arial,Helvetica,sans-serif;background:rgba(0,0,0,.4)}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,Disclaimer:"NwBeY6LP"},e.exports=a},4834:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".m3x9xT{max-width:100%;overflow:hidden;pointer-events:all}.yiPdv9NJfa{overflow-x:auto;scrollbar-width:none}.yiPdv9NJfa::-webkit-scrollbar{display:none}.yiPdv9NJfa[data-container_mask=true]{-webkit-mask-image:linear-gradient(90deg,transparent 0,#000 1em,#000 calc(100% - 1em),transparent);mask-image:linear-gradient(90deg,transparent 0,#000 1em,#000 calc(100% - 1em),transparent);-webkit-mask-size:100%;mask-size:100%;-webkit-mask-position:0;mask-position:0;transition:-webkit-mask-image .3s;transition:mask-image .3s;transition:mask-image .3s,-webkit-mask-image .3s}.yiPdv9NJfa[data-container_mask=true][data-left=true]{-webkit-mask-image:linear-gradient(90deg,#000 0,#000 calc(100% - 1em),transparent);mask-image:linear-gradient(90deg,#000 0,#000 calc(100% - 1em),transparent)}.yiPdv9NJfa[data-container_mask=true][data-right=true]{-webkit-mask-image:linear-gradient(90deg,transparent 0,#000 1em,#000);mask-image:linear-gradient(90deg,transparent 0,#000 1em,#000)}",""]),r.locals={container:"m3x9xT",scroller:"yiPdv9NJfa"},e.exports=r},4202:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".XiVARsQI2F{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),r.locals={Spinner:"XiVARsQI2F"},e.exports=r},9879:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".aeMYeZpg{position:relative;z-index:0;height:100%;display:flex;align-items:center}.aeMYeZpg:not(.OrwM8Ov6C){width:30px}.OrwM8Ov6C{width:15px;padding-right:5px;margin-right:-5px;padding-left:5px;margin-left:-5px}",""]),r.locals={AbuseInCta:"aeMYeZpg",AbuseInCta_small:"OrwM8Ov6C"},e.exports=r},4918:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".nblwK{position:relative;display:flex;align-items:flex-end}.jGJF9I{opacity:1;visibility:visible;transition-timing-function:ease-out}.Crw6o{position:absolute;bottom:0;opacity:0;visibility:collapse;transition-timing-function:ease-in}.Y4f .jGJF9I{transition-property:opacity,visibility;transition-duration:.2s}",""]),r.locals={ActionFlip:"nblwK",ActionFlip__Item:"jGJF9I",ActionFlip__Item_hidden:"Crw6o",ActionFlip_mounted:"Y4f"},e.exports=r},1961:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".XD6Ix1giwW{line-height:3;display:flex;align-items:center;box-sizing:border-box;min-width:0;height:2.4em;padding:0 .5em;color:#fff;font-weight:700;font-size:1em;font-family:"+o.locals.AD_FONT+";white-space:nowrap;background-color:#37f;border-radius:4px;cursor:pointer;pointer-events:auto}.lN1ANRZW{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.vlD{height:2.1em;font-size:.9em}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,ActionButton:"XD6Ix1giwW",ActionButton__textWrapper:"lN1ANRZW",ActionButton__content_small:"vlD"},e.exports=a},7845:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".mRbiIy{flex:1 1 0;margin-right:13px;color:#fff;font-weight:700;font-size:1em;font-family:"+o.locals.AD_FONT+";line-height:1.3;min-width:0}.d6DBbg{max-width:10em}.lbG0Cvv{line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.O1d8GEud{white-space:nowrap}.oJ5nwJUnX,.O1d8GEud{font-weight:400;font-size:.8em}.O1d8GEud,.lbG0Cvv{overflow:hidden;text-overflow:ellipsis}.lCRVq .O1d8GEud{font-size:1.2em}.uE7 .O1d8GEud{font-size:1.4em}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,InfoBlock:"mRbiIy",InfoBlock_fixed:"d6DBbg",InfoBlock__title:"lbG0Cvv",InfoBlock__greenUrl:"O1d8GEud",InfoBlock__ageRestriction:"oJ5nwJUnX",InfoBlock_domain_s:"lCRVq",InfoBlock_domain_m:"uE7"},e.exports=a},5084:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=i(6174),s=i(466),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".qzH{height:100%;font-family:"+o.locals.AD_FONT+"}.TGGzNpw{cursor:pointer;pointer-events:auto;height:4em;max-width:100%}.Ha7S,.fEwLXx9E{position:relative;height:100%}.fEwLXx9E{display:flex;align-items:center;box-sizing:border-box;padding:0 10px;background-color:"+s.locals.button_active_background_color+";border-radius:4px;-webkit-backdrop-filter:"+a.locals.button_backdrop_filter+";backdrop-filter:"+a.locals.button_backdrop_filter+"}.gY9i,.c3bxwZz{max-width:calc(23.33333em + 20px)}.gY9i{max-width:auto}.c3bxwZz{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.tuBe{padding-left:0}.tWa3r{display:flex;flex-shrink:0;align-items:center;justify-content:center;width:32px;height:32px;margin-right:14.5px}.cBIgoL{display:flex;flex-wrap:nowrap;align-items:center;overflow:hidden}.tWa3r img{border-radius:2px;width:100%;height:100%}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,button_backdrop_filter:""+a.locals.button_backdrop_filter,button_active_background_color:""+s.locals.button_active_background_color,ActionPanel:"qzH",ActionPanel__clickableLayer:"TGGzNpw",ActionPanel__content:"Ha7S",ActionPanel__mask:"fEwLXx9E",ActionPanel__clickableLayer_fixed:"gY9i",ActionPanel__mask_fixed:"c3bxwZz",ActionPanel__mask_withoutOffsetLeft:"tuBe",ActionPanel__favicon:"tWa3r",ActionPanel__wrapper:"cBIgoL"},e.exports=l},3780:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=i(466),s=i(4946),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".yp2aPZ{max-width:100%}.ZPp{max-width:auto}.pmQ3WiXkJ{padding:4px;cursor:pointer;pointer-events:auto}.q75aOQq3{position:relative;display:flex;align-items:center;height:"+s.locals.small_button_height+";background-color:"+a.locals.button_active_background_color+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);padding-left:4px}.yBoqFVRG:hover .q75aOQq3{background-color:"+a.locals.button_hovered_background_color+"}.hRvtcFFIT{width:100%;height:100%;border-radius:4px}.bjicK{display:flex;align-items:center;width:20px;min-width:20px;height:20px;margin-right:.35em;font-size:2em;padding-left:3px}.zqieYa{display:inline-block;margin-right:8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.MZbHE{max-width:90px}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,button_hovered_background_color:""+a.locals.button_hovered_background_color,button_active_background_color:""+a.locals.button_active_background_color,middle_button_height:""+s.locals.middle_button_height,small_button_height:""+s.locals.small_button_height,ClickThrough:"yp2aPZ",ClickThrough_fixed:"ZPp",ActionPanelSmall__clickableContainer:"pmQ3WiXkJ",ActionPanelSmall:"q75aOQq3",ActionPanelSmall__container:"yBoqFVRG",ActionPanelSmall__favIcon:"hRvtcFFIT",ActionPanelSmall__favIconContainer:"bjicK",ActionPanelSmall__label:"zqieYa",ActionPanelSmall__label_fixed:"MZbHE"},e.exports=l},2791:function(e,t,i){var n=i(7344),r=i(7742),o=i(393),a=r(n);a.i(o,"",!0),a.push([e.id,".D1GuH9Ar{--margin-space:"+o.locals.default_scroller_transparency_width+";margin-right:calc(8px - var(--margin-space));margin-left:calc(-1*var(--margin-space));padding-left:var(--margin-space);padding-right:var(--margin-space);flex:1 1 0;overflow:hidden}.Iu4Ubw2{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:700;font-size:12px;color:#fff}.St6z{display:flex;justify-content:flex-start;opacity:.6;color:#fff;align-items:center}.msfpSzsz{width:16px;height:16px;transform:scale(.6) translateY(-2px)}.YpxRRDXOQ{font-weight:500;font-size:10px;line-height:1;letter-spacing:.02em}",""]),a.locals={default_scroller_transparency_width:""+o.locals.default_scroller_transparency_width,RmpInfoBlock:"D1GuH9Ar",RmpInfoBlock__label:"Iu4Ubw2",RmpInfoBlock__ratingContainer:"St6z",RmpInfoBlock__ratingStar:"msfpSzsz",RmpInfoBlock__ratingText:"YpxRRDXOQ"},e.exports=a},4610:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".XD6Ix1giwW{all:unset;display:flex;justify-content:center;align-items:center;height:100%;padding:0 4px 0 6px;grid-gap:4px;gap:4px;border-radius:6px;background:#3d7bf5}.XD6Ix1giwW .MI8i{font-style:normal;font-weight:700;white-space:nowrap}.XD6Ix1giwW .AQXoCkS51{font-size:11px;line-height:14px}.XD6Ix1giwW .Jd0rWlAES{font-size:13px;line-height:16px}.XD6Ix1giwW.uXxTHx{width:100%}.XD6Ix1giwW.yGMXla7HUz{height:38px}",""]),r.locals={ActionButton:"XD6Ix1giwW",ActionButton__buttonText:"MI8i",ActionButton__buttonText_size_small:"AQXoCkS51",ActionButton__buttonText_size_middle:"Jd0rWlAES",ActionButton_width_100:"uXxTHx",ActionButton_height_38:"yGMXla7HUz"},e.exports=r},7213:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".mRbiIy{font-family:"+o.locals.AD_FONT+";display:flex;padding:2px 0;flex-direction:column;align-items:flex-start;grid-gap:2px;gap:2px;flex:1 1 0;overflow:hidden;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.O1d8GEud,.lbG0Cvv{font-size:11px;line-height:13px;white-space:nowrap;max-width:100%}.O1d8GEud{font-weight:400;white-space:nowrap}.lbG0Cvv{font-weight:700}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,InfoBlock:"mRbiIy",InfoBlock__greenUrl:"O1d8GEud",InfoBlock__title:"lbG0Cvv"},e.exports=a},1271:function(e,t,i){var n=i(7344),r=i(7742),o=i(6174),a=i(466),s=i(621),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".g4J52{font-family:"+s.locals.AD_FONT+";display:flex;flex-direction:row;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:min(400px,100%);max-height:104px;grid-gap:6px;gap:6px;overflow:hidden}.g4J52,.sEA>*{box-sizing:border-box}.g4J52 .sEA{display:flex;flex-direction:column;grid-gap:6px;gap:6px;max-width:100%}.g4J52 .yrT,.g4J52 .Wfetz3dT8W{min-width:16px;min-height:16px;width:16px;height:16px}.g4J52 .yfGl9a{display:flex;grid-gap:4px;gap:4px}.g4J52 .kBY0J{display:flex;align-items:baseline;grid-gap:4px;gap:4px;overflow:hidden}.g4J52 .Mj6EL2eSE{font-size:12px;line-height:15px;font-weight:700;overflow:hidden;white-space:nowrap}.g4J52 .DKId{display:flex;flex-direction:row;align-items:center;font-size:9px;font-weight:500;line-height:100%;letter-spacing:.09px;text-shadow:0 1px 1px rgba(0,0,0,.05),0 2px 2px rgba(0,0,0,.05),0 4px 4px rgba(0,0,0,.05),0 0 8px rgba(0,0,0,.05),0 0 16px rgba(0,0,0,.05);opacity:.4}.g4J52 .zIxPt4nCWJ{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;overflow:hidden;font-size:16px;line-height:20px;font-weight:700}",""]),l.locals={button_backdrop_filter:""+o.locals.button_backdrop_filter,button_inactive_background_color:""+a.locals.button_inactive_background_color,button_active_background_color:""+a.locals.button_active_background_color,AD_FONT:""+s.locals.AD_FONT,BigActionPanel:"g4J52",BigActionPanel__content:"sEA",BigActionPanel__faviconContainer:"yrT",BigActionPanel__faviconImg:"Wfetz3dT8W",BigActionPanel__header:"yfGl9a",BigActionPanel__urlAndAdLabel:"kBY0J",BigActionPanel__url:"Mj6EL2eSE",BigActionPanel__adLabel:"DKId",BigActionPanel__title:"zIxPt4nCWJ"},e.exports=l},5237:function(e,t,i){var n=i(7344),r=i(7742),o=i(6174),a=i(466),s=i(621),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".Up9{font-family:"+s.locals.AD_FONT+";display:flex;flex-direction:row;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:min(400px,100%);height:46px;padding:4px 4px 4px 6px;grid-gap:6px;gap:6px;border-radius:8px;background-color:"+a.locals.button_active_background_color+";-webkit-backdrop-filter:"+o.locals.button_backdrop_filter+";backdrop-filter:"+o.locals.button_backdrop_filter+';overflow:hidden}.Up9,.Up9 *{box-sizing:border-box}.Up9 .juJmY,.Up9 .bgd5bc{min-width:24px;min-height:24px;width:24px;height:24px}.Up9 .P5Q8ywC{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;overflow:hidden;font-size:13px;line-height:17px}.Up9 .P5Q8ywC>:not(:last-child):after{content:"\u2022";padding:0 .3em}.Up9 .qa8{font-weight:700}.Up9 .GTn{box-sizing:content-box}',""]),l.locals={button_backdrop_filter:""+o.locals.button_backdrop_filter,button_inactive_background_color:""+a.locals.button_inactive_background_color,button_active_background_color:""+a.locals.button_active_background_color,AD_FONT:""+s.locals.AD_FONT,MiddleActionPanel:"Up9",MiddleActionPanel__faviconContainer:"juJmY",MiddleActionPanel__faviconImg:"bgd5bc",MiddleActionPanel__text:"P5Q8ywC",MiddleActionPanel__title:"qa8",MiddleActionPanel__abuseButton:"GTn"},e.exports=l},6883:function(e,t,i){var n=i(7344),r=i(7742),o=i(6174),a=i(466),s=i(621),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".daO6kKBO{display:block;position:relative;overflow:hidden;font-family:"+s.locals.AD_FONT+";height:36px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:min(400px,100%);border-radius:8px;background-color:"+a.locals.button_active_background_color+";-webkit-backdrop-filter:"+o.locals.button_backdrop_filter+";backdrop-filter:"+o.locals.button_backdrop_filter+"}.daO6kKBO,.daO6kKBO *{box-sizing:border-box}.daO6kKBO .hgGvhIN{height:100%;display:flex;flex-direction:row;align-items:center;padding:2px 2px 2px 6px;grid-gap:6px;gap:6px}.daO6kKBO .ar8U{min-width:216px}.daO6kKBO .fPUso9yfSq{padding-left:2px}.daO6kKBO .WSVtNk2d{overflow:hidden;display:flex;flex:1;align-items:center;grid-gap:inherit;gap:inherit}.daO6kKBO .YGZFSik{min-width:24px;min-height:24px;width:24px;height:24px}.daO6kKBO .SAnQif1Xe{box-sizing:content-box}.daO6kKBO .amgIL{position:absolute;display:flex;top:100%;left:0;padding:5px 6px;font-size:11px;height:100%;width:100%;align-items:center}.daO6kKBO .bFgexg{margin-left:auto}.daO6kKBO .mrITPYXGz{transform:translateY(0);transition:transform .3s ease-in-out}.daO6kKBO .kZFM{transform:translateY(-100%)}",""]),l.locals={button_backdrop_filter:""+o.locals.button_backdrop_filter,button_inactive_background_color:""+a.locals.button_inactive_background_color,button_active_background_color:""+a.locals.button_active_background_color,AD_FONT:""+s.locals.AD_FONT,SmallActionPanel:"daO6kKBO",SmallActionPanel__content:"hgGvhIN",SmallActionPanel__content__minWidth_216:"ar8U",SmallActionPanel__content_left_padding_disable:"fPUso9yfSq",SmallActionPanel__faviconDomainContainer:"WSVtNk2d",SmallActionPanel__faviconImg:"YGZFSik",SmallActionPanel__abuseButton:"SAnQif1Xe",SmallActionPanel__title:"amgIL",SmallActionPanel__spaceElement:"bFgexg",SmallActionPanel__slider:"mrITPYXGz",SmallActionPanel__slider_moving:"kZFM"},e.exports=l},765:function(e,t,i){var n=i(7344),r=i(7742),o=i(621),a=r(n);a.i(o,"",!0),a.push([e.id,".lhG{box-sizing:border-box;display:flex;align-items:center;justify-content:center;color:#fff;background-color:#37f;border-radius:100%;cursor:pointer;pointer-events:auto}.Nl8NNRLLGP{width:50%;height:50%}.u2X7UsO{padding-left:1px;min-width:32px;width:32px;height:32px}.NsozpC1{padding-left:.5px;min-width:16px;width:16px;height:16px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,RoundActionButton:"lhG",RoundActionButton__Icon:"Nl8NNRLLGP",RoundActionButton_size_m:"u2X7UsO",RoundActionButton_size_s:"NsozpC1"},e.exports=a},3875:function(e,t,i){var n=i(7344),r=i(7742),o=i(393),a=r(n);a.i(o,"",!0),a.push([e.id,".UlgB7Io{position:relative;overflow:hidden}.DEUapAOp7L{--scroller-transparency-width:"+o.locals.default_scroller_transparency_width+";--scroller-hide-both-side-gradient:linear-gradient(90deg,transparent,#000 var(--scroller-transparency-width),#000 calc(100% - var(--scroller-transparency-width)),transparent);-webkit-mask-image:var(--scroller-hide-both-side-gradient);mask-image:var(--scroller-hide-both-side-gradient);position:relative}.M7cXo6TgP{margin:0 calc(-1*var(--scroller-transparency-width));padding:0 var(--scroller-transparency-width)}.DEUapAOp7L .ePIUA{display:inline-block;position:relative;animation:var(--scroll-animation-name) var(--scroll-animation-duration) linear infinite}.UlgB7Io[data-paused] .ePIUA{animation-play-state:paused}",""]),a.locals={default_scroller_transparency_width:""+o.locals.default_scroller_transparency_width,AnimatedScrolling:"UlgB7Io",AnimatedScrolling_animation:"DEUapAOp7L",AnimatedScrolling_margin_negative:"M7cXo6TgP",AnimatedScrolling__content:"ePIUA"},e.exports=a},4641:function(e,t,i){var n=i(7344),r=i(7742),o=i(6174),a=i(466),s=i(621),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".VNQUyKH{width:100%;height:100%;font-family:"+s.locals.AD_FONT+";font-size:var(--base-action-panel-font-size);max-width:var(--base-action-panel-max-width)}.nZH2r3d{display:flex}.bYJBE{overflow:hidden;cursor:pointer;pointer-events:auto;height:var(--base-action-panel-height);width:var(--base-action-panel-width)}.gGltA{position:relative;max-width:100%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%}.gHK{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:100%;height:100%;padding:0 10px;background-color:"+a.locals.button_active_background_color+";border-radius:var(--base-action-panel-border-radius);-webkit-backdrop-filter:"+o.locals.button_backdrop_filter+";backdrop-filter:"+o.locals.button_backdrop_filter+";max-width:calc(23.33333em + 15px)}.MMYuW6MW9{padding-left:0}.pqqsA3{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:var(--base-action-panel-favicon-border-radius);transform:translateY(-50%)}.pqqsA3 img{border-radius:var(--base-action-panel-favicon-image-border-radius);width:100%;height:100%}.i37JVAi28C{left:30px}.WXqZCaU83E{width:100%;display:flex;flex-wrap:nowrap;align-items:center;padding-left:var(--base-action-panel-wrapper-margin-left);overflow:hidden}.Z9yixnaZ{padding-left:10px}",""]),l.locals={button_backdrop_filter:""+o.locals.button_backdrop_filter,button_active_background_color:""+a.locals.button_active_background_color,AD_FONT:""+s.locals.AD_FONT,BaseActionPanel:"VNQUyKH",BaseActionPanel_flex:"nZH2r3d",BaseActionPanel__clicableLayer:"bYJBE",BaseActionPanel__content:"gGltA",BaseActionPanel__mask:"gHK",BaseActionPanel__mask_withoutOffsetLeft:"MMYuW6MW9",BaseActionPanel__favicon:"pqqsA3",BaseActionPanel__favicon_offsetLeft:"i37JVAi28C",BaseActionPanel__wrapper:"WXqZCaU83E",BaseActionPanel__wrapper_wide:"Z9yixnaZ"},e.exports=l},2068:function(e,t,i){var n=i(7344),r=i(7742),o=i(466),a=i(4946),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".L4osZeQz6x{display:flex;align-items:center;height:"+a.locals.small_button_height+";background-color:"+o.locals.button_active_background_color+";border-radius:var(--base-small-action-panel-border-radius);-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);padding:var(--base-small-action-panel-padding);box-sizing:border-box;position:relative;max-width:100%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;font-size:12px;color:#fff}.c1GHemsPg{box-sizing:border-box;padding:4px;cursor:pointer;pointer-events:auto;max-width:var(--base-small-action-panel-clickable-container-max-width)}.c1GHemsPg:hover .L4osZeQz6x{background-color:"+o.locals.button_hovered_background_color+"}.dVfPUkYlD{width:100%;height:100%;border-radius:4px}.wjR8tlEr{display:flex;align-items:center;width:var(--base-small-action-panel-favicon-size);min-width:var(--base-small-action-panel-favicon-size);height:var(--base-small-action-panel-favicon-size);margin-right:.35em;font-size:2em;padding-left:3px}.zaVn{display:inline-block;margin-right:8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:var(--base-small-action-panel-label-max-width);font-weight:var(--base-small-action-panel-label-font-weight)}",""]),s.locals={button_active_background_color:""+o.locals.button_active_background_color,button_hovered_background_color:""+o.locals.button_hovered_background_color,small_button_height:""+a.locals.small_button_height,BaseSmallActionPanel:"L4osZeQz6x",BaseSmallActionPanel__clickableContainer:"c1GHemsPg",BaseSmallActionPanel__favIcon:"dVfPUkYlD",BaseSmallActionPanel__favIconContainer:"wjR8tlEr",BaseSmallActionPanel__label:"zaVn"},e.exports=s},5108:function(e,t,i){var n=i(7344),r=i(7742),o=i(6326),a=i(6174),s=i(466),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".qMz7Yex{all:unset;position:relative;display:inline-block;height:3em;padding:4px;color:#fff;font-weight:"+o.locals.AD_FONT_WEIGHT+";text-shadow:0 2px 2px rgba(0,0,0,.1);cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.n7EriJl4Sr{position:relative;display:flex;box-sizing:border-box;height:100%;padding:.17em;background-color:"+s.locals.button_inactive_background_color+";border-radius:.5em;opacity:.7;-webkit-backdrop-filter:"+a.locals.button_backdrop_filter+";backdrop-filter:"+a.locals.button_backdrop_filter+"}.yxNK{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:calc(24px*var(--screen-size-scale)) calc(36px*var(--screen-size-scale));background:rgba(0,0,0,.25);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:calc(100px*var(--screen-size-scale))}.qoK{background:linear-gradient(0deg,hsla(0,0%,100%,.3),hsla(0,0%,100%,.3)),rgba(0,0,0,.25)}.kO1YI{background:rgba(0,0,0,.25)}.kO1YI.qoK{background:#fff;color:rgba(14,14,15,.89804)}.H6zO{width:calc(27px*var(--screen-size-scale))}.QFh{opacity:.3;font-size:calc(24px*var(--screen-size-scale));font-weight:500;line-height:calc(24px*var(--screen-size-scale))}.qoK .QFh{opacity:.5}.kO1YI .QFh{opacity:1}.qJp+.H6zO{margin-left:calc(6px*var(--screen-size-scale))}.S8RT{cursor:pointer}.S8RT>.n7EriJl4Sr{background-color:"+s.locals.button_active_background_color+";opacity:1}.qMz7Yex.S8RT:focus>.n7EriJl4Sr,.qMz7Yex.S8RT:hover>.n7EriJl4Sr{background-color:"+s.locals.button_hovered_background_color+"}.TXM7uOFfN,.PWbT{display:flex;align-items:center;height:100%}.PWbT{justify-content:center;width:2.5em}.emakaSMa{margin-left:.8em}.RZn{height:100%;border-radius:4px}.Ww8S3Zq9Xk{width:100%}.sPfbKf{display:inline-block;width:50%;text-align:right}.DHg{display:inline-block;width:50%}.vYty6XFrOu{width:.8em;height:1.2em}.RwuK1Y1{border-radius:12px}",""]),l.locals={AD_FONT_WEIGHT:""+o.locals.AD_FONT_WEIGHT,button_backdrop_filter:""+a.locals.button_backdrop_filter,button_inactive_background_color:""+s.locals.button_inactive_background_color,button_active_background_color:""+s.locals.button_active_background_color,button_hovered_background_color:""+s.locals.button_hovered_background_color,SkipButton__clickable:"qMz7Yex",SkipButton:"n7EriJl4Sr",SkipButton_smartTV:"yxNK",SkipButton_smartTV_focused:"qoK",SkipButton_smartTV_active:"kO1YI",SkipButton_smartTV__timeToSkip:"H6zO",SkipButton_smartTV__text:"QFh",SkipButton_smartTV__skipTitle:"qJp",SkipButton_active:"S8RT",SkipButton__contentLeft:"TXM7uOFfN",SkipButton__contentRight:"PWbT",SkipButton__skipText:"emakaSMa",SkipButton__leftImage:"RZn",SkipButton__timeToSkipString:"Ww8S3Zq9Xk",SkipButton__timeToSkipString__leftDigit:"sPfbKf",SkipButton__timeToSkipString__rightDigit:"DHg",SkipButton__icon:"vYty6XFrOu",SkipButton_rmpVersion:"RwuK1Y1"},e.exports=l},8246:function(e,t,i){var n=i(7344),r=i(7742),o=i(6326),a=i(6174),s=i(466),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".Rohor4{all:unset;box-sizing:border-box;position:relative;display:flex;justify-content:center;align-items:center;height:100%;padding-left:12px;padding-right:12px;border-radius:6px;opacity:.7;-webkit-backdrop-filter:"+a.locals.button_backdrop_filter+";backdrop-filter:"+a.locals.button_backdrop_filter+";background-color:"+s.locals.button_inactive_background_color+";font-size:13px;font-weight:700;line-height:16px;min-width:40px;overflow:hidden;pointer-events:auto}.YdT4DT3My{opacity:1;background-color:"+s.locals.button_active_background_color+";cursor:pointer}.xbUwKEvg{width:16px;height:16px}.E79o{display:flex;flex-direction:row-reverse;align-items:center;justify-content:center;width:100%;max-height:16px;grid-gap:4px;gap:4px;overflow:hidden;flex-wrap:wrap}.d03uO{height:100%;border-radius:4px}",""]),l.locals={AD_FONT_WEIGHT:""+o.locals.AD_FONT_WEIGHT,button_backdrop_filter:""+a.locals.button_backdrop_filter,button_inactive_background_color:""+s.locals.button_inactive_background_color,button_active_background_color:""+s.locals.button_active_background_color,button_hovered_background_color:""+s.locals.button_hovered_background_color,ThemeEmptySkipButton:"Rohor4",ThemeEmptySkipButton_active:"YdT4DT3My",ThemeEmptySkipButton__icon:"xbUwKEvg",ThemeEmptySkipButton__content:"E79o",ThemeEmptySkipButton__poster:"d03uO"},e.exports=l},3002:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".iDyyPff0{--stw-max-width:100%;font-size:0;pointer-events:none}.r35Q{text-align:center}.KGsfPjDUH{position:absolute;top:0;left:0;width:100%;width:var(--stw-max-width);height:100%;font:var(--stw-font);pointer-events:none}.VeE{display:inline-block;white-space:nowrap}.n2g,.vMPy{display:inline-block;font:var(--stw-font)}",""]),r.locals={SplitTextLinesWrapper__container:"iDyyPff0",SplitTextLinesWrapper__lines:"r35Q",SplitTextLinesWrapper__canvas:"KGsfPjDUH",SplitTextLinesWrapper__textLine:"VeE",SplitTextLinesWrapper__char:"n2g",SplitTextLinesWrapper__word:"vMPy"},e.exports=r},355:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,".J36Enwh{animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-fill:balance;grid-column-gap:normal;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-feature-settings:normal;font-variant:normal;font-weight:400;font-stretch:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;all:initial;display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;pointer-events:none;font-size:16px;overflow:hidden;line-height:normal}",""]),r.locals={AdDisplayControllerSkinContainer:"J36Enwh"},e.exports=r},4946:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,"",""]),r.locals={small_button_height:"32px",middle_button_height:"40px",small_button_left_right_margin:"8px",middle_button_left_right_margin:"12px"},e.exports=r},393:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,"",""]),r.locals={default_scroller_transparency_width:"10px"},e.exports=r},621:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,"",""]),r.locals={AD_FONT:"YS Text Variable, YS Text, Arial, sans-serif"},e.exports=r},6326:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,"",""]),r.locals={AD_FONT_WEIGHT:"500"},e.exports=r},6174:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,"",""]),r.locals={button_backdrop_filter:"blur(8px)"},e.exports=r},466:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,"",""]),r.locals={button_inactive_background_color:"rgba(38, 38, 38, 0.3)",button_active_background_color:"rgba(38, 38, 38, 0.65)",button_hovered_background_color:"rgba(0, 0, 0, 0.65)"},e.exports=r},1574:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,"",""]),r.locals={default_transition_duration:"100ms"},e.exports=r},9812:function(e,t,i){var n=i(7344),r=i(7742)(n);r.push([e.id,"",""]),r.locals={default_transition_timing_function:"ease-in"},e.exports=r},7742:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n="undefined"!==typeof t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,r,o){"string"===typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);n&&a[c[0]]||("undefined"!==typeof o&&("undefined"===typeof c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},7344:function(e){"use strict";e.exports=function(e){return e[1]}},9503:function(e,t,i){"use strict";function n(e,t,i,n,r,o,a){var s,l,d=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:o},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:a};t="_moatApi"+Math.floor(1e8*Math.random());try{l=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,l=window}return l[t]=u,d.type="text/javascript",e&&e.insertBefore(d,e.childNodes[0]||null),d.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+r+"/moat/"+n+"/moatvideo.js#"+t,u}i.r(t),i.d(t,{initMoatTracking:function(){return n}})},6416:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HAS_URL=void 0,t.HAS_URL=(()=>{try{return new URL("https://yandex.ru"),!0}catch(e){return!1}})()},5878:function(e,t,i){"use strict";var n=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.CSPLogger=void 0;const r=i(6416),o=i(8298);t.CSPLogger=class{constructor(e,t){void 0===t&&(t={});var{url:i="https://csp.yandex.net/csp"}=e,r=n(e,["url"]);this.additional=t,this.cspEventListener=e=>{try{const t=new URL(e.blockedURI);if(this.url===t.origin+t.pathname&&"1"===t.searchParams.get("js_client"))return this.unsubscribe(),void(console.warn&&console.warn("URL for logging CSP was blocked"))}catch(r){}const t={"csp-report":{"blocked-uri":e.blockedURI,"column-number":e.columnNumber,disposition:e.disposition,"document-uri":e.documentURI,"effective-directive":e.effectiveDirective,"line-number":e.lineNumber,"original-policy":e.originalPolicy,referrer:e.referrer,"script-sample":e.sample,"status-code":e.statusCode,"violated-directive":e.violatedDirective}},i=JSON.stringify(t),n=this.addParamsToUrl(this.url,Object.assign(Object.assign(Object.assign({},this.config),this.additional),{js_client:"1"}));o.sendLog(n,i)},this.url=i,this.config=r}setAdditional(e){this.additional=Object.assign(Object.assign({},this.additional),e)}addParamsToUrl(e,t){const i=new URL(e);for(const n in t){const e=t[n];e&&"string"===typeof e&&t.hasOwnProperty(n)&&i.searchParams.append(n,e)}return i.toString()}subscribe(e){void 0===e&&(e=document),"onsecuritypolicyviolation"in document&&r.HAS_URL&&e.addEventListener("securitypolicyviolation",this.cspEventListener)}unsubscribe(e){void 0===e&&(e=document),e.removeEventListener("securitypolicyviolation",this.cspEventListener)}}},8298:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendLog=void 0,t.sendLog=function(e,t){if(navigator.sendBeacon&&navigator.sendBeacon(e,t))return;const i=new XMLHttpRequest;i.open("POST",e),i.send(t)}},2860:function(e){function t(){var e;this.getSetting=function(e){var t=this._errorSettings[e];return null===t?null:t||""},function(e,t){function i(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function n(e){return"boolean"===typeof e&&(e=+e),"number"===typeof e?e+"":null}var r={client:["690.2354",1e3,100,0],uncaught:["690.2361",100,10,0],external:["690.2854",100,10,0],script:["690.2609",100,10,0]},o={};t.ERROR_LEVEL={INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error",FATAL:"fatal"},t._errorSettings={clck:"https://yandex.ru/clck/click",beacon:!0,project:"unknown",page:"",env:"",experiments:[],additional:{},platform:"",region:"",dc:"",host:"",service:"",level:"",version:"",yandexuid:"",loggedin:!1,coordinates_gp:"",referrer:!0,preventError:!1,unhandledRejection:!1,traceUnhandledRejection:!1,uncaughtException:!0,debug:!1,limits:{},silent:{},filters:{},pageMaxAge:864e6,initTimestamp:+new Date};var a=!1;t.initErrors=function(n){var r=i(t._errorSettings,n);a||(r.uncaughtException&&function(){var i=t._errorSettings;if(e.addEventListener)e.addEventListener("error",s),i.resourceFails&&e.addEventListener("error",l,!0),"Promise"in e&&i.unhandledRejection&&e.addEventListener("unhandledrejection",(function(e){var i,n,r=e.reason,o={};r&&(r.stack&&r.message?(i=r.message,n=r.stack):(i=String(r),n=t._parseTraceablePromiseStack(e.promise),"[object Event]"===i?i="event.type: "+r.type:"[object Object]"===i&&(o.unhandledObject=r)),r.target&&r.target.src&&(o.src=r.target.src),s({message:"Unhandled rejection: "+i,stack:n,additional:o}))}));else{var n=e.onerror;e.onerror=function(e,t,i,r,o){s({error:o||new Error(e||"Empty error"),message:e,lineno:i,colno:r,filename:t}),n&&n.apply(this,arguments)}}}(),r.unhandledRejection&&r.traceUnhandledRejection&&t._traceUnhandledRejection&&t._traceUnhandledRejection(),a=!0)},t.updateErrors=function(e){i(t._errorSettings,e)},t.updateAdditional=function(e){t._errorSettings.additional=i(t._errorSettings.additional||{},e)},t._handleError=function(e,n,a){var s,l,d=t._errorSettings;if(d.preventError&&e.preventDefault&&e.preventDefault(),n)s=e,l="client";else{s=t._normalizeError(e),l=s.type;var c=d.onError;"function"===typeof c&&c(s);var u=d.transform;if("function"===typeof u&&(s=u(s)),!s)return;s.settings&&(a=s.settings)}var h=+new Date,p=d.initTimestamp,m=d.pageMaxAge;if(!(-1!==m&&p&&p+m<h)){var v=r[l][1];"number"===typeof d.limits[l]&&(v=d.limits[l]);var g=r[l][2];"number"===typeof d.silent[l]&&(g=d.silent[l]);var f=r[l][3];if(f<v||-1===v){s.path=r[l][0];var A=t._getErrorData(s,{silent:f<g||-1===g?"no":"yes",isCustom:Boolean(n)},i(i({},d),a)),_=function(e){o[s.message]=!1,t._sendError(e.path,e.vars),r[l][3]++}.bind(this,A);if("undefined"===typeof d.throttleSend)_();else{if(o[s.message])return;o[s.message]=!0,setTimeout(_,d.throttleSend)}}}},t._getReferrer=function(t){var i=t.referrer,n=typeof i;return"function"===n?i():"string"===n&&i?i:!1!==i&&e.location?e.location.href:void 0},t.getErrorSetting=function(e){return t._errorSettings[e]},t._buildExperiments=function(e){return e instanceof Array?e.join(";"):""},t._buildAdditional=function(e,t){var n="";try{var r=i(i({},e),t);0!==Object.keys(r).length&&(n=JSON.stringify(r))}catch(o){}return n},t._getErrorData=function(i,r,o){r=r||{};var a=t._buildExperiments(o.experiments),s=t._buildAdditional(o.additional,i.additional),l={"-stack":i.stack,"-url":i.file,"-line":i.line,"-col":i.col,"-block":i.block,"-method":i.method,"-msg":i.message,"-env":o.env,"-external":i.external,"-externalCustom":i.externalCustom,"-project":o.project,"-service":i.service||o.service,"-page":i.page||o.page,"-platform":o.platform,"-level":i.level,"-experiments":a,"-version":o.version,"-region":o.region,"-dc":o.dc,"-host":o.host,"-yandexuid":o.yandexuid,"-loggedin":o.loggedin,"-coordinates_gp":i.coordinates_gp||o.coordinates_gp,"-referrer":t._getReferrer(o),"-source":i.source,"-sourceMethod":i.sourceMethod,"-type":r.isCustom?i.type:"","-additional":s,"-adb":n(Ya.blocker)||n(o.blocker),"-cdn":e.YaStaticRegion,"-ua":navigator.userAgent,"-silent":r.silent,"-ts":+new Date,"-init-ts":o.initTimestamp};return o.debug&&e.console&&console[console[i.level]?i.level:"error"]("[error-counter] "+i.message,l,i.stack),{path:i.path,vars:l}},t._baseNormalizeError=function(e){var t=(e=e||{}).error,i=e.filename||e.fileName||"",n=t&&t.stack||e.stack||"",r=e.message||"",o=t&&t.additional||e.additional;return{file:i,line:e.lineno||e.lineNumber,col:e.colno||e.colNumber,stack:n,message:r,additional:o}},t._normalizeError=function(e){var i=t._baseNormalizeError(e),n="uncaught",r=t._isExternalError(i.file,i.message,i.stack),o="",a="";return r.hasExternal?(n="external",o=r.common,a=r.custom):/^Script error\.?$/.test(i.message)&&(n="script"),i.external=o,i.externalCustom=a,i.type=n,i},t._createVarsString=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&(e[i]||0===e[i])&&t.push(i+"="+encodeURIComponent(e[i]).replace(/\*/g,"%2A"));return t.join(",")},t._sendError=function(e,i){t.send(null,e,t._createVarsString(i),null,null,null,null)};var s=function(e){t._handleError(e,!1)},l=function(e){var i=e.target;if(i){var n=i.srcset||i.src;if(n||(n=i.href),n){var r=i.tagName||"UNKNOWN";t.logError({message:r+" load error",additional:{src:n}})}}};t._parseTraceablePromiseStack=function(){}}("undefined"!==typeof self?self:window,this),(e=this).logError=function(t,i,n){t=t||{},"string"!==typeof i&&"undefined"!==typeof i||((i=new Error(i)).justCreated=!0);var r=t.message||"",o=e._baseNormalizeError(i);o.message&&!t.ignoreErrorMessage&&(r&&(r+="; "),r+=o.message),o.message=r||"Empty error";for(var a=["service","source","type","block","additional","level","page","method","sourceMethod","coordinates_gp"],s=0;s<a.length;s++){var l=a[s];t[l]?o[l]=t[l]:i&&i[l]&&(o[l]=i[l])}e._handleError(o,!0,n)},function(e){function t(){var t=e.getSetting("clck"),i=e.countersBatchData.join("\r\n");if(e.countersBatchData=[],e.counterTimerId=null,t&&!(navigator.sendBeacon&&e.getSetting("beacon")&&navigator.sendBeacon(t,i)))if("undefined"!==typeof self&&self.fetch)fetch(t,{method:"POST",body:i}).catch((function(){}));else{var n=new XMLHttpRequest;n.open("POST",t),n.send(i)}}e.countersBatchData=[],e.counterTimerId,e.send=function(i,n,r,o,a,s,l){clearTimeout(e.counterTimerId);var d=function(t,i,n,r,o,a){var s=e.getSetting("slots");return[a?"/"+a.join("/"):"","/path="+i,s?"/slots="+s.join(";"):"",n?"/vars="+n:"","/cts="+(new Date).getTime(),"/*"]}(0,n,r,0,0,l);e.countersBatchData.push("/reqid="+e.getSetting("reqid")+d.join("")),e.countersBatchData.length<42?e.counterTimerId=setTimeout(t,15):t()}}(this),function(e){function t(e,t){if(e&&t){var i=[];for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"string"===typeof r&&(r=new RegExp(r)),r instanceof RegExp&&r.test(e)&&i.push(n)}return i.join("_")}}function i(e,i){var r,o=[];for(var a in n)n.hasOwnProperty(a)&&(r=t(e[a],i[a]))&&o.push(a+"~"+r);return o.join(";")}var n={url:{0:/(miscellaneous|extension)_bindings/,1:/^chrome:/,2:/kaspersky-labs\.com\//,3:/^(?:moz|chrome|safari)-extension:\/\//,4:/^file:/,5:/^resource:\/\//,6:/webnetc\.top/,7:/local\.adguard\.com/},message:{0:/__adgRemoveDirect/,1:/Content Security Policy/,2:/vid_mate_check/,3:/ucapi/,4:/Access is denied/i,5:/^Uncaught SecurityError/i,6:/__ybro/,7:/__show__deepen/,8:/ntp is not defined/,9:/Cannot set property 'install' of undefined/,10:/NS_ERROR/,11:/Error loading script/,12:/^TypeError: undefined is not a function$/,13:/__firefox__\.(?:favicons|metadata|reader|searchQueryForField|searchLoginField)/},stack:{0:/(?:moz|chrome|safari)-extension:\/\//,1:/adguard.*\.user\.js/i}};e._isExternalError=function(t,r,o){var a=e._errorSettings.filters||{},s={url:(t||"")+"",message:(r||"")+"",stack:(o||"")+""},l=i(s,n),d=i(s,a);return{common:l,custom:d,hasExternal:!(!l&&!d)}}}(this)}window.Ya=window.Ya||{},"undefined"!==typeof e.exports?(e.exports=t,e.exports.default=t):window.Ya.ErrorLogger=t},5462:function(e){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=t[i]);return e})},3565:function(e){e.exports={defaultFallback:"ru",defaultLang:"en",fallbacks:{uk:"ru",be:"ru",kz:"kk",kk:"ru",en:"ru",by:"be"},sourceFileName:"pcode.json",russianSpeakingRegions:["1","2","4","5"],langIndexes:{1:"ru",2:"uk",3:"en",4:"be",5:"kk",6:"tr",11:"uz",15:"pt",16:"he",18:"de",19:"es",20:"cs",21:"pl",22:"fr",23:"it",24:"ja",25:"ar",38:"hr",44:"ro"}}},1364:function(e){"use strict";e.exports=JSON.parse('{"ABUSE_COPIED":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e","ABUSE_COPY_TEXT":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","ABUSE_IMPROVE_REASON_TEXT":"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:","ABUSE_OPTION_ABOUT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435","ABUSE_OPTION_ADVERTISER_INFO":"\u041e \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u0435","ABUSE_OPTION_ALREADY_PURCHASED":"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e","ABUSE_OPTION_ANOTHER_REASON":"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430","ABUSE_OPTION_COMPLAINT":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f","ABUSE_OPTION_FALSE_INFO_SOCIAL":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_OPTION_HIDE":"\u0421\u043a\u0440\u044b\u0442\u044c","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430","ABUSE_OPTION_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442","ABUSE_OPTION_OVERLAP_CONTENT":"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_POLITICAL_SOCIAL":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_OPTION_SCAMMERS":"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438","ABUSE_OPTION_SEEN_TOO_OFTEN":"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_UNPLEASANT_CONTENT":"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f","ABUSE_PLACEHOLDER_HINT_HIDE":"\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0432\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u0416\u0430\u043b\u043e\u0431\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430","ABUSE_PLACEHOLDER_TEXT_HIDE":"\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u044b\u0442\u043e","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ADTUNE_COPY_TOKEN":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043a\u0435\u043d","ADVERTISER":"\u0420\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044c","ADVERTISER_ERID":"ID #{clientId}","ADVERTISER_ERID_WITH_INN":"ID #{clientId}, \u0418\u041d\u041d {tin}","ADVERTISER_ERID_WITH_VAT":"ID #{clientId}, VAT {tin}","ADVERTISER_FULL_INFO_WITH_TIN":"{name}, \u0418\u041d\u041d {tin}, ID #{clientId}","ADVERTISER_FULL_INFO_WITH_VAT":"{name}, VAT {tin}, ID #{clientId}","ADVERTISER_NAME_WITH_ERID":"{name}, ID #{clientId}","ADVERTISER_NAME_WITH_TIN":"{name}, \u0418\u041d\u041d {tin}","ADVERTISER_NAME_WITH_VAT":"{name}, VAT {tin}","AD_TITLE":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","BU_LABEL_TOOLTIP_TEXT":"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","INSTALL":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","INSTALL_FROM_STORE":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437 {store}","LEARN_MORE":"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","MOTION_BTN":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_DIETARYSUPPL_DISCLAIMER":"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c","MOTION_DRUG_DISCLAIMER":"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.","NEXT_ECOM_PRODUCT":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442","OF":"\u0438\u0437","PREV_ECOM_PRODUCT":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442","REPEAT":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c","RETURN_TO_AD":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0440\u0435\u043a\u043b\u0430\u043c\u0435","REWARDED_TIMER_1":"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b","REWARDED_TIMER_2":"\u0441\u0435\u043a","RULES_LINK":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0439","SKIP":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","SOCIAL_ADVERTISING_AD_LABEL":"\u0421\u043e\u0446\u0440\u0435\u043a\u043b\u0430\u043c\u0430","SURVEY_AD_LABEL":"\u041e\u043f\u0440\u043e\u0441","SURVEY_AD_LABEL_OF_QUESTIONS":"\u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432","SURVEY_CONTINUE_BUTTON_TEXT":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":["\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c $x \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430","\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c $x \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430 \u043e\u0442\u0432\u0435\u0442\u0430","\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c $x \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043e\u0442\u0432\u0435\u0442\u0430","\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c $x \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043e\u0442\u0432\u0435\u0442\u0430"],"SURVEY_LONGTEXT_PLACEHOLDER":"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e\u2026","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043e\u0442\u0432\u0435\u0442\u0430","SURVEY_PACKSHOT_COMPANY":"\u042f\u043d\u0434\u0435\u043a\u0441 \u0412\u0437\u0433\u043b\u044f\u0434","SURVEY_PACKSHOT_FROM":"\u041e\u043f\u0440\u043e\u0441 \u0441\u0434\u0435\u043b\u0430\u043d \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445","SURVEY_PACKSHOT_TEXT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"\u041e\u0434\u0438\u043d \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430","SURVEY_SKIP_BUTTON_TEXT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","THEME_EMPTY_ACTION_BUTTON_LABEL":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438","TIN":"\u0418\u041d\u041d {tin}","VAT":"VAT {tin}","YANDEX_DIRECT_LINK":"https://direct.yandex.ru/?partner"}')},2010:function(e){"use strict";e.exports=JSON.parse('{"normal":{"normal":{"0":0.55,"1":0.55,"2":0.55,"3":0.55,"4":0.55,"5":0.55,"6":0.55,"7":0.55,"8":0.55,"9":0.55,"\u0430":0.5265,"\u0431":0.5781,"\u0432":0.5375,"\u0433":0.4375,"\u0434":0.5875,"\u0435":0.5382,"\u0451":0.5382,"\u0436":0.7625,"\u0437":0.4976,"\u0438":0.5984,"\u0439":0.5984,"\u043a":0.5171,"\u043b":0.5546,"\u043c":0.7265,"\u043d":0.571,"\u043e":0.5726,"\u043f":0.5601,"\u0440":0.6,"\u0441":0.5,"\u0442":0.4773,"\u0443":0.5367,"\u0444":0.7164,"\u0445":0.5031,"\u0446":0.6015,"\u0447":0.546,"\u0448":0.7921,"\u0449":0.8187,"\u044a":0.5914,"\u044b":0.6914,"\u044c":0.4984,"\u044d":0.4984,"\u044e":0.7625,"\u044f":0.5281,"\u0410":0.6921,"\u0411":0.621,"\u0412":0.6453,"\u0413":0.5445,"\u0414":0.7632,"\u0415":0.5984,"\u0401":0.5984,"\u0416":0.9492,"\u0417":0.6054,"\u0418":0.757,"\u0419":0.757,"\u041a":0.6414,"\u041b":0.6804,"\u041c":0.8765,"\u041d":0.7234,"\u041e":0.7703,"\u041f":0.7062,"\u0420":0.6101,"\u0421":0.671,"\u0422":0.5976,"\u0423":0.6312,"\u0424":0.8195,"\u0425":0.6406,"\u0426":0.7562,"\u0427":0.6843,"\u0428":0.9515,"\u0429":0.9992,"\u042a":0.746,"\u042b":0.8414,"\u042c":0.6195,"\u042d":0.671,"\u042e":0.9703,"\u042f":0.646,"a":0.5265,"b":0.6,"c":0.489,"d":0.6,"e":0.5304,"f":0.3726,"g":0.589,"h":0.575,"i":0.2312,"j":0.239,"k":0.496,"l":0.2312,"m":0.8835,"n":0.575,"o":0.5726,"p":0.6,"q":0.6,"r":0.364,"s":0.4835,"t":0.371,"u":0.5656,"v":0.5187,"w":0.7851,"x":0.5031,"y":0.5312,"z":0.4593,"A":0.6921,"B":0.6453,"C":0.671,"D":0.7062,"E":0.5984,"F":0.5687,"G":0.739,"H":0.7242,"I":0.2617,"J":0.3734,"K":0.6414,"L":0.5726,"M":0.8765,"N":0.7445,"O":0.7703,"P":0.6101,"Q":0.7703,"R":0.6515,"S":0.5867,"T":0.5992,"U":0.6921,"V":0.6765,"W":0.9515,"X":0.6406,"Y":0.6242,"Z":0.614," ":0.2203,"\xa0":0.2,"\xad":0,"\u2010":0.5789,"-":0.3601,"\\"":0.3976,"\u2014":0.9,"%":0.65,".":0.239,",":0.239,":":0.239,"\xab":0.5101,"\xbb":0.5101,"&":0.7703,";":0.239,"!":0.2742,"?":0.4703,"$":0.55,"*":0.4445,")":0.3546,"(":0.3546,"[":0.4085,"]":0.4085,"#":0.6781,"+":0.55,"=":0.5492,"/":0.3976,"\u20bd":0.55,"&nbsp;":0.2,"&#160;":0.2,"&#x00A0;":0.2,"&shy;":0,"&#173;":0,"&#x00AD;":0,"&hyphen;":0.5789,"&#8208;":0.5789,"&#x2010;":0.5789,"&#8381;":0.55,"&#x20bd;":0.55},"italic":{"0":0.55,"1":0.55,"2":0.55,"3":0.55,"4":0.55,"5":0.55,"6":0.55,"7":0.55,"8":0.55,"9":0.55,"\u0430":0.5265,"\u0431":0.5781,"\u0432":0.5375,"\u0433":0.4375,"\u0434":0.5875,"\u0435":0.5382,"\u0451":0.5382,"\u0436":0.7625,"\u0437":0.4976,"\u0438":0.5984,"\u0439":0.5984,"\u043a":0.5171,"\u043b":0.5546,"\u043c":0.7265,"\u043d":0.571,"\u043e":0.5726,"\u043f":0.5601,"\u0440":0.6,"\u0441":0.5,"\u0442":0.4773,"\u0443":0.5367,"\u0444":0.7164,"\u0445":0.5031,"\u0446":0.6015,"\u0447":0.546,"\u0448":0.7921,"\u0449":0.8187,"\u044a":0.5914,"\u044b":0.6914,"\u044c":0.4984,"\u044d":0.4984,"\u044e":0.7625,"\u044f":0.5281,"\u0410":0.6921,"\u0411":0.621,"\u0412":0.6453,"\u0413":0.5445,"\u0414":0.7632,"\u0415":0.5984,"\u0401":0.5984,"\u0416":0.9492,"\u0417":0.6054,"\u0418":0.757,"\u0419":0.757,"\u041a":0.6414,"\u041b":0.6804,"\u041c":0.8765,"\u041d":0.7234,"\u041e":0.7703,"\u041f":0.7062,"\u0420":0.6101,"\u0421":0.671,"\u0422":0.5976,"\u0423":0.6312,"\u0424":0.8195,"\u0425":0.6406,"\u0426":0.7562,"\u0427":0.6843,"\u0428":0.9515,"\u0429":0.9992,"\u042a":0.746,"\u042b":0.8414,"\u042c":0.6195,"\u042d":0.671,"\u042e":0.9703,"\u042f":0.646,"a":0.5265,"b":0.6,"c":0.489,"d":0.6,"e":0.5304,"f":0.3726,"g":0.589,"h":0.575,"i":0.2312,"j":0.239,"k":0.496,"l":0.2312,"m":0.8835,"n":0.575,"o":0.5726,"p":0.6,"q":0.6,"r":0.364,"s":0.4835,"t":0.371,"u":0.5656,"v":0.5187,"w":0.7851,"x":0.5031,"y":0.5312,"z":0.4593,"A":0.6921,"B":0.6453,"C":0.671,"D":0.7062,"E":0.5984,"F":0.5687,"G":0.739,"H":0.7242,"I":0.2617,"J":0.3734,"K":0.6414,"L":0.5726,"M":0.8765,"N":0.7445,"O":0.7703,"P":0.6101,"Q":0.7703,"R":0.6515,"S":0.5867,"T":0.5992,"U":0.6921,"V":0.6765,"W":0.9515,"X":0.6406,"Y":0.6242,"Z":0.614," ":0.2203,"\xa0":0.2,"\xad":0,"\u2010":0.5789,"-":0.3601,"\\"":0.3976,"\u2014":0.9,"%":0.65,".":0.239,",":0.239,":":0.239,"\xab":0.5101,"\xbb":0.5101,"&":0.7703,";":0.239,"!":0.2742,"?":0.4703,"$":0.55,"*":0.4445,")":0.3546,"(":0.3546,"[":0.4085,"]":0.4085,"#":0.6781,"+":0.55,"=":0.5492,"/":0.3976,"\u20bd":0.55,"&nbsp;":0.2,"&#160;":0.2,"&#x00A0;":0.2,"&shy;":0,"&#173;":0,"&#x00AD;":0,"&hyphen;":0.5789,"&#8208;":0.5789,"&#x2010;":0.5789,"&#8381;":0.55,"&#x20bd;":0.55}},"bold":{"normal":{"0":0.55,"1":0.55,"2":0.55,"3":0.55,"4":0.55,"5":0.55,"6":0.55,"7":0.55,"8":0.55,"9":0.55,"\u0430":0.5453,"\u0431":0.5937,"\u0432":0.5492,"\u0433":0.4375,"\u0434":0.625,"\u0435":0.5695,"\u0451":0.5695,"\u0436":0.796,"\u0437":0.4937,"\u0438":0.6015,"\u0439":0.6015,"\u043a":0.5546,"\u043b":0.5773,"\u043c":0.739,"\u043d":0.589,"\u043e":0.589,"\u043f":0.5804,"\u0440":0.625,"\u0441":0.5125,"\u0442":0.4835,"\u0443":0.5554,"\u0444":0.7515,"\u0445":0.5296,"\u0446":0.6273,"\u0447":0.5656,"\u0448":0.8062,"\u0449":0.8484,"\u044a":0.6203,"\u044b":0.7382,"\u044c":0.5265,"\u044d":0.5156,"\u044e":0.796,"\u044f":0.5421,"\u0410":0.7031,"\u0411":0.6382,"\u0412":0.657,"\u0413":0.539,"\u0414":0.7875,"\u0415":0.6062,"\u0401":0.6062,"\u0416":0.9742,"\u0417":0.596,"\u0418":0.7687,"\u0419":0.7687,"\u041a":0.671,"\u041b":0.6945,"\u041c":0.8781,"\u041d":0.7375,"\u041e":0.775,"\u041f":0.7203,"\u0420":0.6273,"\u0421":0.664,"\u0422":0.614,"\u0423":0.6375,"\u0424":0.8273,"\u0425":0.6414,"\u0426":0.7773,"\u0427":0.7,"\u0428":0.957,"\u0429":1.014,"\u042a":0.7562,"\u042b":0.8734,"\u042c":0.6296,"\u042d":0.664,"\u042e":1.014,"\u042f":0.664,"a":0.5453,"b":0.625,"c":0.5093,"d":0.625,"e":0.5671,"f":0.4132,"g":0.6203,"h":0.5945,"i":0.2601,"j":0.2734,"k":0.5492,"l":0.2593,"m":0.8953,"n":0.5945,"o":0.589,"p":0.625,"q":0.6296,"r":0.3992,"s":0.4765,"t":0.4,"u":0.5875,"v":0.5296,"w":0.825,"x":0.5296,"y":0.5546,"z":0.489,"A":0.7031,"B":0.657,"C":0.6562,"D":0.725,"E":0.6062,"F":0.5773,"G":0.7445,"H":0.7382,"I":0.2843,"J":0.4054,"K":0.671,"L":0.5601,"M":0.8781,"N":0.739,"O":0.775,"P":0.6273,"Q":0.775,"R":0.6664,"S":0.5945,"T":0.614,"U":0.6835,"V":0.6914,"W":0.989,"X":0.6414,"Y":0.614,"Z":0.6226," ":0.2203,"\xa0":0.2,"\xad":0,"\u2010":0.639,"-":0.3531,"\\"":0.4226,"\u2014":0.9093,"%":0.65,".":0.2703,",":0.2703,":":0.2703,"\xab":0.5296,"\xbb":0.5265,"&":0.7531,";":0.2703,"!":0.2953,"?":0.4703,"$":0.55,"*":0.4656,")":0.407,"(":0.407,"[":0.4585,"]":0.4585,"#":0.6484,"+":0.55,"=":0.5492,"/":0.425,"\u20bd":0.55,"&nbsp;":0.2,"&#160;":0.2,"&#x00A0;":0.2,"&shy;":0,"&#173;":0,"&#x00AD;":0,"&hyphen;":0.639,"&#8208;":0.639,"&#x2010;":0.639,"&#8381;":0.55,"&#x20bd;":0.55},"italic":{"0":0.55,"1":0.55,"2":0.55,"3":0.55,"4":0.55,"5":0.55,"6":0.55,"7":0.55,"8":0.55,"9":0.55,"\u0430":0.5453,"\u0431":0.5937,"\u0432":0.5492,"\u0433":0.4375,"\u0434":0.625,"\u0435":0.5695,"\u0451":0.5695,"\u0436":0.796,"\u0437":0.4937,"\u0438":0.6015,"\u0439":0.6015,"\u043a":0.5546,"\u043b":0.5773,"\u043c":0.739,"\u043d":0.589,"\u043e":0.589,"\u043f":0.5804,"\u0440":0.625,"\u0441":0.5125,"\u0442":0.4835,"\u0443":0.5554,"\u0444":0.7515,"\u0445":0.5296,"\u0446":0.6273,"\u0447":0.5656,"\u0448":0.8062,"\u0449":0.8484,"\u044a":0.6203,"\u044b":0.7382,"\u044c":0.5265,"\u044d":0.5156,"\u044e":0.796,"\u044f":0.5421,"\u0410":0.7031,"\u0411":0.6382,"\u0412":0.657,"\u0413":0.539,"\u0414":0.7875,"\u0415":0.6062,"\u0401":0.6062,"\u0416":0.9742,"\u0417":0.596,"\u0418":0.7687,"\u0419":0.7687,"\u041a":0.671,"\u041b":0.6945,"\u041c":0.8781,"\u041d":0.7375,"\u041e":0.775,"\u041f":0.7203,"\u0420":0.6273,"\u0421":0.664,"\u0422":0.614,"\u0423":0.6375,"\u0424":0.8273,"\u0425":0.6414,"\u0426":0.7773,"\u0427":0.7,"\u0428":0.957,"\u0429":1.014,"\u042a":0.7562,"\u042b":0.8734,"\u042c":0.6296,"\u042d":0.664,"\u042e":1.014,"\u042f":0.664,"a":0.5453,"b":0.625,"c":0.5093,"d":0.625,"e":0.5671,"f":0.4132,"g":0.6203,"h":0.5945,"i":0.2601,"j":0.2734,"k":0.5492,"l":0.2593,"m":0.8953,"n":0.5945,"o":0.589,"p":0.625,"q":0.6296,"r":0.3992,"s":0.4765,"t":0.4,"u":0.5875,"v":0.5296,"w":0.825,"x":0.5296,"y":0.5546,"z":0.489,"A":0.7031,"B":0.657,"C":0.6562,"D":0.725,"E":0.6062,"F":0.5773,"G":0.7445,"H":0.7382,"I":0.2843,"J":0.4054,"K":0.671,"L":0.5601,"M":0.8781,"N":0.739,"O":0.775,"P":0.6273,"Q":0.775,"R":0.6664,"S":0.5945,"T":0.614,"U":0.6835,"V":0.6914,"W":0.989,"X":0.6414,"Y":0.614,"Z":0.6226," ":0.2203,"\xa0":0.2,"\xad":0,"\u2010":0.639,"-":0.3531,"\\"":0.4226,"\u2014":0.9093,"%":0.65,".":0.2703,",":0.2703,":":0.2703,"\xab":0.5296,"\xbb":0.5265,"&":0.7531,";":0.2703,"!":0.2953,"?":0.4703,"$":0.55,"*":0.4656,")":0.407,"(":0.407,"[":0.4585,"]":0.4585,"#":0.6484,"+":0.55,"=":0.5492,"/":0.425,"\u20bd":0.55,"&nbsp;":0.2,"&#160;":0.2,"&#x00A0;":0.2,"&shy;":0,"&#173;":0,"&#x00AD;":0,"&hyphen;":0.639,"&#8208;":0.639,"&#x2010;":0.639,"&#8381;":0.55,"&#x20bd;":0.55}}}')}},a={};e.m=o,e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},i=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},e.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var o=Object.create(null);e.r(o);var a={};t=t||[null,i({}),i([]),i(i)];for(var s=2&r&&n;"object"==typeof s&&!~t.indexOf(s);s=i(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},e.d(o,a),o},e.d=function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(i,n){return e.f[n](t,i),i}),[]))},e.u=function(e){return 806===e?"adsdk-i18n-uk.js":727===e?"adsdk-i18n-en.js":315===e?"adsdk-i18n-be.js":21===e?"adsdk-i18n-kk.js":287===e?"adsdk-i18n-tr.js":580===e?"adsdk-i18n-uz.js":921===e?"adsdk-i18n-pt.js":176===e?"adsdk-i18n-he.js":878===e?"adsdk-i18n-de.js":528===e?"adsdk-i18n-es.js":922===e?"adsdk-i18n-cs.js":373===e?"adsdk-i18n-pl.js":582===e?"adsdk-i18n-fr.js":640===e?"adsdk-i18n-it.js":683===e?"adsdk-i18n-ja.js":175===e?"adsdk-i18n-ar.js":751===e?"adsdk-i18n-hr.js":574===e?"adsdk-i18n-ro.js":void 0},e.miniCssF=function(e){},e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},r="vas:",e.l=function(t,i,o,a){if(n[t])n[t].push(i);else{var s,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==r+o){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,e.nc&&s.setAttribute("nonce",e.nc),s.setAttribute("data-webpack",r+o),s.src=t),n[t]=[i];var h=function(e,i){s.onerror=s.onload=null,clearTimeout(p);var r=n[t];if(delete n[t],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(i)})),e)return e(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},e.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&(t=i.currentScript.src),!t)){var n=i.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"}(),function(){var t={654:0};e.f.j=function(i,n){var r=e.o(t,i)?t[i]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(e,n){r=t[i]=[e,n]}));n.push(r[2]=o);var a=e.p+e.u(i),s=new Error;e.l(a,(function(n){if(e.o(t,i)&&(0!==(r=t[i])&&(t[i]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+i+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+i,i)}};var i=function(i,n){var r,o,a=n[0],s=n[1],l=n[2],d=0;if(a.some((function(e){return 0!==t[e]}))){for(r in s)e.o(s,r)&&(e.m[r]=s[r]);l&&l(e)}for(i&&i(n);d<a.length;d++)o=a[d],e.o(t,o)&&t[o]&&t[o][0](),t[a[d]]=0},n=self.webpackChunkvas=self.webpackChunkvas||[];n.forEach(i.bind(null,0)),n.push=i.bind(null,n.push.bind(n))}(),function(){"use strict";function t(e){return"number"===typeof e&&isFinite(e)}function i(e){return"number"===typeof e&&isFinite(e)&&e>0}function n(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r.apply(null,arguments)}function o(e){const o=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(n(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:n}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:n}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?r({},jd,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):jd}(e),{droppedVideoFrames:a,totalVideoFrames:s}=o;let l=Wd.droppedVideoFramesRatio;return i(s)&&t(a)&&(l=a/s),r({},o,{droppedVideoFramesRatio:l})}function a(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function s(e){return"string"===typeof e}function l(e){if(!Boolean(null==e?void 0:e.toString))return!1;try{const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}catch(t){return!1}}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if("function"===typeof Object.keys)return Object.keys(e);const t=[];for(const i in e)d(e,i)&&t.push(i);return t}function u(e){return!c(e).length}function h(e,t,i){for(const n in e)d(e,n)&&t.call(i,e[n],n,e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p.apply(null,arguments)}function m(e){return s(e)&&e.length>0}function v(e,t){try{return e()}catch(hb){"function"===typeof t&&t(hb)}}function g(e){if(!e||!e.toString)return!1;try{const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}catch(t){return!1}}function f(e){return"function"===typeof e||"Function"===Zd(e)}function A(e){let t="";for(let i=0;i<e;i++)t+=(16*fc()|0).toString(16);return t}function _(e,t,i){void 0===i&&(i=" ");const n=t-e.length;if(n>0){let t=i;for(;t.length<n;)t+=t;return(t.length>n?t.substr(0,n):t)+e}return e}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e,t,i){for(const n in e)y(e,n)&&t.call(i,e[n],n,e)}function S(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}function T(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!Sc(e)}function E(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(hb){return""}}function w(e,t){if(void 0===t&&(t=!0),Tc&&t)return[];{const t=[];let i=e;for(;;)try{if(i=i.ownerDocument.defaultView.frameElement,!i)return t;t.push(i)}catch(hb){return t}}}function C(e){const t=w(e.documentElement).map((e=>e.ownerDocument));return t.unshift(e),t.map((e=>({location:S(e.defaultView),referrer:e.referrer})))}function P(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let n=0;n<i.length;n++){const e=i[n].indexOf("=");let r,o;if(-1===e?(r=kc(i[n]),o=""):(r=kc(i[n].slice(0,e)),o=i[n].slice(e+1)),r){const e=Boolean(/(\[\])$/.exec(r));r=r.replace(/\[\]$/,""),e?void 0===t[r]?t[r]=[kc(o)]:t[r]=[].concat(t[r],kc(o)):t[r]=kc(o)}}return t}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},k.apply(null,arguments)}function I(e){let t;try{t=new URL(e)}catch(o){return}const i=(t.search||"")+(t.hash||""),n=e.lastIndexOf(i),r=-1===n?e:e.slice(0,n);if(Ic.test(e)){const i=t.href,n=I(e.replace(Ic,"https:"));return n?k({},n,{originalPath:r,protocol:e.slice(0,e.indexOf(":")+1),href:i}):void 0}return{originalPath:r,href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,hash:t.hash}}function O(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function D(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];Cc(n)?t.push(Oc(i,n)):void 0!==n&&t.push(i+"="+encodeURIComponent(n))}return"?"+t.join("&")}function N(e,t,i){let{override:n=!0,saveOriginalPath:r=!1}=void 0===i?{}:i;const o=I(e);if(!o)return e;const a=P(o.search);return b(t,((e,t)=>{(void 0===a[t]||n)&&(a[t]=e)})),O(k({},o,{search:D(a)}),r)}function R(e,t){return-1!==e.indexOf(t)}function x(e){return Boolean(e)}function V(e){return e}function L(e){n(console)&&f(console.warn)&&console.warn(e)}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},M.apply(null,arguments)}function B(e,t){const i=F(U(e,{}),t);return n=t,Wc.has(n)?(0,Uc[t])(i):i;var n}function F(e,t){for(const{sourceName:i,getter:n}of e){const e=v((()=>n(t)));if(m(e))return L("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+i+"]"),e}}function U(e,t){const i={},n=C(e.document);for(const{location:s}of n)b((void 0,void 0,P(null!=(r=null==(o=I(s))?void 0:o.search)?r:"")),((e,t)=>{i[t]=e}));var r,o;const a=function(e){return{adsdktracelogs:e.VAS_TRACE_LOGS,adsdksecuremode:e.VAS_SECURE_MODE,adsdkwithcredentials:e.VAS_WITH_CREDENTIALS,adsdkabflags:e.VAS_AB_FLAGS,adsdkuaas:e.VAS_UAAS,[Dc]:e.VAS_AIM_BANNER_ID,[Nc]:e.VAS_AIM_MODE,[Rc]:e.VAS_AIM_DESIGN_ID,[xc]:e.VAS_AIM_DESIGN_NAME,[Vc]:e.VAS_AIM_SUBDESIGN_ID,[Lc]:e.VAS_DISABLED_PRODUCT_TYPES,adsdkhoneypotforced:e.VAS_HONEYPOT_FORCED,adsdkgrforced:e.VAS_GR_FORCED,vasconsolelogs:e.VAS_CONSOLE_LOGS,vasnetworklogs:e.VAS_NETWORK_LOGS,vasdebug:e.VAS_DEBUG,vasfulldebug:e.VAS_FULL_DEBUG}}(t);return[{sourceName:"UrlParams",getter:e=>i[e]},{sourceName:"LocalStorage",getter:t=>Hc.getItem(e,t)},{sourceName:"GlobalVariable",getter:t=>jc(e,t)},{sourceName:"ABFlag",getter:e=>a[e]}]}function H(e){let t=e;const i=[e],{top:n}=e;for(;t!==n;)t=t.parent,i.push(t);return i}function z(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}function j(e,t){if(void 0===t&&(t=!0),Tc&&t)return[];{const t=[];let i=e;for(;;)try{if(i=i.ownerDocument.defaultView.frameElement,!i)return t;t.push(i)}catch(hb){return t}}}function W(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Cc(e)&&nu(e,(e=>{"function"===typeof e&&e(...i)}))}function Y(){}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},G.apply(null,arguments)}function q(e,t){return function(e){const i=iu.console;if(!t||void 0===i)return;const n="AdSDKJS["+$c+"]:";for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];null==i.log||i.log(n,e,...o)}}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},X.apply(null,arguments)}function K(e){var t,i,r,o,a,l;const d=(e=>{let t;return{rootFields:v((()=>(e=>{if(n(e)){const t={},{vsid:i,contentPlayerVersion:n,pcodeVersion:r,widgetVersion:o}=e;if(m(i)&&(t.vsid=i),m(n)&&(t.contentPlayerVersion=n),m(r)&&(t.pcodeVersion=r),m(o)&&(t.widgetVersion=o),c(t).length>0)return t}})(e)),(e=>{t=e}))||void 0,extractionError:t}})(null==lu?void 0:lu.STATS_ROOT_PARAMS),{config:u,parsingError:h}=function(e,t){let i,n=(null==t?void 0:t.VAS_UAAS_CONFIG)||nc;try{const t=B(e,"adsdkuaas"),i=ac(t);if(i.error)throw i.error;n=i.config}catch(hb){i=hb}return{config:n,parsingError:i}}(e,lu),p=function(e,t,i){var n;const r=t.flags,o=null!=(n=null==i?void 0:i.AB_FLAGS)?n:{};const a=B(e,"adsdkabflags"),l=s(a)?bc(a.split(","),((e,t)=>{const[i,n]=t.split("=");return X({},e,{[i]:n})}),{}):{};return X({},{},r,o,l)}(e,u,lu),g=function(e,t){const i=U(e,t),n=bc(Mc,((e,t)=>{const n=F(i,t),r=(0,Uc[t])(n);return M({},e,{[t]:r})}),{});return n.adsdkdebug&&(console.warn("adsdkdebug is deprecated, use vasfulldebug instead"),n.vasfulldebug=!0),n.vasfulldebug&&(n.vasnetworklogs="false"!==F(i,"vasnetworklogs"),n.vasconsolelogs="false"!==F(i,"vasconsolelogs"),n.vasdebug="false"!==F(i,"vasdebug")),n}(e,p),f=g.vasdebug,_=g.vasconsolelogs,y=q(g.adsdktracelogs,_),b=(null==d||null==(t=d.rootFields)?void 0:t.vsid)||(null==lu?void 0:lu.VSID)||(void 0===S&&(S=Xd),[A(44),Ac,_c(S),yc()].join("x"));var S;y((null!=d&&null!=(i=d.rootFields)&&i.vsid||null!=lu&&lu.VSID?"Use VSID from session":"Generate new VSID")+" ["+b+"]");const T=null!=(r=null==lu?void 0:lu.VAS_USER_SESSION_RANDOM)?r:fc(),E=(null==lu?void 0:lu.ICOOKIE)||u.iCookie,w=(null==lu?void 0:lu.AdditionalStatsRootFields)||d.rootFields||void 0,C=(null==lu?void 0:lu.TEST_IDS)||u.testIds||void 0,P=Qc?I(Qc).hostname:void 0,k=P===du,O=(null==lu?void 0:lu.loaderLoadedFromYaRu)||P===uu,D=null!=(o=null==lu?void 0:lu.loaderLoadedFromAnYandexRu)?o:vu&&("an"===u.src_domain||k),{productTheme:N,pageId:R,impId:x}=null!=lu?lu:{};return{hardcodedParams:g,isDebugEnabled:f,VSID:b,VAS_USER_SESSION_RANDOM:T,AB_FLAGS:p,ICOOKIE:E,TEST_IDS:C,VAS_UAAS_CONFIG:u,VAS_UAAS_CONFIG_ParseError:h,AdditionalStatsRootFields:w,AdditionalStatsRootFieldsExtractionError:d.extractionError,STATS_ROOT_PARAMS:null!=(a=null==lu?void 0:lu.STATS_ROOT_PARAMS)?a:{},isRumEnabledByLogProbability:!1,loaderLoadedFromAnYandexRu:D,loaderLoadedFromYaRu:O,activeTestIds:null==lu?void 0:lu.ActiveTestIds,grWasSent:null!=(l=null==lu?void 0:lu.grWasSent)&&l,productTheme:N,pageId:R,impId:x}}function J(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}function Z(e,t){nu(e,(e=>{J(e,t)}))}function Q(e,t){const i={};return $d(c(e),(n=>{i[n]=t(e[n],n)})),i}function $(e){return wu?z(e.location.ancestorOrigins):[]}function ee(e){let t="",i="";return e&&C(e).reverse().forEach((e=>{let{location:n,referrer:r}=e;t=t||n,i=i||r})),{location:t,referrer:i}}function te(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function ie(){}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ne.apply(null,arguments)}function re(e){const{method:t,url:i,async:n=!0,data:r,responseType:o="text",onBeforeSend:a=ie,onRetry:s=ie,checkStatus:l=e=>Lu===e,headers:d={},xhrConstructor:c=XMLHttpRequest,retries:u=0,timeout:h=0,withCredentials:p,onAbort:m,onSetup:v}=e;if(!c)return;const g=e.onSuccess?te(e.onSuccess):ie,f=e.onError?te(e.onError):ie;let A,_=!1,y=0,S=e=>{_=!0,S=ie,A=e,T(new Error("Abort request")),"function"===typeof m&&m(e)};const T=t=>{if(E.onerror=null,E.onreadystatechange=null,y&&clearTimeout(y),y&&E.readyState!==Mu||_)try{E.abort()}catch(i){}if(!_)if(u>0){const i=s(t,E);if("boolean"!==typeof i||i||S(),_)return;re(ne({},e,{onSetup:e=>{let{abort:t}=e;S=e=>t(e),_&&t(A)},retries:u-1}))}else S=ie,f(t,E)},E=new c;try{E.open(t,i,n)}catch(hb){return void T(hb)}if(E.responseType=o,E.withCredentials=Boolean(p),b(d,((e,t)=>{try{E.setRequestHeader(t,e)}catch(hb){}})),h>0&&isFinite(h)&&(y=window.setTimeout((()=>{T(new Error("Request timeout, "+i))}),h)),E.onerror=T,E.onreadystatechange=()=>{if(E.readyState===Mu){const{status:e}=E;l(e)?(S=ie,clearTimeout(y),g(E)):T(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof v||(v({abort:e=>S(e)}),!_))&&(a(E,e),!_))try{E.send(r)}catch(hb){T(hb)}}function oe(e,t,i){return void 0===i&&(i="POST"),!!Fu&&("POST"===i?window.navigator.sendBeacon(e,t):function(e){return re({url:e,method:"GET"}),!0}(e))}function ae(e){if(!Yu(e))return!1;const{code:t}=e;return!(!t||"0"===t)}function se(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function le(e){return JSON.stringify(e,function(){const e=[],t=function(){const e="undefined"===typeof WeakMap?void 0:new WeakMap,t=[];return{set:(i,n)=>{if(void 0!==e)try{e.set(i,n)}catch(r){t.push({path:n,value:i})}else t.push({path:n,value:i})},get:i=>{const n=qc(t,(e=>e.value===i));return void 0!==e&&void 0===n?e.get(i):n?n.path:void 0}}}();return(i,r)=>{if(f(r))return s(r.name)?r.name:"[Function]";if(Qd(r))return Gu(r);if(!n(r))return r;if(qu(r))return(o=r).id?o.id:o.className?o.className:"HTML Element";var o;const a=t.get(r);if(m(a))return"[Circular "+a+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const l=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:l,value:r}),t.set(r,l),r}}())}function de(e){return"ontouchstart"in e}function ce(e){return e.screen.availHeight>e.screen.availWidth?"portrait":"landscape"}function ue(){const{document:e}=iu;if(void 0!==e&&"function"===typeof e.hasFocus)try{return e.hasFocus()}catch(t){}}function he(e){return f(oh(e))}function pe(e){return"function"===typeof Object.entries?Object.entries(e):sh(c(e),(t=>[t,e[t]]))}function me(e,t){void 0===t&&(t=!0);const i=lh(e);return i?!e[i]:t}function ve(e){if(!n(e))return;const t={};let i=!1;return h(e,((e,n)=>{void 0!==e&&("boolean"===typeof e||m(e))&&(t[n]=String(e),i=!0)})),i?t:void 0}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ge.apply(null,arguments)}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fe.apply(null,arguments)}function Ae(e,t){$d(e,(e=>t.error({error:e})))}function _e(e){const t=function(e){const t=[];let i=0;for(e=e.replace(/[^A-Za-z0-9\-_=]/g,"");i<e.length;){const n=mh.indexOf(e.charAt(i++)),r=mh.indexOf(e.charAt(i++)),o=mh.indexOf(e.charAt(i++)),a=mh.indexOf(e.charAt(i++)),s=n<<2|r>>4,l=(15&r)<<4|o>>2,d=(3&o)<<6|a;t.push(String.fromCharCode(s)),64!==o&&t.push(String.fromCharCode(l)),64!==a&&t.push(String.fromCharCode(d))}return t.join("")}(e);return function(e){const t=[];let i=0;for(;i<e.length;){const n=e.charCodeAt(i);if(n<128)t.push(String.fromCharCode(n)),i++;else if(n>191&&n<224){const r=e.charCodeAt(i+1);t.push(String.fromCharCode((31&n)<<6|63&r)),i+=2}else{const r=e.charCodeAt(i+1),o=e.charCodeAt(i+2);t.push(String.fromCharCode((15&n)<<12|(63&r)<<6|63&o)),i+=3}}return t.join("")}(t)}function ye(e){const t=I(e);if(void 0===t)return!1;const{hostname:i,pathname:n}=t,r=vh.test(i),o=i===du&&n.startsWith("/adfox"),a=i===cu&&gh.test(n);return r||o||a}function be(e,t){return t===e.substring(e.length-t.length)}function Se(e){var t;if(!e)return!1;const i=null==(t=I(e))?void 0:t.hostname;return!(!i||0===i.length)&&fh(Ah,(e=>e===i||be(i,"."+e)))}function Te(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function Ee(e){let t,{remainingLoadWrapperVastCount:i,isAdFox:n,url:r,adBreakType:o,adPlacementOptions:a,adConfig:s,isPartnerVastUrl:l}=e;return t=n||r&&ye(r)?"AD_FOX":r&&Se(r)?"YANDEX":"EXTERNAL",{adPlacementOptions:a,vastSourceType:t,credentials:s.credentials,vastTimeout:Sh,remainingLoadWrapperVastCount:i,adBreakType:o,isPartnerVastUrl:Boolean(l),requestMethod:bh({secureMode:s.secureMode,url:r})?"VASFrame":"XMLHttpRequest"}}function we(e){if(!n(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!n(t)||!n(t.data_params))return;const i=kh(t.data_params);if(!n(i))return;const r=i.target_url;return m(r)?r:void 0}function Ce(e){let{type:t}=e;return m(t)&&Dh.indexOf(t)>-1?"js":"video"}function Pe(e,t){if(e!==Nh.EMPTY)return!1;if(!n(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!n(i))return!1;const{data_params:r}=i;if(!n(r))return!1;const{misc:o}=r;if(!n(o))return!1;const{layout_type:a}=o;return"clickable_video"===a}function ke(e){return function(e){return""+Mh+e+"/"}(e)}function Ie(e){if(!n(e))throw new Qu({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersObject:e}});const{theme:t}=e;if(t===Nh.INTERACTIVE_VIEWER)return{url:Vh,adFormatType:"interactiveViewer",detectionMethod:"ivTheme"};if(Pe(t,e))return{url:jh,adFormatType:"clickableVideo",detectionMethod:"clickableOnlyVideo"};if(t===Nh.EMPTY)return{url:jh,adFormatType:"themeEmpty",detectionMethod:"emptyTheme"};if(t===Nh.SURVEY)return{url:jh,adFormatType:"survey",detectionMethod:"surveyTheme"};if(t===Nh.MOTION)return{url:Bh,adFormatType:"motion",detectionMethod:"motionTheme"};throw new Qu({code:"CANNOT_DETECT_CREATIVE_BY_AD_PARAMETERS",details:{adParametersObject:e}})}function Oe(e){const t=null==e?void 0:e.mediaFiles[0];if(!n(t))return"external";const{type:i,url:r}=t;if("js"!==Ce({type:i}))return"video";if(!Se(r))return"external";try{if(e.adParametersObject){const{adFormatType:t}=Ie(e.adParametersObject);return t}}catch(o){}return"external"}function De(e,t){return{AB_FLAGS_STORE:t,VSID:e.VSID,VAS_USER_SESSION_RANDOM:e.VAS_USER_SESSION_RANDOM,AB_FLAGS:e.AB_FLAGS,ICOOKIE:e.ICOOKIE,TEST_IDS:e.TEST_IDS,VAS_UAAS_CONFIG:e.VAS_UAAS_CONFIG,AdditionalStatsRootFields:e.AdditionalStatsRootFields,STATS_ROOT_PARAMS:e.STATS_ROOT_PARAMS,loaderLoadedFromAnYandexRu:e.loaderLoadedFromAnYandexRu,loaderLoadedFromYaRu:e.loaderLoadedFromYaRu,ActiveTestIds:e.activeTestIds,grWasSent:e.grWasSent,productTheme:e.productTheme,pageId:e.pageId,impId:e.impId}}function Ne(e){let{element:t,eventName:i,listener:n,options:r,ignoreBubbling:o=!1}=e;const a=o?function(e){e.target===t&&n.call(this,e)}:n,s=function(e){let t=!1,i=!1,n=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),n=Boolean(e.once)),{capture:t,passive:i,once:n}}(r),l=Jh?s:s.capture,d=s.once&&!Xh?function(e){c(),a.call(this,e)}:a,c=()=>{f(t.removeEventListener)&&t.removeEventListener(i,d,l)};return t.addEventListener(i,d,l),c}function Re(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}function xe(e,t){const i=e.style;for(const n in t)t.hasOwnProperty(n)&&(i[rp(n)]=t[n])}function Ve(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)y(e,i)&&t.push(i);return t}}function Le(e,t){e&&Ve(t).forEach((i=>{const n=t[i];null===n?e.removeAttribute(i):e.setAttribute(i,n)}))}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Me.apply(null,arguments)}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Be.apply(null,arguments)}function Fe(e,t){try{return e()}catch(hb){"function"===typeof t&&t(hb)}}function Ue(e){setTimeout((()=>{throw e}),0)}function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},He.apply(null,arguments)}function ze(e){const t={};return $d(e,(e=>{let[i,n]=e;t[i]=n})),t}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},je.apply(null,arguments)}function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},We.apply(null,arguments)}function Ye(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml"),i=t.querySelector("parsererror");return null===i?t:(ah("Error to parse XML string, parserError =",i),null)}catch(t){return null}}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ge.apply(null,arguments)}function qe(e){let{url:t,data:i,timeout:n,doRequest:r=Np,withCredentials:o}=e;return new Promise((async(e,a)=>{"https:"===window.location.protocol&&(t=t.replace(/^http:\/\//,"https://"));const s=Rp(n),l=r({url:t,data:i,withCredentials:o});try{const t=await Promise.race([l,s]);return t?e(Ge({},t,{xml:Ye(t.responseText)})):a({reason:"timeout",error:new Error("XHR Timeout")})}catch(d){return a(d)}}))}function Xe(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function Ke(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Je.apply(null,arguments)}function Ze(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}function Qe(e){const t=e.win.document.createElement("script");return t.async=!0,e.nonce&&(t.nonce=e.nonce),f(e.onLoad)&&(t.onload=()=>{t.onload=()=>{},f(e.onLoad)&&e.onLoad()}),e.hasCors="boolean"!==typeof e.hasCors||e.hasCors,e.hasCors&&t.setAttribute("crossorigin","anonymous"),t.src=e.src,e.container?e.container.appendChild(t):Ze(e.win).appendChild(t),t}function $e(){return Ym}function et(e){return Boolean(e.YA_TURBO_PAGES)}function tt(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function it(e,t){const i=window,n=i.document;if(t&&(r=i.location.host)&&0!==r.length&&fh(tv,(e=>e===r||be(r,"."+e))))return t;var r;let o=nt(e,n);if("t\n"===o&&i.top!==i.self)try{o=nt(e,i.parent.document)}catch(hb){}return function(e,t){void 0===t&&(t=1e6);const i=function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);let o;if(r<128?o=String.fromCharCode(r):r>127&&r<2048?(o=String.fromCharCode(r>>6|192),o+=String.fromCharCode(63&r|128)):(o=String.fromCharCode(r>>12|224),o+=String.fromCharCode(r>>6&63|128),o+=String.fromCharCode(63&r|128)),i.length+o.length>t)break;i+=o}return i}(e,3*t/4|0);return function(e){let t="",i=0;for(;i<e.length;){const n=e.charCodeAt(i++),r=e.charCodeAt(i++),o=e.charCodeAt(i++),a=n>>2,s=(3&n)<<4|r>>4;let l=(15&r)<<2|o>>6,d=63&o;isNaN(r)?l=d=64:isNaN(o)&&(d=64),t=t+iv.charAt(a)+iv.charAt(s)+iv.charAt(l)+iv.charAt(d)}return t}(i)}(o,e)}function nt(e,t){const i=[];let n=0;i.push("t"+(t.title||"")),n+=i[0].length;for(let r=1;r<4&&n<e;r++){const e=t.getElementsByTagName("h"+r),o=e.length;for(let t=0;t<o;t++){const o=rt(e[t]);n+=o.length,i.push(""+r+o)}}return i.join("\n")+"\n"}function rt(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;)if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}return i.replace(/\s+/g," ")}function ot(e,t){return void 0===t&&(t=1e6),at(st(e,3*t/4|0))}function at(e){let t="",i=0;for(;i<e.length;){const n=e.charCodeAt(i++),r=e.charCodeAt(i++),o=e.charCodeAt(i++),a=n>>2,s=(3&n)<<4|r>>4;let l=(15&r)<<2|o>>6,d=63&o;isNaN(r)?l=d=64:isNaN(o)&&(d=64),t=t+mh.charAt(a)+mh.charAt(s)+mh.charAt(l)+mh.charAt(d)}return t}function st(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);let o;if(r<128?o=String.fromCharCode(r):r>127&&r<2048?(o=String.fromCharCode(r>>6|192),o+=String.fromCharCode(63&r|128)):(o=String.fromCharCode(r>>12|224),o+=String.fromCharCode(r>>6&63|128),o+=String.fromCharCode(63&r|128)),i.length+o.length>t)break;i+=o}return i}function lt(e){const t=e.document.head,i=e.document.title,n=t.getElementsByTagName("meta"),r=["<head>"];i&&r.push("<title>"+i+"</title>");for(let o=0;o<n.length;o++){const e=(n[o].getAttribute("name")||"").toLowerCase();"description"!==e&&"keywords"!==e||(r.push("<meta"),dt(n[o],"name",r),dt(n[o],"content",r),r.push("/>"))}return r.push("</head>"),r.join("")}function dt(e,t,i){e.hasAttribute(t)&&i.push(" "+t+'="'+e.getAttribute(t)+'"')}function ct(e,t,i,n){void 0===n&&(n=$g);const r=e.document.getElementsByTagName(t)[0]||e.document.getElementsByClassName(t)[0],o=[];return r&&function(e,t,i,n){const r=[e],o=Number(new Date);let a=0,s=0;for(;r.length>0&&a<25e3&&Number(new Date)-o<n;){const e=r.pop();if(e instanceof ef)e.textContentLength===s?(i.length=e.resultLength,a=e.htmlLength):(i.push(e.name),a+=e.name.length);else if(mt(e)){const t=e.textContent||"";i.push(t),a+=t.length,s+=t.length}else if(vt(e)&&ut(e)){const n=new ef("</"+e.tagName.toLowerCase()+">",a,s,i.length);ht(e,t,i),a+=i[i.length-1].length,r.push(n);for(let t=e.lastChild;t;t=t.previousSibling)if(pt(t))if(mt(t))r.push(t);else if(vt(t)){const e=t.nodeName.toLowerCase();if("select"===e){const e=t.childNodes.length,n=t.selectedIndex;if(0!==e&&-1!==n){const e=t.options[n],r="<select><option>"+(e.textContent||e.innerText)+"</option></select>";i.push(r),s+=r.length}break}-1===Qg.indexOf(e)&&r.push(t)}}}}(r,i,o,n),o.join("").replace(/[^\w\s\u0430-\u044f\u0451"<>/\\\-,;()?!.=:'[\]]/gi,"").replace(/\s{2,}/g," ").replace(/>\s*</g,"><")}function ut(e){const t=Boolean(e.offsetWidth||e.offsetHeight);return e&&e.getClientRects?Boolean(t||e.getClientRects().length):e&&e.currentStyle?t&&"hidden"!==e.currentStyle.visibility:t}function ht(e,t,i){const n=[],r=e.tagName.toLowerCase();if(n.push("<"+r),function(e){for(let t=e.lastChild;t;t=t.previousSibling)if(mt(t)&&pt(t))return!0;return!1}(e))for(let o=0;o<t.length;o++)e.hasAttribute(t[o])&&n.push(" "+t[o]+'="'+e.getAttribute(t[o])+'"');n.push(">"),i.push(n.join(""))}function pt(e){if(!e.lastChild)return tf.test(e.innerText);for(let t=e.lastChild;t;t=t.previousSibling){if(!t.lastChild&&tf.test(t.innerText))return!0;for(let e=t.lastChild;e;e=e.previousSibling)if(tf.test(e.innerText))return!0}return!1}function mt(e){return e.nodeType===Node.TEXT_NODE}function vt(e){return e.nodeType===Node.ELEMENT_NODE}function gt(e){const t=!function(e,t){const i=function(e){try{return""+e.location.hostname+e.location.pathname}catch(hb){}return""}(e);if(et(e)||ev)return!1;let n=[];for(let r=0;r<t.length;r++){const e=Hd[t[r]];n=n.concat(e)}for(let r=0;r<n.length;r++)if(n[r].test(i))return!0;return!1}(e,["ctc","domashniy","dzen","wifi","yandexMusic"]);if(!t)return;const i=Tu.getNumberFlagValueAndActivateTestId("VAS_GRAB_LENGTH")||af,n=Tu.getNumberFlagValueAndActivateTestId("VAS_GRAB2_SIZE")||0,r=Tu.getNumberFlagValueAndActivateTestId("VAS_GRAB2_TIMEOUT")||0;return n>0&&r>0?function(e,t,i,n){let r,o;if(rf&&rf+nf>Number(new Date))return of;if(function(e){return e.top!==e.self}(n))if(o=lt(n),r=ct(n,"body",["class"]),""===r)try{o=lt(n.parent),r=ct(n.parent,"body",["class"],i)}catch(hb){}else o=lt(n),r=ct(n,"body",["class"]);else o=lt(n),r=ct(n,"body",["class"]);const a=["<html>",o,r,"</html>"].join(""),s="exp"===Tu.getFlagValueAndActivateTestId("GRAB2_REMOVE_LEGACY")?"":it(e);return of=function(e,t,i){const n=function(e){const t={grab_version:2};return"exp"!==Tu.getFlagValueAndActivateTestId("GRAB2_REMOVE_LEGACY")&&(t.old_grab_size=e.length),JSON.stringify(t)}(t),r=function(e,t){const i=function(e,t){var i,n;ig=e,ng=0,"undefined"===typeof t&&(t=og),Tg(t);for(var r=new Array(1024),o=[];(i=Lg(r,0,r.length))>0;){var a=new Array(i);for(n=0;n<i;n++)a[n]=String.fromCharCode((256+r[n])%256);o[o.length]=a.join("")}return ig=null,o.join("")}(st(t,1/0),9);return at(e+"\n"+i)}(n,t+e);return r.length<i?r:r.slice(0,i)}(a,_e(s),t),rf=Number(new Date),of}(i,n,r,e):i>0?it(i):void 0}function ft(e){let{url:t,options:i,ignoreAbd:n=!1,win:r,preferableAdSize:o,isVmapRequest:a=!1}=e;if(he(r)&&!n)return t;if(!Se(t)&&!ye(t))return t;const s=Math.round(100*i.videoVolume),l=ue(),d=Tu.getActiveTestIds().join(";"),c=null==lu?void 0:lu.productTheme,u=function(e){var t,i,n;const{preferableAdSize:r,adPlacementOptions:o}=e,a=o.size,s=o.screenSize,l=Math.round((null==r?void 0:r.width)||(null==o||null==(t=o.size)?void 0:t.width)||(null==a?void 0:a.width)||0),d=Math.round((null==r?void 0:r.height)||(null==o||null==(i=o.size)?void 0:i.height)||(null==a?void 0:a.height)||0),c=o.visibility>0?1:0,u=null!=(n=o.videoNodePosition)?n:{top:0,left:0},h=o.devicePixelRatio;return(s.width<l||s.height<d)&&Ih.log({name:"LayoutConfigWinSizeIsSmallerThanVideoNodeSize",data:{winSize:s,videoSlotSize:{width:l,height:d}}}),{win_width:Math.round(s.width),win_height:Math.round(s.height),pixel_ratio:h,bandwidth:o.downlink,width:l,height:d,w:l,h:d,left:u.left,top:u.top,visible:c,req_no:km++}}({preferableAdSize:o,adPlacementOptions:i}),h={[Mp]:Xd,[Bp]:$c,[Fp]:Cm(),[Up]:fu,[$p]:Pm(r),[zp]:xu,[jp]:Vu?"0":"1",[Vp]:String(Date.now()),[Lp]:String((new Date).getTimezoneOffset()),[Hp]:"0",[qp]:String(s),[Xp]:i.videoMuted?"1":"0",[Zp]:d||void 0,[em]:void 0===l?"unknown":String(l),[tm]:void 0===i.isFullscreen?"unknown":String(i.isFullscreen),[im]:de(r)?ce(r):void 0,[nm]:void 0===i.adPodId?"unknown":i.adPodId,[rm]:void 0===c?"unknown":c,"layout-config":JSON.stringify(u),"enable-page-options":a?Im:void 0},p=Tu.getFlagValueAndActivateTestId("VAS_INLINE_PREROLL");!a||"enable-header"!==p&&"enable-header-with-ignore-referrer"!==p||(h.grab=gt(r));const m=$e();return m&&(Gm(m)?(h[am]=m.getTizenId(),h[sm]=m.getTizenDuid(),h[lm]=m.getTizenTifa()):qm(m)&&(h[om]=m.getLGDuidSync())),N(t,h,{override:!1})}function At(e){return[].concat.apply([],e)}function _t(e){return!!e&&Boolean(e.show||e.token||e.advertiserInfo)}function yt(e){return-1!==e.search(/[rR]each/)}function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},bt.apply(null,arguments)}function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},St.apply(null,arguments)}function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tt.apply(null,arguments)}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Et.apply(null,arguments)}function wt(e){const t=[];if(!tc(e))return t;for(const i of e){const e=Ct(i);e&&t.push(e)}return t}function Ct(e){if(!n(e))return;const{width:t,height:r,url:o,type:a}=e;return m(o)?Et({},i(t)&&i(r)?{width:t,height:r}:void 0,m(a)?{type:a}:void 0,{url:o}):void 0}function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pt.apply(null,arguments)}function kt(e){if(!n(e))return vf;const{type:t,poster:i}=e;return Pt({},t in pf?{type:t}:void 0,{poster:wt(i)})}function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},It.apply(null,arguments)}function Ot(e){return!!n(e)&&!!e.id&&!!m(e.description)}function Dt(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var n;const i=e.getAttribute(t);return null!=(n=null==i?void 0:i.trim())?n:""}return i}function Nt(e){var t,i;return null!=(t=null==e||null==(i=e.textContent)?void 0:i.trim())?t:""}function Rt(e){return Boolean(e&&Nt(e).length)}function xt(e){const t=parseInt(Dt(e,"width",0),10),n=parseInt(Dt(e,"height",0),10),r=parseInt(Dt(e,"bitrate",0),10),o=Dt(e,"minBitrate",""),a=o?parseInt(o,10):void 0,s=Dt(e,"maxBitrate",""),l=s?parseInt(s,10):void 0,d=Dt(e,"vmafAvg",""),c=d?parseFloat(d):void 0,u=Dt(e,"codec",""),h={width:t,height:n,bitrate:r,type:Dt(e,"type"),url:Nt(e)};return m(u)&&(h.codec=u),i(a)&&(h.minBitrate=a),i(l)&&(h.maxBitrate=l),i(a)&&i(l)&&a>l&&Ih.error({error:new Qu({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:h}})}),i(c)&&(h.vmafAvg=c),h.url?h.type?h:(Ih.error({error:new Qu({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:h}})}),null):(Ih.error({error:new Qu({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:h}})}),null)}function Vt(e){var t,i,r;if(!n(e))return;const o=null==(t=e.AUCTION_DC_PARAMS)||null==(i=t.data_params)||null==(r=i.misc)?void 0:r.productType;return m(o)?o:void 0}function Lt(e){const t={};return n(e)&&$d(c(e),(i=>{const n=e[i];Array.isArray(n)&&(t[i]=yu(n,(e=>"string"===typeof e)))})),t}function Mt(){const e={};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return $d(i,(t=>{$d(c(t),(i=>{const n=e[i]||[],r=t[i]||[];e[i]=[...n,...r]}))})),e}function Bt(e){if(void 0===e)return;const t=Number(e);return i(t)?t:void 0}function Ft(e,t){const i={};return $d(c(e),(n=>{t(e[n],n)&&(i[n]=e[n])})),i}function Ut(){return Ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ut.apply(null,arguments)}function Ht(e){const t=lf(Cf);if(!n(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip");const{controlsSettings:r}=e;if(n(r)){const{controlsVisibility:e}=r;if(n(e)&&("undefined"===typeof r.pause&&"undefined"!==typeof r.play&&(t.controlsVisibility.pause=r.play),b(e,((e,i)=>{Ef.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)}))),!1===r.visibility){const e=Ft(t.controlsVisibility,(e=>!0===e));t.controlsVisibility=Ut({},wf,e)}"videoInCombo"===r.skinVariant?t.skinVariant="videoInCombo":t.skinVariant=kf()}return delete t.visibility,t}function zt(e){const t=Object.values;if("function"===typeof t)return t(e);const i=[];for(const n in e)d(e,n)&&i.push(e[n]);return i}function jt(e,t){const r=n(e)?e:{},o="number"===typeof r.bufferFullTimeout?Math.min(r.bufferFullTimeout,bf):void 0,a=Uf(r,t),s=Hf(r,t);return{config:{pauseOnClickThrough:void 0!==r.pauseOnClickThrough&&Boolean(r.pauseOnClickThrough),backgroundBlur:void 0===r.backgroundBlur?void 0:Boolean(r.backgroundBlur),description:"string"===typeof r.description?r.description:void 0,videoTimeout:i(r.videoTimeout)?r.videoTimeout:void 0,vpaidTimeout:i(r.vpaidTimeout)?r.vpaidTimeout:void 0,bufferFullTimeout:o,bufferEmptyLimit:i(r.bufferEmptyLimit)?r.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof r.clickThroughUrl?r.clickThroughUrl:void 0,trackingEvents:r.trackingEvents?Lt(r.trackingEvents):{},controlsSettings:Ht(r),videoSlotCanAutoPlay:void 0===r.videoSlotCanAutoPlay?void 0:Boolean(r.videoSlotCanAutoPlay),desiredBitrate:Bt(r.desiredBitrate),lang:a,bannerLang:s,contentAfterAd:kt(r.contentAfterAd),keepControlsAfterVideoEnd:"boolean"===typeof r.keepControlsAfterVideoEnd?r.keepControlsAfterVideoEnd:void 0},errors:[]}}function Wt(e){try{return"string"===typeof e?JSON.parse(e):void 0}catch(hb){return}}function Yt(e,t,i){if(Se(e)||ye(e)){if(oe(e,t,i))return}else Se(e)&&Ih.log({name:"TrackYandexUrlWithImage",data:{url:e},probability:Wu});!function(e){(new Image).src=e}(e)}function Gt(e){let{error:t,trackingUrls:i}=e;ah("Track error=["+t+"]");const n="code"in t?t.code:"0",r=sh(i,(e=>function(e,t){if(!e||-1===e.indexOf($f))return e;const i=t in Qf?Qf[t]:Kf;return e.replace($f,""+i)}(e,n)));!function(e){if(!Array.isArray(e))return;const t=sh(e,(e=>ft({url:e,options:Gd,win:window})));$d(t,(e=>Yt(e)))}(r)}function qt(e,t){void 0===t&&(t=[]),Ih.errorToStats(e),Gt({error:e,trackingUrls:t})}function Xt(e){return"string"!==typeof e?NaN:bc(e.split(":").reverse(),((e,t,i)=>e+parseFloat(t)*60**i),0)}function Kt(e){if(e.indexOf("%")>-1){const i=parseFloat(e);return t(i)?{unit:"portion",value:i/100}:void 0}const i=Xt(e);if(t(i))return{unit:"seconds",value:i}}function Jt(e){return"number"===typeof e&&isFinite(e)&&e>=0}function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zt.apply(null,arguments)}function Qt(e){return void 0===e&&(e=""),e.replace(iA,(e=>e in nA?nA[e]:e))}function $t(e){if(!n(e))return;const t="AUCTION_DC_PARAMS"in e?e:null==e?void 0:e.adParameters;if(!t)return;const{AUCTION_DC_PARAMS:i}=null!=t?t:{};if(!n(i))return;const{data_params:r}=i;return n(r)?kh(r):void 0}function ei(e){const t=$t(e);if(!t)return;const{text:i}=t;return n(i)?i:void 0}function ti(e){const t=ei(e);if(!t||!n(e))return{};const{HAS_TITLE:i,HAS_BODY:r}=e;return{title:m(t.title)?Qt(t.title):void 0,body:m(t.body)?Qt(t.body):void 0,hasBody:"boolean"===typeof r?r:void 0,hasTitle:"boolean"===typeof i?i:void 0}}function ii(e){let{domain:t,greenUrlTextPrefix:i,greenUrlTextSuffix:n}=e;return m(i)?i:m(n)?n:m(t)?t:void 0}function ni(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return n(t)&&m(t[Nf])?t[Nf]:m(i)?i:void 0}function ri(e){const t=$t(e);if(!n(t))return;const{unmoderated:i}=t;return n(i)?i:void 0}function oi(e){return t(e)&&Math.floor(e)===e}function ai(e){return i(e)&&oi(e)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},si.apply(null,arguments)}function li(e){var t,i;const{AUCTION_DC_PARAMS:r}=e;if(!n(r)||!n(r.data_params))return;const o=kh(r.data_params);if(!n(o))return;const a=(null==(t=o.click_url)?void 0:t.action_button)||(null==(i=o.click_url)?void 0:i.text_name);return m(a)?a:void 0}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},di.apply(null,arguments)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ci.apply(null,arguments)}function ui(e,t){let i=!1;const n=function(){const n=i?t:e;return i=!0,n.apply(this,arguments)};return function(){return n.apply(this,arguments)}}function hi(e){let{win:t,methodName:i,data:n,id:r}=e;t.postMessage({methodName:i,data:n,id:r},"*")}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},pi.apply(null,arguments)}function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},mi.apply(null,arguments)}async function vi(e){let{adFoxUrl:t,adFoxParameters:i,secureMode:r,stats:o}=e;const a=bh({secureMode:r,url:t})?Op:Np;try{const e=await a({url:t,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");if(s(e.responseText)&&0===e.responseText.length)throw new Qu({code:"ADFOX_AD_DATA_IS_EMPTY_STRING",details:{adFoxUrl:t}});const{creative:i,errors:r}=function(e){const t=Wt(e),i=[];if(!n(t))throw new Qu({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{errors:r,data:o}=t;if(Array.isArray(r)&&r.length>0){if(t.errors&&1===t.errors.length&&"204"===t.errors[0].status)throw new Qu({code:"NO_AD_SECTION",details:{reason:"status-204"}});throw new Qu({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}})}if(!Array.isArray(o))throw new Qu({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const a=yu(o,((e,r)=>{if(!n(e)||!n(e.attributes))return i.push(new Qu({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:r}})),!1;const{campaignId:o,vastBase64:a}=e.attributes;return"string"===typeof a&&a.length>0||"string"===typeof o&&o.length>0||(i.push(new Qu({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:r}})),!1)}));if(0===a.length)throw new Qu({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return a.length>1&&i.push(new Qu({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:a[0].attributes,errors:i}}(e.responseText);return Ae(r,o),i}catch(l){if(ae(l))throw l;throw new Qu(l,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:i,adFoxUrl:t}})}}function gi(){return{width:window.innerWidth,height:window.innerHeight}}function fi(e){if(void 0===e&&(e=window),"undefined"!==typeof __hermione__&&__hermione__)return 10;const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case NA.BLUETOOTH:return 3;case DA.CELL_2G:return.384;case DA.CELL_3G:case NA.CELLULAR:return 2;case NA.WIMAX:return 37;case NA.NONE:return 0;case DA.ETHERNET:case NA.ETHERNET:case DA.WIFI:case NA.WIFI:case NA.MIXED:return 10;case DA.UNKNOWN:case NA.UNKNOWN:case NA.OTHER:}return-1}function Ai(e){let t;try{t=JSON.stringify(e)}catch(hb){}return t}function _i(e){void 0===e&&(e=window);let t="";const i=e,n=i.context,r=i.Ya;return tt(i)&&n&&n.master.Ya&&n.master.Ya.getSkipToken?t=n.master.Ya.getSkipToken():r&&r.Context&&r.Context.AdvManager&&r.Context.AdvManager.getSkipToken&&(t=r.Context.AdvManager.getSkipToken()),t}function yi(e){return void 0===e&&(e=window),String(e.location)}function bi(e){return void 0===e&&(e=window),ot(BA(e.document,"_ym_uid")||"")}function Si(e){return void 0===e&&(e=window),e.location.hostname}function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ti.apply(null,arguments)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ei.apply(null,arguments)}function wi(e,t){void 0===t&&(t="");const{params:i,bids:n,matchIdDirect:r=!1,reloadCounter:o}=e,a=Ei({},function(e){const t=e.win||window,i=void 0===e.isTurbo?et(t):e.isTurbo,n=fh(zA,(e=>e.test(t.location.hostname)));return UA(Ei({},e,{win:t,isTurbo:i,addsSsSkipToken:n}))}(e),i||{},r?{"matchid-direct":1}:{},{"enable-page-options":65536});if($d(jA,(e=>{a[e]=void 0})),Boolean(a.pk)&&void 0!==a.pk)try{a.pk=decodeURIComponent(a.pk)}catch(hb){}if(n){const e=sh(n,(e=>Ei({},e,{placement_id:e.placement_id?String(e.placement_id):void 0})));e.toJSON&&(e.toJSON=void 0),a.bids=ot(Ai(e)||"")}return a.grab=it(HA-t.length),a.utf8="\u2713",o&&(a.adf_refresh=o),a}function Ci(){const e=window;var t,i,n;return"number"!==typeof e.pr&&(e.pr=(null==e||null==(t=e.Ya)?void 0:t.headerBidding)&&(null==e||null==(i=e.Ya)||null==(n=i.headerBidding)?void 0:n.pr)||MA()),e.pr}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pi.apply(null,arguments)}function ki(e,t){const i=oh(window);let n;try{const t=gu.loaderLoadedFromAnYandexRu?du+"/adfox":cu+"/ads/adfox";n=function(e){const{base:t,queryParams:i}=function(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:n,ownerId:r,domain:o=WA}=e;return t=n?"getBulk/v2":i?"getCodeTest":"prepareCode","https://"+o+"/"+r+"/"+t}(e);return{base:t,queryParams:wi(e,t)}}(e);return N(t,i)}(Pi({},e,{layoutConfig:new xA,useXhr:!0,domain:t,pr:Ci()}))}catch(o){throw new Qu(o,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!Te(n))throw new Qu({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const r=ft({url:n,options:t,ignoreAbd:!0,win:window});return i?i(r):r}function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ii.apply(null,arguments)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Oi.apply(null,arguments)}function Di(e){return nh&&0!==pe(nh).length&&f(nh.isEncodedUrl)&&nh.isEncodedUrl(e)&&f(nh.decodeUrl)?nh.decodeUrl(e):e}function Ni(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=yu(i,(e=>"video"===Ce(e)||Se(Di(e.url))))),i}function Ri(e,t){const i=Ni(e,t);return sh(i,(e=>"video"!==Ce(e)?e:KA(e)))}function xi(e){let{secureMode:t,vastAd:i}=e;const n=Ri(i.mediaFiles,t);return!!n.length&&IA(n,(e=>"video"===Ce(e)))}function Vi(e){const t={};return h(e,((e,i)=>{t[e]=i})),t}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Li.apply(null,arguments)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Mi.apply(null,arguments)}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bi.apply(null,arguments)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fi.apply(null,arguments)}function Ui(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}function Hi(e){var t;const{adParametersObject:i}=e;if(!n(i))throw new Qu({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{mediaFiles:r,adTitle:o,adTune:a}=i,s=Ui(i,o_);if(o){const{errors:t,params:i}=hA(o);null!=t&&t.length?Ih.error({error:new Qu({code:"YANDEX_VAST_INCORRECT_AD_TITLE_EXTENSION_AD_PARAMETERS",details:{errors:t}})}):(Ih.log({name:"UsingAdTitleExtensionInAdParametersVast",probability:Wu}),e.adTitleParameters=i)}if(a){const{errors:t,params:i}=pA(a);t&&Ih.error({error:new Qu({code:"YANDEX_VAST_INCORRECT_ADFOX_ADTUNE_AD_PARAMETERS",details:{errors:sh(t,(e=>JSON.stringify(e)))}})}),i&&(Ih.log({name:"UsingAdFoxAdTuneExtensionInAdParametersVast",probability:Wu}),e.adTune=i)}const l=Fi({},s,{mediaFiles:r}),{clickUrlData:d}=e,c=null!=(t=d.serializablePlaybackParametersClickUrl)?t:d.vastClickUrl,u=Fi({},e.serializablePlaybackParameters,{clickThroughUrl:c});return Fi({},e,{mediaFiles:[hf],adParametersObject:l,adParameters:JSON.stringify(l),originallyConvertedFromVast:e,serializablePlaybackParameters:u})}function zi(e){const{adParametersObject:t}=e;if(!n(t))throw new Qu({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:r,HAS_AGE:o,HAS_LEGAL:a,LEGAL_TEXT:s}=t,l=Fi({},Ui(t,a_),{adParameters:Fi({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:r}:{},"HAS_AGE"in t?{HAS_AGE:o}:{},"HAS_LEGAL"in t?{HAS_LEGAL:a}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[i_]});return Fi({},e,{mediaFiles:[hf],adParametersObject:l,adParameters:JSON.stringify(l),originallyConvertedFromVast:e})}function ji(e){const{adParametersObject:t}=e;if(!n(t))throw new Qu({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});let i;if(!(tc(t.mediaFiles)&&t.mediaFiles.length>0))throw new Qu({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:e}});i=t.mediaFiles;const r=Fi({},t,{mediaFiles:i,adParameters:Fi({},t),adCreativeConversionType:"theme-empty"}),o=e.clickUrlData.tgaOfferClickUrl||e.clickUrlData.vastClickUrl;return Fi({},e,{mediaFiles:[hf],adParametersObject:r,adParameters:JSON.stringify(r),originallyConvertedFromVast:e,forceFullClickableVideoUrl:o})}function Wi(e){var t,i,n;let{secureMode:r,vastAd:o}=e;const{trackingEvents:a}=o,s=Ni(o.mediaFiles,r);if(0===s.length)throw new Qu({code:"CANNOT_CONVERT_VIDEO_VAST_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:o}});const l={adParameters:{},mediaFiles:s};"undefined"!==typeof(null==o||null==(t=o.adParametersObject)?void 0:t.socialAdvertising)&&(l.socialAdvertising=Boolean(o.adParametersObject.socialAdvertising)),"undefined"!==typeof(null==o||null==(i=o.adParametersObject)?void 0:i.adTitle)&&(l.adTitle=o.adParametersObject.adTitle),"undefined"!==typeof(null==o||null==(n=o.adParametersObject)?void 0:n.subtitles)&&(l.subtitles=o.adParametersObject.subtitles);const d=r_(o);d&&(l.adParameters.clientLegalInfo=d);const c=le(l),u=o.clickUrlData.vastClickUrl;return Fi({},o,{mediaFiles:[hf],adParametersObject:l,adParameters:c,serializablePlaybackParameters:Fi({},o.serializablePlaybackParameters||{lang:Nf},{clickThroughUrl:u,trackingEvents:a,controlsSettings:{controlsVisibility:{}},contentAfterAd:vf}),clickUrlData:Fi({},o.clickUrlData,{serializablePlaybackParametersClickUrl:u}),originallyConvertedFromVast:o})}function Yi(e){const{adParametersObject:t}=e;if(!n(t))throw new Qu({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=e.clickUrlData.tgaOfferClickUrl,r=Fi({},e.adParametersObject,{adParameters:e.adParametersObject});return Fi({},e,{mediaFiles:[hf],adParametersObject:r,adParameters:JSON.stringify(r),serializablePlaybackParameters:Fi({clickThroughUrl:i},t.playbackParameters),clickUrlData:Fi({},e.clickUrlData,{serializablePlaybackParametersClickUrl:i}),originallyConvertedFromVast:e})}function Gi(e){var t;const{adParametersObject:i}=e,{vastClickUrl:r}=e.clickUrlData;if(!n(i))throw new Qu({code:"CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const o=null!=(t=i.trackingEvents)?t:{},a=tc(o.clickThrough)?o.clickThrough:[];o.clickThrough=[...a,r],Ih.log({name:"UseSurveyClickThroughUrlAsClickTracking",data:{adParametersObject:i}});const s=Fi({},i,{mediaFiles:[n_],adParameters:Fi({},i),trackingEvents:o});return Fi({},e,{mediaFiles:[hf],adParametersObject:s,adParameters:JSON.stringify(s),originallyConvertedFromVast:e})}function qi(e){var t;let i,{vastAd:n,secureMode:r}=e;if(void 0===n.mediaFiles[0])return{vastAd:n,reason:"ConvertNothingWithoutMediaFile"};if(xi({secureMode:r,vastAd:n}))return{vastAd:Wi({secureMode:r,vastAd:n}),reason:"ConvertVideoVastIntoAdCreative"};try{i=Ie(n.adParametersObject),Ih.log({name:"CreativeDetectedByParameters",sensors:{method:i.detectionMethod,source:"vastLoader"}})}catch(c){throw Ih.log({name:"PrepareYandexVastDetectionError",data:{error:c},probability:Hu}),c}const o="motion"===i.adFormatType,a="themeEmpty"===i.adFormatType,s="survey"===i.adFormatType,l="interactiveViewer"===i.adFormatType,d="clickableVideo"===i.adFormatType;if(!n.originallyConvertedFromVast&&(null==(t=n.adParametersObject)||!t.__dontCovertMePlease__)){if(d)return{vastAd:Yi(n),reason:"ConvertClickableOnlyVideo"};if(a)return{vastAd:ji(n),reason:"ConvertVideoBannerThemeEmpty"};if(l)return{vastAd:Hi(n),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(o)return{vastAd:zi(n),reason:"ConvertMotionVpaidIntoAdCreative"};if(s)return{vastAd:Gi(n),reason:"ConvertVideoBannerSurveyAdCreative"}}return{vastAd:n,reason:"ConvertNothingForNonYandex"}}function Xi(e){const{adParametersObject:t}=e;return!!t&&Pe(t.theme,t)}function Ki(e){const t=qA(e);return R(zh,t)}function Ji(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&function(e){let{url:t}=e;return t===uf}(i)}function Zi(e){var t;const{mediaFiles:i,adParametersObject:r}=e;if(!n(null==r||null==(t=r.adParameters)?void 0:t.pythia))return!1;const[o]=i;return void 0!==o&&Ji(e)}function Qi(e){let{mediaFiles:t,adParametersObject:i}=e;if((null==i?void 0:i.theme)===Nh.SURVEY)return!0;const[n]=t;return void 0!==n&&function(e){const t=qA(e);return R(s_,t)}(Di(n.url))}function $i(e){const{adParametersObject:t}=e;return(null==t?void 0:t.theme)===Nh.EMPTY&&l_(e)}function en(e){return!m(e)||e.startsWith("http:/")||e.startsWith("https:/")?e:"https://"+e}function tn(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function nn(e){if(!n(e))return;const t={},i=["string","number","boolean"];for(const n in e)e.hasOwnProperty(n)&&i.indexOf(typeof e[n])>=0&&(t[n]=e[n]);return t}function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},rn.apply(null,arguments)}function on(){return on=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},on.apply(null,arguments)}function an(e){var t;if(gu.isDebugEnabled&&Boolean(null==(t=console)?void 0:t.error)){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];console.error(e,...n)}}function sn(e,t){const i=[],n=[];return $d(e,((r,o)=>{t(r,o,e)?i.push(r):n.push(r)})),[i,n]}function ln(e){return!!n(e)&&"string"===typeof e.url&&!!e.url.trim()&&"string"===typeof e.type&&!!e.type.trim()}function dn(e){const t=[];if(!Array.isArray(e))throw new Qu({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new Qu({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=yu(e,ln);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new Qu({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const[n,r]=sn(i,(e=>e.type===JA));if(n.length>1)throw new Qu({code:"AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});return{errorCodes:t,videoMediaFiles:r,animationMediaFile:n[0]}}function cn(e){const t=[];let i={};if(n(e))i=e;else{if("string"!==typeof e)throw new Qu({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(u){throw new Qu(u,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}}if(!n(i))throw new Qu({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{adParameters:r,mediaFiles:o}=i,{errorCodes:a,animationMediaFile:s,videoMediaFiles:l}=dn(o),d=sh(a,(t=>new Qu({code:t,details:{adParametersString:JSON.stringify(e)}})));return t.push(...d),{raw:i,parsed:{animationMediaFile:s,videoMediaFiles:l,adParameters:(c=r,"string"===typeof c?c:n(c)?Ai(c):void 0)},errors:t};var c}function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},un.apply(null,arguments)}function hn(e){(new Image).src=e}function pn(e){return!!m(e)&&A_.indexOf(e.toLowerCase())>-1}function mn(e){return Jt(e.height)&&Jt(e.width)}function vn(e,t){return function(e,t,i){if(e.length<1)return;let[n]=e,r=t(n);for(let o=1;o<e.length;o++){const i=e[o],a=t(i);a-r<0&&(n=i,r=a)}return n}(e,t)}function gn(e){let t;try{t=e.devicePixelRatio}catch(hb){}return i(t)?t:1}function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fn.apply(null,arguments)}function An(e,t,i){const{width:n,height:r}=t,o=function(e,t){const{height:i}=t,n=yu(e,mn),r=void 0===i?n[0]:vn(n,(e=>{let{height:t}=e;return Math.abs(t-i)}));return r}(e,t);if(o&&m(o.url)){const e=n&&r?i.width*r/n:i.width*o.height/o.width,t=i.width,a=gn(window),s={width:t*a,height:e*a},l=w_.getPrefferedSizesFirstFrameImage(o.url,s);if(l)return fn({},o,{url:w_.replaceUrlAlias(o.url,l.alias),width:l.width,height:l.height})}return o}function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_n.apply(null,arguments)}function yn(e,t){return function(){try{e(...arguments)}catch(i){Ih.error({error:new Qu(i,{code:t})}),Ue(i)}}}function bn(e,t){var i,n,r;return null==(i=t.ya)||null==(n=i.videoAd)||null==(r=n.loadedModules)?void 0:r[e]}function Sn(e){return function(e){const{src:t,win:i,onBeforeLoad:n=Y}=e,r=new Qu(new Error,{});let o=Y;return{promise:new Promise(((e,a)=>{const s=i.document.createElement("script");let l=!1;o=()=>{l=!0,Re(s)};s.type="text/javascript",s.async=!0,s.onload=()=>{l||e()},s.onerror=e=>{l||(a(new Qu(r,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),o())},s.src=t,s.charset=D_,n(s),Ze(i).appendChild(s)})),teardown:o}}(e)}function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tn.apply(null,arguments)}function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},En.apply(null,arguments)}function wn(e){const{src:t,win:i}=e,n=function(e,t){var i;const n=null==(i=I(e))?void 0:i.hostname;if(!n)return e;const r=oh(t);return r?-1===mu.indexOf(n)?e:r(e):e}(t,i);return Sn(En({},N_,e,{src:n}))}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cn.apply(null,arguments)}function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pn.apply(null,arguments)}function kn(e){let{animationMediaFile:t,win:i}=e;const{url:n}=t,r=t_[n];if(n===Af)return{teardown:Y,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t,adParametersString:i,stats:n},duration:r}=e;const o=new M_;let a;return{startAd(e){if(!m(i))throw new Qu({code:"NO_AIM_AD_CREATIVE_INVALID_PARAMETERS",details:{adParametersString:i}});e.dispatchAdStarted();const{filterReasons:s}=JSON.parse(i);a=t.ownerDocument.createElement("div"),xe(a,B_);const l=t.ownerDocument.createElement("h2");l.textContent="\u041d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e",xe(l,F_),a.appendChild(l);const d=t.ownerDocument.createElement("p");if(d.textContent="\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435, \u043d\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0435",a.appendChild(d),s&&s.length){d.textContent=d.textContent+". \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u0440\u0435\u0430\u0442\u0438\u0432\u044b \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u044b:";const e=t.ownerDocument.createElement("ul");xe(e,U_),$d(s,(i=>{let{id:n,description:r}=i;const o=t.ownerDocument.createElement("li");o.textContent="#"+n+": "+r,e.appendChild(o)})),a.appendChild(e)}const c=t.ownerDocument.createElement("p");c.textContent="\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0438\u0442\u0435 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b.",a.appendChild(c);const u=t.ownerDocument.createElement("p");return u.textContent="VSID: "+fu,a.appendChild(u),t.appendChild(a),n.log({name:"NoAimScreenShowStarted",probability:Hu}),new Promise((e=>{o.start(),o.addCallback(r*L_,(()=>{o.destroy(),n.log({name:"NoAimScreenShowCompleted",probability:Hu}),e({reason:"complete"})}))}))},stopAd(){o.destroy(),n.log({name:"NoAimScreenShowStopped",probability:Hu}),Re(a)},pauseAd(){o.stop()},resumeAd(){o.start()},getAdRemainingTime:()=>Math.max(r-o.getTime()/L_,0),getAdDuration:()=>r}}({adCreativeInitParameters:e,duration:15});return{promise:Promise.resolve(t),teardown:Y}}))};if(n===j_||n===W_)return{teardown:Y,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t}}=e;const i=new M_;let n;return{startAd:e=>(e.dispatchAdStarted(),n=t.ownerDocument.createElement("div"),xe(n,H_),n.textContent="VAS test AdCreative STARTED",t.appendChild(n),new Promise((e=>{i.start(),i.addCallback(z_*L_,(()=>{i.destroy(),e({reason:"complete"})}))}))),stopAd(){i.destroy(),Re(n)},pauseAd(){n.textContent="VAS test AdCreative PAUSED",i.stop()},resumeAd(){n.textContent="VAS test AdCreative PLAYING",i.start()},getAdRemainingTime:()=>Math.max(z_-i.getTime()/L_,0),getAdDuration:()=>z_}}({adCreativeInitParameters:e});return{promise:Promise.resolve(t),teardown:Y}}))};if(void 0!==r){let e=Y;const t=new Promise(((t,n)=>{e=function(e){var t;let{moduleName:i,version:n=Lh,onSuccess:r,onError:o,win:s,timeout:l}=e;const d=null!=(t=gu.hardcodedParams.adsdkecmaver)?t:I_;let c="loading";const u=Date.now(),h=a(yn((e=>{c="success";const t=Date.now()-u;Ih.log({name:"ModuleLoaded",data:{loaderVersion:Xd,bundleVersion:n},values:{timeSpent:t},sensors:{bundleName:i},dailySensors:{ecmaVersion:d,bundleName:i}}),r(e)}),"LOAD_MODULE_CALLBACK_ERROR")),p=a(yn((e=>{c="error",Ih.error({error:e}),o(e)}),"LOAD_MODULE_CALLBACK_ERROR"));if(P_(s))return Ih.log({name:"LoadModuleBrokeInIE",probability:Hu}),p(new Qu({code:"LOAD_MODULE_REJECTED_IN_IE",details:{moduleName:i,version:n,timeout:l}})),Y;const m=bn(i,s);if(m)return h(m),Y;const v=O_({version:n,bundleName:i,win:s,ecmaVersion:d}),{promise:g,teardown:f}=x_({src:v,win:s}),{promise:A,clear:_}=Ch(l,window),y=Ne({element:s,eventName:"unload",listener:()=>{p(new Qu({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:i,version:n,timeout:l}}))}}),b=()=>{y(),_()};return A.then((()=>{p(new Qu({code:"LOAD_MODULE_TIMEOUT",details:{moduleUrl:v,moduleName:i,version:n,timeout:l}}))})),g.then((()=>{b();const e=bn(i,s);e?h(e):p(new Qu({code:"CANNOT_INIT_MODULE",details:{moduleUrl:v,moduleName:i,version:n}}))})).catch((e=>{b(),p(new Qu(e,{code:"CANNOT_LOAD_MODULE",details:{moduleUrl:v,moduleName:i,version:n}}))})),()=>{b(),f(),"loading"===c&&Ih.log({name:"LoadModuleTeardownCalled",probability:Hu})}}({moduleName:r,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{n(e)},win:i,timeout:3e4})}));return{teardown:e,promise:t}}const{promise:o,teardown:s}=wn({src:n,win:i});return{promise:o.then((()=>i.initAdCreative)),teardown:s}}function In(e){let{scope:t,errorType:i,error:n,details:r}=e;return new Qu(n,{code:Y_(t,i),details:r})}function On(e,t){return function(e,t){const i=[];i.push(Ne({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{event:e})}})),i.push(Ne({element:e,eventName:"error",listener:(e,i,n,r,o)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:n,column:r,error:o,filename:null==e?void 0:e.filename,message:null==e?void 0:e.message})}})),i.push(Ne({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:n,documentURI:r,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:n,documentURI:r,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const r=new G_.CSPLogger({project:"adsdk",from:JSON.stringify({vsid:fu,version:Xd})});r.subscribe(e.document),i.push((()=>{r.unsubscribe(e.document)}));const o=new q_({win:e,onReport:e=>{const{reportSourceEvent:i,reports:r,records:o}=e;if(0===r.length&&0===o.length)return;const a=new Error;$d(pe({reports:r,records:o}),(e=>{let[r,o]=e;return $d(o,(e=>{t(a,function(e){if(!n(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!m(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(n(i)&&"message"in i&&m(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:r,report:e})}))}))}});return i.push((()=>{o.destroy()})),()=>W(i)}(e,((e,i,n)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=n;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(X_)>-1)return}}t(e,i,n)}))}function Dn(e){return 0===Z_.length&&(J_=window.setInterval((()=>{W(Z_)}),K_)),Z_.push(e),()=>{const t=Z_.indexOf(e);t>-1&&Z_.splice(t,1),0===Z_.length&&window.clearInterval(J_)}}function Nn(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&Le(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;!function(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}(i)}function Rn(){const e=Nn(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xn.apply(null,arguments)}function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Vn.apply(null,arguments)}function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ln.apply(null,arguments)}function Mn(e){try{var t;return(null!=(t=e.navigator)?t:{}).userAgent||""}catch(hb){return""}}function Bn(e){if(m(e))return e.split(",")[0].trim()}function Fn(e){return 0===e.indexOf("avc1.")}function Un(e){return"vp8"===e||"vp08"===e||0===e.indexOf("vp08.")||0===e.indexOf("vp8.")}function Hn(e){return"vp9"===e||"vp09"===e||0===e.indexOf("vp9.")||0===e.indexOf("vp09.")}function zn(e){let{mediaFile:t,canPlayType:i,videoSlot:n,isEnabledStreamingMediaFiles:r,isAdfoxRequest:o}=e;const{type:a}=t,l=vy(t.codec);if(!s(a))return"noType";if(a===hy){var d;const{version:e,name:t}=cy(window);if(Tc){const t=Number(e)<16,i=!t&&"TRUE"===Tu.getFlagValueAndActivateTestId("ENABLE_WEBM_SAFARI_16");if(t||!i)return"cannotPlayWebmDueToMacOSLimitations"}if("Win32"===(null==(d=window.navigator)?void 0:d.platform)&&"chrome"===t&&"110"===e&&!oy)return Ih.log({name:"FilterWebmTypeForChrome110"}),"cannotPlayWebm110Bug"}const c=py({type:a,codec:l});let u=!1;if(c===uy)if(Pf()){const e=!o;(o&&"with_adfox"===Tu.getFlagValueAndActivateTestId("VAS_INSTREAM_USE_DASH_MIME_TYPE")||e)&&(u=!0)}else r&&(u=!0);if(u){if(!i(c,n))return"cannotPlay"}else if(!i(c))return"cannotPlay";const h=function(e){let{mediaFile:t,abFlags:{disableVp8:i,enableH265:n}}=e;const r=Bn(t.codec);if(m(r)&&!Fn(r)){if(Un(r))return i?"vp8CodecIsDisabled":void 0;if(function(e){return 0===e.indexOf("hev1.")}(r)||function(e){return 0===e.indexOf("hvc1.")}(r))return n?void 0:"h265CodecIsDisabled";if(!Hn(r))return"unsupportedVideoCodec"}}({mediaFile:{codec:l,width:t.width,height:t.height},abFlags:{disableVp8:"TRUE"===Tu.getFlagValueAndActivateTestId("DISABLE_VP8_CODECS"),enableH265:!0===ly}});return h||void 0}function jn(e){let{mediaFileSize:i,slotSize:n}=e;if(!i)return{reason:"unknownVideoContentSize",value:Gd.videoPixelRatio};let{width:r,height:o}=i;if(s(r)&&(r=Number(r),fy()),s(o)&&(o=Number(o),fy()),!t(r)||!t(o))return{reason:"hasIncorrectWidthAndOrHeight",value:gy};if(r<0||o<0)return{reason:"incorrect",value:Gd.videoPixelRatio};if(0===o||0===n.height)return{reason:"incorrect",value:Gd.videoPixelRatio};if(0===r||0===n.width)return{reason:"incorrect",value:Gd.videoPixelRatio};const a=r/o;return{reason:"normal",value:n.width/n.height>a?o/n.height:r/n.width}}function Wn(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&f(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&f(t.prototype.appendBuffer)&&f(t.prototype.remove))}(e)?t:void 0}function Yn(e){let{type:t}=e;return Sy||Ty?!Sy&&Ty?"noMse":Sy&&!Ty?"noFetch":m(t)?-1===t.toLowerCase().indexOf(hy)?"isNotWebm":by?void 0:"cannotPlayWebmWithMse":"noType":"noMseAndFetch"}function Gn(e,t,i){return e>i?i:e<t?t:e}function qn(e,t){return e<=t?0:t>=Cy?1:(Gn(e,t,Cy)-t)/(Cy-t)}function Xn(e){if(!function(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}(e))return"invalidObject";const{type:t,codec:n,url:r,maxBitrate:o,minBitrate:a,vmafAvg:l,hasAudio:d}=e;let{width:c,height:u,bitrate:h}=e;if(c=null===c?void 0:c,u=null===u?void 0:u,h=null===h?void 0:h,void 0===h||i(h)||Py(e),void 0===l||i(l)||Dy(e),void 0===n||m(n)||ky(e),void 0===c&&void 0===u||i(c)&&i(u)||Oy(e),(void 0!==a||void 0!==o)&&(!i(a)||!i(o)||a>=o))return"invalidMinMaxBitrate";if("string"!==typeof r)return"invalidUrl";if(!r.trim())return"emptyUrl";if(void 0!==t){if(!s(t))return"invalidType";0===t.trim().length&&Ny(e)}return void 0!==d&&"boolean"!==typeof d&&Iy(e),{type:t,codec:n,url:r,width:c,height:u,bitrate:h,maxBitrate:o,minBitrate:a,vmafAvg:l,hasAudio:d}}function Kn(e){if(!e)return"empty";switch(!0){case Un(e):return"vp8";case Hn(e):return"vp9";case Fn(e):return"avc1";default:return"other"}}function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jn.apply(null,arguments)}function Zn(e,t,r){const o=Date.now(),a=[],l=[],d=[],{adBreak:c,adPodId:u,initiator:h,isEnabledStreamingMediaFiles:p}=r,v=Boolean(c.adFoxParameters);for(const i of e){const e=Xn(i);if(s(e))a.push({mediaFile:i,reason:e});else{const i=e,n=zn({mediaFile:i,canPlayType:t.canPlayType,videoSlot:t.videoSlot,isEnabledStreamingMediaFiles:p,isAdfoxRequest:v});s(n)?l.push({mediaFile:i,reason:n}):d.push(i)}}const g=sh(d,(e=>function(e,t){const{value:r,reason:o}=jn({mediaFileSize:e,slotSize:t.container}),a=function(e){let{videoPixelRatio:t,opts:{perfectVpr:i}}=e;return t-i}({videoPixelRatio:r,opts:t}),s=Math.abs(a),l=function(e){let{bitrate:t,desiredBitrate:r}=e;if(!i(t))return 1;if(i(r))return qn(t,r);const o=navigator;if(n(o)&&n(o.connection)){const{downlink:e}=o.connection;if(i(e))return qn(t,1e3*e)}}({bitrate:e.bitrate,desiredBitrate:t.desiredBitrate}),d=function(e){let{type:t,mediaFileTypePriorities:{webm:i,mp4:n,hls:r,unknown:o,unset:a}}=e;if(!m(t))return a;const s=t.toLowerCase();return s===hy?i:s===wy?n:pn(t)?r:o}({type:e.type,mediaFileTypePriorities:t.mediaFileTypePriorities}),c=function(e,t){return t.isVideoADB?void 0===Yn(e)?0:1:0}(e,t);return{videoPixelRatio:r,videoPixelRatioReason:o,videoPixelRatioSolution:s,mediaFileTypePrioritySolution:d,adbCompatibilitySolution:c,bitrateCappingSolution:l}}(e,t))),f=i(t.desiredBitrate)?"desiredBitrate":"videoPixelRatio",A=sh(g,(e=>{let{videoPixelRatioSolution:t,mediaFileTypePrioritySolution:i,adbCompatibilitySolution:n,bitrateCappingSolution:r}=e;return t+i+n+(void 0===r?0:10*r)})),_=sh(A,((e,t)=>Jn({},d[t],g[t],{prioritySolution:e}))),y=Pf();if(y||p){const e=Th(_,(e=>{let{type:t}=e;return t===uy})),t=-1!==e,i=y&&!v||y&&v&&"with_adfox"===Tu.getFlagValue("VAS_INSTREAM_USE_DASH_MIME_TYPE");if(t&&(i||p)){const t=Math.min(...sh(_,(e=>{let{prioritySolution:t}=e;return t})));Ih.log({name:"MediaFileDashXml_Win"}),_[e].prioritySolution=t-.1}}const b=vn(_,(e=>{let{prioritySolution:t}=e;return t}));let S,T;var E;return ah("prioritisedMediaFiles=["+JSON.stringify(_)+"]"),ah("invalidMediaFiles=["+JSON.stringify(a)+"]"),ah("notPlayableMediaFiles=["+JSON.stringify(l)+"]"),b&&(S=Bn(b.codec),T=null==(E=b.type)?void 0:E.split("/")[1]),Ih.log({name:"PrioritiseMediaFiles",data:{adBreak:c,adPodId:u,initiator:h,input:{container:t.container,desiredBitrate:t.desiredBitrate,isVideoADB:t.isVideoADB,bitratePriorityFactor:t.bitratePriorityFactor,mediaFileTypePriorities:t.mediaFileTypePriorities,perfectVpr:t.perfectVpr,dpr:gn(window)},output:{invalidMediaFiles:lf(a),notPlayableMediaFiles:lf(l),mediaFile:b?Jn({},b):void 0,methodType:f}},values:{timeSpent:Date.now()-o},sensors:{initiator:h,method:f,type:R(["webm","mp4","m3u8"],T)?T:"unknown",codec:Kn(S)},probability:Hu}),{prioritisedMediaFile:b,invalidMediaFiles:a,notPlayableMediaFiles:l,playableMediaFiles:_}}function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Qn.apply(null,arguments)}function $n(e){const t=ri(e);return aA(null==t?void 0:t.images)}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},er.apply(null,arguments)}function tr(e){for(const{width:t,height:n}of e){const e=Number(t),r=Number(n);if(i(e)&&i(r))return{width:e,height:r}}}function ir(e,t){return qc(Ri(e,t),(e=>"js"===Ce(e)))}function nr(e){return!!R(m_,e.adSystem)||e.adSystem===p_&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_USE_NEW_DIRECT_AD_SYSTEM_VALUE")}function rr(e){return R(v_,e.adSystem)}function or(e){if(e)return(e.adId||"")+";"+(e.creativeId||"")+";"+e.parseIndex+";"+e.randomHexString+";"+(e.bidreqid||"")+";"+(e.campaignid||"")+";"+(e.pageId||"")+";"+(e.impId||"")+";"+(e.vmapRequestId||"")}function ar(e){return[...e].sort(((e,t)=>{const i=e.vastAd.sequence,n=t.vastAd.sequence;return i===n?0:i===sf?1:n===sf?-1:i-n}))}function sr(e){return"number"===typeof e.repeatNumber}function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},lr.apply(null,arguments)}function dr(e,t){var i;let{adConfig:n,adBreak:r,adPlacementOptions:o,win:a}=e;const s=r.adFoxParameters||n.adFoxParameters;var l;if(s)return async function(e){return new YA(e).loadVastPromise}({adConfig:lr({},n,{adFoxParameters:s,wrapperMaxCount:null!=(l=n.wrapperMaxCount)?l:Wy}),adBreakType:r.adType,adPlacementOptions:o,win:a,stats:t});const{loadHarmlessVastCallback:d}=n,c=n.hasOwnProperty("vast")?n.vast:void 0,u=r.inlineVast,h=gu.isDebugEnabled?jy():void 0,p=null!=(i=null!=h?h:c)?i:u,v=Tu.getFlagValueAndActivateTestId("VAS_INLINE_PREROLL"),g=m(n.vastUrl)&&("enable-header"===v||"enable-header-with-ignore-referrer"===v);if(p&&!g)return PA({xmlString:p,loadParameters:Ee({adConfig:n,adBreakType:r.adType,remainingLoadWrapperVastCount:Wy,isAdFox:!1,adPlacementOptions:o}),vastUrl:void 0}).then((e=>(d&&0===e.children.length&&d({adPods:sh(e.ads,(e=>{var t;return{clickThroughUrl:null!=(t=e.clickUrlData.vastClickUrl)?t:""}}))}),e)));const f=n.vastUrl?n.vastUrl:function(e){const{adTagURI:t,sessionId:i,repeatNumber:n,adConfig:r,adPlacementOptions:o,win:a}=e;return he(a)?t:function(e){const{adConfig:t,win:i,adTagURI:n,adPlacementOptions:r,repeatNumber:o,sessionId:a}=e;return Se(n)?ft({url:N(n,u_({adConfig:t,win:i,repeatNumber:o,sessionId:a})),options:r,preferableAdSize:t.preferableAdSize,win:window}):n}({adConfig:r,adTagURI:t,adPlacementOptions:o,win:a,repeatNumber:n,sessionId:i})}({adConfig:n,adTagURI:r.adTagURI,sessionId:r.sessionId,repeatNumber:sr(r)?r.repeatNumber:void 0,adPlacementOptions:o,win:a});return wA({url:f,loadParameters:Ee({adConfig:n,adBreakType:r.adType,remainingLoadWrapperVastCount:Wy,isAdFox:!1,url:f,isPartnerVastUrl:Boolean(n.vastUrl),adPlacementOptions:o})})}async function cr(e,t){const{adConfig:i,adBreak:n}=e;let r;try{r=await dr(e,t)}catch(u){throw ae(u)||(u.details||(u.details={}),u.details.adConfig=i),qt(u),u}const o=[];for(const h of r.ads)try{var a;const e=h.mediaFiles[0],n=Di(null!=(a=null==e?void 0:e.url)?a:""),r={interactiveViewerCreativeSrc:(s=n,qA(s)===Vh),motionCreativeSrc:Ki(n),themeEmpty:$i(h),clickableVideo:Xi(h),survey:Qi(h),surveyAdCreative:Zi(h),videoVastAd:xi({secureMode:i.secureMode,vastAd:h})},l=fh(zt(r),(e=>e));if(Boolean(e)&&l){const{vastAd:e,reason:n}=qi({secureMode:i.secureMode,vastAd:h});t.log({name:n,data:{yandexVastCriteria:r},sensors:{source:"vastLoader"}}),o.push(e)}else o.push(h)}catch(u){t.error({error:u})}var s,l;if(r.children.length>0){const e=ur(r);t.log({name:(l=r.url,void 0===l?"InlineWrapperVASTLoaded":ye(l)?"AdFoxWrapperVASTLoaded":Se(l)?"YandexWrapperVASTLoaded":"WrapperVASTLoaded"),data:e,probability:Hu})}const d=sh(o,(e=>(e.vast=r,new Hy(n,e,i,t)))),c=ar(d);if(0===c.length)throw new Qu({code:"NO_AD_SECTION",details:{reason:"no-media-ad"}});if(yu(c,(e=>e.hasMediaFiles())).length>0)return{mediaAds:c,vast:r};if(function(e){return fh(e,(e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length))}(c)){const e=GA(sh(d,(e=>e.vastAd.mediaFiles)));throw new Qu({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:i,unfilteredMediaFiles:e}})}throw new Qu({code:"NO_AD_TO_DISPLAY",details:void 0})}function ur(e){return{children:sh(e.children,(e=>ur(e))),url:e.url,xmlString:e.xmlString}}function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hr.apply(null,arguments)}function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},pr.apply(null,arguments)}function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},mr.apply(null,arguments)}function vr(){return vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vr.apply(null,arguments)}function gr(e){return!!s(e)&&ib.indexOf(e)>-1}function fr(e,t){return yu(e,(e=>e.adType===t))}function Ar(e,t){for(var i in t)e[i]=t[i];return e}function _r(e){var t=e.parentNode;t&&t.removeChild(e)}function yr(e,t,i){var n,r,o,a={};for(o in t)"key"==o?n=t[o]:"ref"==o?r=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?rb.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return br(e,a,n,r,null)}function br(e,t,i,n,r){var o={type:e,props:t,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++ab:r};return null!=ob.vnode&&ob.vnode(o),o}function Sr(e){return e.children}function Tr(e,t){this.props=e,this.context=t}function Er(e,t){if(null==t)return e.__?Er(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?Er(e):null}function wr(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return wr(e)}}function Cr(e){(!e.__d&&(e.__d=!0)&&lb.push(e)&&!Pr.__r++||cb!==ob.debounceRendering)&&((cb=ob.debounceRendering)||db)(Pr)}function Pr(){for(var e;Pr.__r=lb.length;)e=lb.sort((function(e,t){return e.__v.__b-t.__v.__b})),lb=[],e.some((function(e){var t,i,n,r,o,a;e.__d&&(o=(r=(t=e).__v).__e,(a=t.__P)&&(i=[],(n=Ar({},r)).__v=r.__v+1,Lr(a,r,n,t.__n,void 0!==a.ownerSVGElement,null!=r.__h?[o]:null,i,null==o?Er(r):o,r.__h),Mr(i,r),r.__e!=o&&wr(r)))}))}function kr(e,t,i,n,r,o,a,s,l,d){var c,u,h,p,m,v,g,f=n&&n.__k||pb,A=f.length;for(i.__k=[],c=0;c<t.length;c++)if(null!=(p=i.__k[c]=null==(p=t[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?br(null,p,null,null,p):Array.isArray(p)?br(Sr,{children:p},null,null,null):p.__b>0?br(p.type,p.props,p.key,null,p.__v):p)){if(p.__=i,p.__b=i.__b+1,null===(h=f[c])||h&&p.key==h.key&&p.type===h.type)f[c]=void 0;else for(u=0;u<A;u++){if((h=f[u])&&p.key==h.key&&p.type===h.type){f[u]=void 0;break}h=null}Lr(e,p,h=h||hb,r,o,a,s,l,d),m=p.__e,(u=p.ref)&&h.ref!=u&&(g||(g=[]),h.ref&&g.push(h.ref,null,p),g.push(u,p.__c||m,p)),null!=m?(null==v&&(v=m),"function"==typeof p.type&&null!=p.__k&&p.__k===h.__k?p.__d=l=Ir(p,l,e):l=Dr(e,p,h,f,m,l),d||"option"!==i.type?"function"==typeof i.type&&(i.__d=l):e.value=""):l&&h.__e==l&&l.parentNode!=e&&(l=Er(h))}for(i.__e=v,c=A;c--;)null!=f[c]&&("function"==typeof i.type&&null!=f[c].__e&&f[c].__e==i.__d&&(i.__d=Er(n,c+1)),Ur(f[c],f[c]));if(g)for(c=0;c<g.length;c++)Fr(g[c],g[++c],g[++c])}function Ir(e,t,i){var n,r;for(n=0;n<e.__k.length;n++)(r=e.__k[n])&&(r.__=e,t="function"==typeof r.type?Ir(r,t,i):Dr(i,r,r,e.__k,r.__e,t));return t}function Or(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){Or(e,t)})):t.push(e)),t}function Dr(e,t,i,n,r,o){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==i||r!=o||null==r.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(r),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<n.length;l+=2)if(s==r)break e;e.insertBefore(r,o),a=o}return void 0!==a?a:r.nextSibling}function Nr(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]=null==i?"":"number"!=typeof i||mb.test(t)?i:i+"px"}function Rr(e,t,i,n,r){var o;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)i&&t in i||Nr(e.style,t,"");if(i)for(t in i)n&&i[t]===n[t]||Nr(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=i,i?n||e.addEventListener(t,o?Vr:xr,o):e.removeEventListener(t,o?Vr:xr,o);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null!=i&&(!1!==i||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,i):e.removeAttribute(t))}}function xr(e){this.l[e.type+!1](ob.event?ob.event(e):e)}function Vr(e){this.l[e.type+!0](ob.event?ob.event(e):e)}function Lr(e,t,i,n,r,o,a,s,l){var d,c,u,h,p,m,v,g,f,A,_,y=t.type;if(void 0!==t.constructor)return null;null!=i.__h&&(l=i.__h,s=t.__e=i.__e,t.__h=null,o=[s]),(d=ob.__b)&&d(t);try{e:if("function"==typeof y){if(g=t.props,f=(d=y.contextType)&&n[d.__c],A=d?f?f.props.value:d.__:n,i.__c?v=(c=t.__c=i.__c).__=c.__E:("prototype"in y&&y.prototype.render?t.__c=c=new y(g,A):(t.__c=c=new Tr(g,A),c.constructor=y,c.render=Hr),f&&f.sub(c),c.props=g,c.state||(c.state={}),c.context=A,c.__n=n,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Ar({},c.__s)),Ar(c.__s,y.getDerivedStateFromProps(g,c.__s))),h=c.props,p=c.state,u)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&g!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(g,A),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(g,c.__s,A)||t.__v===i.__v){c.props=g,c.state=c.__s,t.__v!==i.__v&&(c.__d=!1),c.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&a.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(g,c.__s,A),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,m)}))}c.context=A,c.props=g,c.state=c.__s,(d=ob.__r)&&d(t),c.__d=!1,c.__v=t,c.__P=e,d=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(n=Ar(Ar({},n),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(m=c.getSnapshotBeforeUpdate(h,p)),_=null!=d&&d.type===Sr&&null==d.key?d.props.children:d,kr(e,Array.isArray(_)?_:[_],t,i,n,r,o,a,s,l),c.base=t.__e,t.__h=null,c.__h.length&&a.push(c),v&&(c.__E=c.__=null),c.__e=!1}else null==o&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=Br(i.__e,t,i,n,r,o,a,l);(d=ob.diffed)&&d(t)}catch(e){t.__v=null,(l||null!=o)&&(t.__e=s,t.__h=!!l,o[o.indexOf(s)]=null),ob.__e(e,t,i)}}function Mr(e,t){ob.__c&&ob.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){ob.__e(e,t.__v)}}))}function Br(e,t,i,n,r,o,a,s){var l,d,c,u=i.props,h=t.props,p=t.type,m=0;if("svg"===p&&(r=!0),null!=o)for(;m<o.length;m++)if((l=o[m])&&(l===e||(p?l.localName==p:3==l.nodeType))){e=l,o[m]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),o=null,s=!1}if(null===p)u===h||s&&e.data===h||(e.data=h);else{if(o=o&&rb.call(e.childNodes),d=(u=i.props||hb).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!s){if(null!=o)for(u={},m=0;m<e.attributes.length;m++)u[e.attributes[m].name]=e.attributes[m].value;(c||d)&&(c&&(d&&c.__html==d.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,i,n,r){var o;for(o in i)"children"===o||"key"===o||o in t||Rr(e,o,null,i[o],n);for(o in t)r&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||i[o]===t[o]||Rr(e,o,t[o],i[o],n)}(e,h,u,r,s),c)t.__k=[];else if(m=t.props.children,kr(e,Array.isArray(m)?m:[m],t,i,n,r&&"foreignObject"!==p,o,a,o?o[0]:i.__k&&Er(i,0),s),null!=o)for(m=o.length;m--;)null!=o[m]&&_r(o[m]);s||("value"in h&&void 0!==(m=h.value)&&(m!==e.value||"progress"===p&&!m)&&Rr(e,"value",m,u.value,!1),"checked"in h&&void 0!==(m=h.checked)&&m!==e.checked&&Rr(e,"checked",m,u.checked,!1))}return e}function Fr(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){ob.__e(e,i)}}function Ur(e,t,i){var n,r;if(ob.unmount&&ob.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Fr(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){ob.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(r=0;r<n.length;r++)n[r]&&Ur(n[r],t,"function"!=typeof e.type);i||null==e.__e||_r(e.__e),e.__e=e.__d=void 0}function Hr(e,t,i){return this.constructor(e,i)}function zr(e,t,i){var n,r,o;ob.__&&ob.__(e,t),r=(n="function"==typeof i)?null:i&&i.__k||t.__k,o=[],Lr(t,e=(!n&&i||t).__k=yr(Sr,null,[e]),r||hb,hb,void 0!==t.ownerSVGElement,!n&&i?[i]:r?null:t.firstChild?rb.call(t.childNodes):null,o,!n&&i?i:r?r.__e:t.firstChild,n),Mr(o,e)}function jr(e,t){var i={__c:t="__cC"+ub++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,n;return this.getChildContext||(i=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some(Cr)},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Provider.__=i.Consumer.contextType=i}function Wr(e,t){ob.__h&&ob.__h(gb,e,Ab||t),Ab=0;var i=gb.__H||(gb.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function Yr(e){return Ab=1,function(e,t,i){var n=Wr(vb++,2);return n.t=e,n.__c||(n.__=[i?i(t):io(void 0,t),function(e){var t=n.t(n.__[0],e);n.__[0]!==t&&(n.__=[t,n.__[1]],n.__c.setState({}))}],n.__c=gb),n.__}(io,e)}function Gr(e,t){var i=Wr(vb++,3);!ob.__s&&to(i.__H,t)&&(i.__=e,i.__H=t,gb.__H.__h.push(i))}function qr(e,t){var i=Wr(vb++,4);!ob.__s&&to(i.__H,t)&&(i.__=e,i.__H=t,gb.__h.push(i))}function Xr(e){return Ab=5,Kr((function(){return{current:e}}),[])}function Kr(e,t){var i=Wr(vb++,7);return to(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function Jr(e,t){return Ab=8,Kr((function(){return e}),t)}function Zr(e){var t=gb.context[e.__c],i=Wr(vb++,9);return i.c=e,t?(null==i.__&&(i.__=!0,t.sub(gb)),t.props.value):e.__}function Qr(){_b.forEach((function(e){if(e.__P)try{e.__H.__h.forEach($r),e.__H.__h.forEach(eo),e.__H.__h=[]}catch(t){e.__H.__h=[],ob.__e(t,e.__v)}})),_b=[]}function $r(e){var t=gb;"function"==typeof e.__c&&e.__c(),gb=t}function eo(e){var t=gb;e.__c=e.__(),gb=t}function to(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function io(e,t){return"function"==typeof t?t(e):t}function no(){if(Ob>1)Ob--;else{for(var e,t=!1;void 0!==Ib;){var i=Ib;for(Ib=void 0,Db++;void 0!==i;){var n=i.o;if(i.o=void 0,i.f&=-3,!(8&i.f)&&so(i))try{i.c()}catch(i){t||(e=i,t=!0)}i=n}}if(Db=0,Ob--,t)throw e}}function ro(e){if(void 0!==kb){var t=e.n;if(void 0===t||t.t!==kb)return t={i:0,S:e,p:kb.s,n:void 0,t:kb,e:void 0,x:void 0,r:t},void 0!==kb.s&&(kb.s.n=t),kb.s=t,e.n=t,32&kb.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=kb.s,t.n=void 0,kb.s.n=t,kb.s=t),t}}function oo(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function ao(e){return new oo(e)}function so(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function lo(e){for(var t=e.s;void 0!==t;t=t.n){var i=t.S.n;if(void 0!==i&&(t.r=i),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function co(e){for(var t=e.s,i=void 0;void 0!==t;){var n=t.p;-1===t.i?(t.S.U(t),void 0!==n&&(n.n=t.n),void 0!==t.n&&(t.n.p=n)):i=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=n}e.s=i}function uo(e){oo.call(this,void 0),this.x=e,this.s=void 0,this.g=Nb-1,this.f=4}function ho(e){var t=e.u;if(e.u=void 0,"function"==typeof t){Ob++;var i=kb;kb=void 0;try{t()}catch(n){throw e.f&=-2,e.f|=8,po(e),n}finally{kb=i,no()}}}function po(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,ho(e)}function mo(e){if(kb!==this)throw new Error("Out-of-order effect");co(this),kb=e,this.f&=-2,8&this.f&&po(this),no()}function vo(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function go(e){var t=new vo(e);try{t.c()}catch(e){throw t.d(),e}return t.d.bind(t)}function fo(e,t){ob[e]=t.bind(null,ob[e]||function(){})}function Ao(e){wb&&wb(),wb=e&&e.S()}function _o(e){var t=this,i=e.data,n=function(e){return Kr((function(){return ao(e)}),[])}(i);n.value=i;var r=Kr((function(){for(var e=t.__v;e=e.__;)if(e.__c){e.__c.__$f|=4;break}return t.__$u.c=function(){var e;sb(r.peek())||3!==(null==(e=t.base)?void 0:e.nodeType)?(t.__$f|=1,t.setState({})):t.base.data=r.peek()},new uo((function(){var e=n.value.value;return 0===e?0:!0===e?"":e||""}))}),[]);return r.value}function yo(e,t,i,n){var r=t in e&&void 0===e.ownerSVGElement,o=ao(i);return{o:function(e,t){o.value=e,n=t},d:go((function(){var i=o.value.value;n[t]!==i&&(n[t]=i,r?e[t]=i:i?e.setAttribute(t,i):e.removeAttribute(t))}))}}function bo(e,t){const i=function(t,i){const n={};return Ve(t).forEach((i=>{var r;n[i]=(t[i],r=i,e.style[r])})),n}(t);return xe(e,t),te((()=>{xe(e,i)}))}function So(e){const t=e.getRootNode;if(f(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function To(e){return!!e&&"ShadowRoot"===Zd(e)}function Eo(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=So(i);if(!To(e)||!Rb(e.host))return!1;i=e.host}return!1}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wo.apply(null,arguments)}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Co.apply(null,arguments)}function Po(e,t,i){const n=()=>Ou(e,(e=>e.getValue()));let r=t(...n());i(r);const o=()=>{const e=t(...n());r!==e&&(r=e,i(e))},a=Ou(e,(e=>e.add(o)));return()=>{W(a)}}function ko(e,t){let{width:i,height:n}=e;const r=sh([i,n],(e=>Math.round(e))),o=Math.min(...r),a=Math.max(...r);return t?o>=160&&a*o>=48e3:o>=180&&a*o>=57600}function Io(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return yu(vS,(e=>{let{enabled:i}=e;return i in t}))}(e);if(i.length>0)return i[0];const n=function(e,t){var i,n;return void 0===e&&(e=window),void 0===t&&(t=null!=(i=null==(n=e.HTMLVideoElement)?void 0:n.prototype)?i:{}),yu(vS,(e=>{let{enabled:i}=e;return i in t}))}(e,t);return n.length>0?n[0]:void 0}function Oo(e,t){const i=Io(e,t);if(!i)return null;let n=e.document[i.element];return t&&t[i.element]&&(n=t),n||null}function Do(e,t){const i=Oo(e);return!!i&&i.contains(t)}function No(e){const{videoWidth:t,videoHeight:n}=e;if(i(t)&&i(n))return{width:t,height:n}}function Ro(e){let{videoPixelRatio:t,devicePixelRatio:i}=e;return t/i}function xo(e){let{win:i,slotSize:n,slotVisibilityRatio:r,adPodId:a,videoNode:s,bufferingTime:l,adBreakType:d,adFormatType:c,productType:u}=e;const h=function(e){if(void 0===e&&(e=window),void 0===e.screen)return mS;const{width:t=mS.width,height:i=mS.height}=e.screen;return{width:t,height:i}}(i),p=h.width*h.height,m=n.width*n.height,v=0===p?0:m/p,g=gn(i),f=function(e){var t;void 0===e&&(e=iu);const{navigator:i={}}=null!=(t=e)?t:{},{connection:n={}}=i;if("number"===typeof n.downlink)return n.downlink;if("number"===typeof n.downlinkMax)return n.downlinkMax;const r=n.type;if("string"===typeof r||"number"===typeof r)switch(r){case"BLUETOOTH":return 3;case gS.CELL_2G:return.384;case gS.CELL_3G:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case gS.ETHERNET:case"ETHERNET":case gS.WIFI:case"WIFI":case"MIXED":return 10;case gS.UNKNOWN:}return-1}(),A=s?No(s):void 0,_=s?qh(s):void 0,y=_?function(e,t){const i=function(e){return{left:void 0===e.pageXOffset?e.document.documentElement.scrollLeft:e.pageXOffset,top:void 0===e.pageYOffset?e.document.documentElement.scrollTop:e.pageYOffset}}(e);return{left:Math.round(t.left+i.left),top:Math.round(t.top+i.top)}}(i,_):void 0,b=function(e){let{slotSize:t,videoContentSize:i}=e;const n=void 0===i?t.width/t.height:i.width/i.height,r=t.width/t.height>n,o=r?t.height*n:t.width/n,a=r?t.height:t.width;return{adjacentSize:o,innerSize:a,extraHorizontalSpace:r,width:r?o:a,height:r?a:o}}({slotSize:n,videoContentSize:A});let S=Gd.videoFramesInfo,T=Gd.videoSrc,E=Gd.videoCurrentSrc,w=Gd.videoMuted,C=Gd.videoVolume,P=Gd.currentTime,k=Gd.bufferingTimeRatio,I=Gd.remainingBufferedTime,O=Gd.isFullscreen;s&&(S=o(s),T=s.src,E=s.currentSrc,w=s.muted,C=s.volume,P=s.currentTime,I=fS(s),t(P)&&t(l)&&l+P>0&&(k=l/(l+P)),O=Do(i,s));const{value:D}=jn({mediaFileSize:A,slotSize:n});return{visibility:r,size:n,adPodId:a,relativeSizeRatio:v,screenSize:h,devicePixelRatio:g,downlink:f,videoNodePosition:y,videoContentSize:A,videoAvatarSize:b,videoPixelRatio:D,videoToDevicePixelRatio:Ro({videoPixelRatio:D,devicePixelRatio:g}),videoFramesInfo:S,videoSrc:T,videoCurrentSrc:E===T?void 0:E,videoMuted:w,videoVolume:C,bufferingTime:l,currentTime:P,bufferingTimeRatio:k,remainingBufferedTime:I,adBreakType:d,adFormatType:c,isFullscreen:O,productType:u}}function Vo(e){return function(e,t){let i=e;return $d(pe(t),(n=>{let[r,o]=n;if(void 0===o)return;const a="["+r+"]";if(o!==a)for(;i.indexOf(a)>-1;)Ih.log({name:"ReplaceVastMacro",data:{macroName:r,macroValue:o,stringToReplace:e,macros:t}}),i=i.replace(a,o)})),i}(e,_S)}function Lo(e){let{trackingUrls:t,options:i,sendBeaconParams:n,method:r}=e;if(!Array.isArray(t))return;const o=yu(t,Te),a=sh(o,Vo),s=sh(a,(e=>ft({url:e,options:i,win:window})));$d(s,(e=>Yt(e,n,r)))}function Mo(e){return $d(c(tS),(t=>{const i=tS[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(n){Ih.error({error:new Qu({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else Ih.error({error:new Qu({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})})),$d(c(iS),(t=>{const i=iS[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:n=>{if("function"===typeof e[i])try{return e[i](n)}catch(r){Ih.error({error:new Qu({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:n}})})}else Ih.error({error:new Qu({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:n}})})}})})),e}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bo.apply(null,arguments)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fo.apply(null,arguments)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Uo.apply(null,arguments)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ho.apply(null,arguments)}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zo.apply(null,arguments)}function jo(e){return Array.isArray(e)?yu(e,(e=>"string"===typeof e&&e.length>0)):[]}function Wo(e){if(!n(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!n(t))return;const{data_params:i}=t;if(!n(i))return;const{misc:r}=i;if(!n(r))return;const{object_id:o}=r,a=i[o];return n(a)?a:void 0}function Yo(e,t){const i=e[t],r=Wo(e),o=null==r?void 0:r[t],a=null==r?void 0:r.unmoderated;return{rootField:i,bannerParametersField:o,unmoderatedBannerParametersField:n(a)?a[t]:void 0}}function Go(e){const t=[],i=[];return n(e)?{measurers:Ft(e,((r,o)=>o!==RS&&(n(r)?!!function(e){return e===RS||-1!==NS.indexOf(e)}(o)||(i.push({name:"UnsupportedMeasurer",data:{measurerName:o,measurersParameters:e}}),!1):(t.push(new Qu({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:o,measurersParameters:e}})),!1)))),errors:t,events:i}:(void 0!==e&&t.push(new Qu({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t,events:i})}function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qo.apply(null,arguments)}function Xo(e){return n(e)?Q(xS,((t,i)=>jo(e[i]))):lf(xS)}function Ko(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!n(i)&&"sad"===i.sad}function Jo(e){return e<2?1e3:2===e?3e3:5e3}function Zo(e,t,i){let n;const r=new _u,o=Po(e,t,(e=>{n=e,r.dispatch(e)})),a=new Yh(n,i),s=r.add(a);return{valueSignal:a,teardown:()=>{s(),o()}}}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Qo.apply(null,arguments)}function $o(e,t,i){void 0===i&&(i={});const n=e,{onStop:r=Y,onInitMeasurer:o=Y,onTrackEvent:a=Y,onExecutionError:s=Y,onAdError:l=Y,onPlayingStateChange:d=Y}=i,u=new LS(n,t,{onStop:r,onInitMeasurer:o,onTrackEvent:a,onExecutionError:s,onAdError:l,onPlayingStateChange:d}),h=function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:n}=t;const r=Q($b,((e,t)=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i(t,n)}));return $d(c(eS),(t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{n(t,e)}})})),r.isVpaidWrappedByVPAIDSniffer=!0,r}(n,u);return{measurableVPAIDCreative:h,userInteractionDispatchers:u.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:u.vpaidCreativeProxyForMeasurers}}function ea(e){if("yandexTestMeasurer"===e.measurerName||"externalTestMeasurer"===e.measurerName)return;const t=aS[e.measurerName];Ih.log({name:t,data:void 0})}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ta.apply(null,arguments)}function ia(e){let{eventName:t,trackingEventDetails:i,trackingUrls:n,options:{devicePixelRatio:r,downlink:o,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoContentSize:c,videoAvatarSize:u,videoPixelRatio:h,videoToDevicePixelRatio:p,videoFramesInfo:m,videoSrc:v,videoCurrentSrc:g,videoMuted:f,videoVolume:A,bufferingTime:_,bufferingTimeRatio:y,currentTime:b,remainingBufferedTime:S,adBreakType:T,adFormatType:E,isFullscreen:w,adPodId:C,productType:P},pixelsSource:k}=e;const I=zS[t],O=void 0===I?1:I+1;zS[t]=O;const D={videoContentSize:c,videoAvatarSize:{width:Math.round(u.width),height:Math.round(u.height)},videoPixelRatio:h,videoToDevicePixelRatio:p,videoFramesInfo:m,videoSrc:v,bufferingTime:_,bufferingTimeRatio:y,currentTime:b,remainingBufferedTime:S},N={devicePixelRatio:r,downlink:o,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoCurrentSrc:g,videoMuted:f,videoVolume:A,adBreakType:T,adFormatType:E,isFullscreen:w,adPodId:C,productType:P},{values:x,sensors:V,dailySensors:L}=i,M=ta({trackingUrls:n,isVisibilityReliable:!0,counterInBundle:O},D,N);O===jS&&Ih.error({error:new Qu({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:ta({eventName:t,eventTrackingsCounts:zS},M)})});const B="vast"===k?HS(t):US(t),F="TRUE"===Tu.getFlagValue("ENABLE_LOG_ADDITIONAL_VAST_EVENT_TRACKING"),U="vast"===k&&(R(FS,t)||F&&R(MS,t)),H=F&&"adParameters"===k&&R(BS,t),z=U||H?Hu:ju,j={data:M,values:x,sensors:V,dailySensors:L};Ih.log(ta({name:B,probability:z},j))}function na(e){return!!n(e)&&qu(e)}function ra(e,t){const i=te(t),n=Ne({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(o(),i())}}),r=Ne({element:e,eventName:"playing",listener:()=>{e.duration>0&&(o(),i())}}),o=()=>{n(),r()};return o}function oa(e){const t=iu;t.__vasClickRegistration?t.__vasClickRegistration.duplicates.push(e):(t.__vasClickRegistration={details:e,duplicates:[]},t.setTimeout((()=>{delete t.__vasClickRegistration}),K_))}function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},aa.apply(null,arguments)}function sa(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function la(e){return Boolean(e.IntersectionObserver)&&!l(e.IntersectionObserver)}function da(e){var t,i,n,r,o,a,s,l;const d=null!=(t=null!=(i=null!=(n=null!=(r=e.requestAnimationFrame)?r:e.mozRequestAnimationFrame)?n:e.webkitRequestAnimationFrame)?i:e.msRequestAnimationFrame)?t:t=>e.setTimeout(t,rT),c=null!=(o=null!=(a=null!=(s=null!=(l=e.cancelAnimationFrame)?l:e.mozCancelAnimationFrame)?s:e.webkitCancelAnimationFrame)?a:e.msCancelAnimationFrame)?o:t=>e.clearTimeout(t);return{requestAnimationFrame:d.bind(e),cancelAnimationFrame:c.bind(e)}}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ca.apply(null,arguments)}function ua(e){var t,i,n="";if("string"===typeof e||"number"===typeof e)n+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=ua(e[t]))&&(n&&(n+=" "),n+=i);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ha(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=ua(e))&&(n&&(n+=" "),n+=t);return n}function pa(e){const[t,i]=Yr(e.getValue());return Gr((()=>(i(e.getValue()),e.add(i))),[e]),t}function ma(e,t){var i;const n=(null!=(i=e.ownerDocument)?i:document).createElement("style");return n.type="text/css",n.textContent=t,e.appendChild(n),n}function va(e){const t=Zr(uT);qr((()=>vT.useStyleModule(t,e)),[e])}function ga(e){let{buttonText:t,onClick:i}=e;return{buttonText:t,openClickThroughUrl:i}}function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fa.apply(null,arguments)}function Aa(e){var t,i,r;const o=[fu],a=null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)||null==(r=i.data_params)?void 0:r.misc;if(n(a)){const{object_id:e="",pageId:t="",impId:i="",campaignid:n="",bidreqid:r=""}=a;o.push(e,t,i,n,r)}return o.join()}function _a(e){if(!n(e))return!1;if(!m(e.vendor))return!1;if(!m(e.javaScriptResource))return!1;const t=e.verificationParameters;return!(!m(t)&&!n(t))&&!(void 0!==e.trackingEvents&&!n(e.trackingEvents))}function ya(e){if(!Array.isArray(e))return!1;for(const t of e)if(!_a(t))return!1;return!0}function ba(e){return yu(e,(e=>{const{javaScriptResource:t,trackingEvents:i}=e;try{const e=new URL(t);if(jT.has(e.hostname))return!0}catch(hb){Ih.error({error:new Qu({code:"OMID_COULD_NOT_CONFIRM_JAVASCRIPT_RESOURCE",details:{errorMessage:hb.message,javaScriptResource:t}})})}const n=i[xT];return m(n)&&Yt(n.replace("[REASON]","1")),Ih.log({name:"OmidVerificationJavascriptResourceIsNotSupported",data:{parameters:JSON.stringify(e)},probability:Hu}),!1}))}function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Sa.apply(null,arguments)}function Ta(e,t){const i=function(e){switch(e){case"limited":return"limited";case"domain":return"domain";default:return"full"}}(t.omidAccessMode);if("TRUE"===Tu.getFlagValueAndActivateTestId("VAS_ENABLE_OMSDK_TEST_MODE"))return[{vendorKey:"IAS",javaScriptResource:"https://static.adsafeprotected.com/fw.js?ias_campId=CAMP_ID&ias_placementId=AD_GROUP_ID",accessMode:"full",verificationParameters:'{"config":"/rjss/yandex/82444/58348904/skeleton.js?iasProxyPartnerId=32908","host":"https://jsconfig.adsafeprotected.com"}',trackingEvents:{}},{vendorKey:"iabtechlab.com-omid",javaScriptResource:RT,accessMode:"full",verificationParameters:"iabtechlab-Yandex",trackingEvents:{}}];const r=function(e,t){return sh(e,(e=>Sa({},e,{accessMode:t})))}(e.adVerifications,i),o=function(e,t){if(!e)return[];const{rootField:i,bannerParametersField:r,unmoderatedBannerParametersField:o}=Yo(e,"measurers"),a=n(i)&&i.omid,s=n(r)&&r.omid,l=n(o)&&o.omid,d=yu([a,s,l],Boolean);if(0===d.length)return[];const c=yu(d,ya);d.length!==c.length&&Ih.error({error:new Qu({code:"OMID_OBJECT_FROM_AD_PARAMETERS_IS_INVALID",details:{adParameters:JSON.stringify(e)}})});const u=c.shift();return Array.isArray(u)?sh(u,(e=>{let{vendor:i,javaScriptResource:n,trackingEvents:r,verificationParameters:o}=e;return{vendorKey:i,javaScriptResource:n,trackingEvents:null!=r?r:{},verificationParameters:m(o)?o:JSON.stringify(o),accessMode:t}})):[]}(e.adParametersObject,i),a=[...e.omidWhiteListBypass?r:ba(r),...ba(o)];return 0!==a.length?a:void 0}function Ea(e,t,i,n){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!YT.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,n?"important":""):e.style.cssText+=";"+t+": "+i+(n?"!important":""))}function wa(e,t,i){const n=ze(sh(pe(t),(e=>{let[t,i]=e;return[qT(String(t)),i]})));return GT(e,n,i)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ca.apply(null,arguments)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pa.apply(null,arguments)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ka.apply(null,arguments)}function Ia(e,t){for(var i in e)if("__source"!==i&&!(i in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function Oa(e){this.props=e}function Da(){this.__u=0,this.t=null,this.__b=null}function Na(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function Ra(){this.u=null,this.o=null}function xa(){}function Va(){return this.cancelBubble}function La(){return this.defaultPrevented}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ma.apply(null,arguments)}function Ba(e){const t=document.createElement("textarea"),i=window.pageYOffset||document.documentElement.scrollTop;t.style.fontSize="12pt",t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top=i+"px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")}catch(n){}document.body.removeChild(t)}function Fa(e){let{height:t,width:i}=e;const n=Math.min(t,i);return n<kw?Dw:n>Iw?Nw:Dw+(n-kw)/Ow*Rw}function Ua(e){let{height:t,width:i}=e;return.275*Fa({height:t,width:i})}function Ha(e){let{chars:t,settings:i}=e;const{fontSize:n,fontWeight:r="normal",fontStyle:o="normal"}=i;Array.isArray(t)||(t=t.split(""));const a=Hw.ys[r][o];let s=0;for(const l of t)s+=n*(a.hasOwnProperty(l)?a[l]:a[jw]);return function(e){return Math.round(1e4*e)/1e4}(s)}function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},za.apply(null,arguments)}function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ja.apply(null,arguments)}function Wa(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M.797 11.793 5.587 7 .796 2.207A1 1 0 0 1 2.21.793l5.497 5.5a1 1 0 0 1 0 1.414l-5.497 5.5a1 1 0 0 1-1.414-1.414Z",fill:"#fff"},[])])}function Ya(e,t){let{width:i,height:n}=e;const r=n<=300&&(t||"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_SHOULD_USE_SMALL_SKIN_IF_HEIGHT_LESS_300"));return i<Pw||r?"small":i>1e3?"big":"middle"}function Ga(e,t){if(e)return e.medicine?{text:Ff("MOTION_DRUG_DISCLAIMER",t),mandatoryHeightPortion:hC}:e.dietarysuppl?{text:Ff("MOTION_DIETARYSUPPL_DISCLAIMER",t),mandatoryHeightPortion:uC}:void 0}function qa(){const{isAbuseSubmitted:e}=hw(),t=aC(),{shouldShowSkipButton:i}=Zr(dC),n=cT(),r=n.height>n.width,{themeEmptyParameters:o}=TE(),a=nE(),{isPackshotPlaying:s}=iC(),{timeToSkip:l}=yE(),d=lC(),{ecomShopState:c}=rC(),u=uE(),h=ZT(),{videoInComboNewPackshotVisibility:p}=gC(),m=Zr(_C),v=bw(),g=ww(),f=bC();if(e)return{isActionButtonVisible:!1,isSkipButtonCanBeVisible:!1,isSkipButtonVisible:!1,shouldUseTwoLinesLayout:!1,fontSize:"",skipButtonFontSize:"",skinSize:t,disclaimerInfo:void 0,isEcomShopVisible:!1,shouldUseSmallCta:!1,isVerticalFormat:r,ecomShop:void 0,shouldHideSurveyHeaderBackground:s||g,skinWidthBreakpoint:void 0,shouldRestrictActionPanelWidth:!1};const A="videoInCombo"===d,_=s&&v&&Boolean(c.ecomShop),y=!1!==a.skip&&!A&&i,b=y&&l!==fE,S=s&&n.width<=400&&b&&n.width>n.height&&!EC(o),T=!1!==a.actionButton&&void 0!==o&&(!s||!1===p||_||s&&f||S)&&!Wm,E=y&&n.width<750||"small"===t,w=xw(n),C=.28*Fa(n)+"px",P="videoInCombo"!==d&&void 0;return{isActionButtonVisible:T,isSkipButtonCanBeVisible:y,isSkipButtonVisible:b,skinSize:t,shouldUseTwoLinesLayout:E,fontSize:w?"0.8em":Ua(n)+"px",skipButtonFontSize:C,disclaimerInfo:!1===a.disclaimers?void 0:Ga(h,u),isEcomShopVisible:c.isVisible&&!s,shouldUseSmallCta:w,isVerticalFormat:r,ecomShop:c.ecomShop,shouldHideSurveyHeaderBackground:s||g,skinWidthBreakpoint:m,shouldRestrictActionPanelWidth:P}}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xa.apply(null,arguments)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ka.apply(null,arguments)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ja.apply(null,arguments)}function Za(){return yr("div",{className:ha(HC.locals.rmpCta,HC.locals.rmpCta_small)},yr(jC,null))}function Qa(e){let{storeName:t,fullWidth:i}=e;const n=cE()("INSTALL"),r=(e=>BC[FC(e)].icon)(t),o=yr("div",{className:HC.locals.rmpCta__icon},yr(r,null));return yr("div",Ja({className:ha(HC.locals.rmpCta,HC.locals.rmpCta_big,i&&HC.locals.rmpCta__withGap,i&&HC.locals.rmpCta_fullWidth)},qw(Xw.CTA_BUTTON)),o,yr("span",null,n))}function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$a.apply(null,arguments)}function es(e){const[t,i]=Yr(void 0),n=e instanceof HTMLElement?{current:e}:e;return qr((()=>{if(null==n||!n.current)return;const e=new XC(n.current);return e.onResize.add((e=>i(e))),i(e.getSize()),()=>e.destroy()}),[null==n?void 0:n.current]),t}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ts.apply(null,arguments)}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},is.apply(null,arguments)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ns.apply(null,arguments)}function rs(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("circle",{cx:"8",cy:"8",r:"8",fill:"#262626","fill-opacity":".65"},[]),yr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.127 12.808H10.8v-9.6H8.368c-2.445 0-3.73 1.257-3.73 3.108 0 1.478.705 2.348 1.962 3.246l-2.183 3.246h1.81l2.43-3.633-.842-.566c-1.022-.69-1.52-1.23-1.52-2.39 0-1.022.72-1.713 2.087-1.713h.745v8.302Z",fill:"#b1b1b1"},[])])}function os(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Z",fill:"#B9BDC6"},[]),yr("path",{d:"M9.133 12.817h1.67v-9.6h-2.43c-2.445 0-3.73 1.257-3.73 3.107 0 1.478.705 2.349 1.962 3.247l-2.183 3.246h1.81l2.43-3.633-.842-.567c-1.022-.69-1.52-1.229-1.52-2.39 0-1.021.72-1.712 2.087-1.712h.746v8.302Z",fill:"#fff"},[])])}function as(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",fill:"none"},t),[yr("path",{"clip-rule":"evenodd",d:"M1.714 7a.75.75 0 0 1-.698-1.026l1.862-4.705a.75.75 0 0 1 1.318-.145l.9 1.328A9 9 0 1 1 10 19a9.002 9.002 0 0 1-8.842-7.315 1 1 0 0 1 1.965-.372 7 7 0 1 0 3.096-7.205l1.167 1.721A.75.75 0 0 1 6.766 7H1.714Z"},[])])}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ss.apply(null,arguments)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ls.apply(null,arguments)}function ds(e){return"function"===typeof e}function cs(e,t){const i=function(e){const t=function(){if("undefined"===typeof _k){let t=null;try{t=Element.prototype.attachShadow}catch(e){}if(t&&l(t))_k=t;else{const e=document.createElement("iframe");e.style.setProperty("display","none"),document.body.appendChild(e);const t=th(e,"contentWindow.Element.prototype.attachShadow");_k=t&&l(t)?t:null,document.body.removeChild(e)}}return _k}();return t&&t.bind(e)}(e);if(!ds(i))return null;try{return i(t)}catch(n){return null}}function us(e){var t;if(null!=(t=!Boolean(e.ownerDocument))?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,n=cs(e,{mode:"open"});if(!n)return null;const r=i.document.createElement("div");return n.appendChild(r),r}function hs(e,t){if(e===t)return!0;if(!n(e)||!n(t))return!1;if(tc(e)!==tc(t))return!1;const i=c(e),r=c(t);if(i.length!==r.length)return!1;for(const n of r){if(!(n in e))return!1;if(!hs(e[n],t[n]))return!1}return!0}function ps(e){return e.getIsConvertedFromVideoVast()?"video":Oe(e.vastAd)}function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ms.apply(null,arguments)}function vs(e){try{ah("Track event=["+e.eventName+"]"),ia(e=ms({},e,{options:gs(e.options)})),Lo(e)}catch(t){Ih.error({error:new Qu({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function gs(e){const{size:t,screenSize:i,videoContentSize:n}=e;return ms({},e,{size:Q(t,Math.round),screenSize:Q(i,Math.round),videoContentSize:n&&Q(n,Math.round)})}function fs(e,t){const i=function(e){const t=lh(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Ne({element:e,eventName:i,listener:()=>{t(me(e))}}):Y}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},As.apply(null,arguments)}function _s(e){"function"===typeof(null==e?void 0:e.catch)&&e.catch((()=>{}))}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ys.apply(null,arguments)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},bs.apply(null,arguments)}function Ss(e){const{adParametersObject:t}=e;if(!n(t))return;const r=t.packshot_duration;if(!i(r))return;const o=t.PACKSHOT_IMAGE_URL;if(!m(o))return;const a=e.clickUrlData.tgaOfferClickUrl;if(void 0===a)return;const{title:s,body:l}=ti(t),d=Ck(t);return{packshotDuration:r,packshotImageUrl:o,packshotActionButtonClickUrl:a,packshotTitle:s,packshotBody:l,packshotButtonText:ni(t),packshotAppAssets:d}}function Ts(e,t){return Pk.indexOf(e)>=Pk.indexOf(t)}function Es(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:n}=e;if(Ts(t,"start")){if(n){const e=n.params.animationParameters,t=n.params.videoParameters;if(e&&!n.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!n.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return Ts(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function ws(e){if(!Ji(e))return!1;const{adParametersObject:t}=e;return!!n(t)&&"theme-empty"===t.adCreativeConversionType}function Cs(e){var t;const i=ws(e),r=(e=>{var t;return(null==e||null==(t=e.adParametersObject)?void 0:t.theme)===Nh.INTERACTIVE_VIEWER})(e);if(!i&&(!r||"TRUE"!==Tu.getFlagValueAndActivateTestId("VAS_DRAW_BUTTON_ON_INTERACTIVE_VIEWER")))return;const o=Fk(e);if(!n(o))return;const{adParametersObject:a,parsedParameters:s}=o;if(!n(a)||!n(s))return;const l=li(a);if(!l)return;const{greenUrl:d,targetUrl:c,hasTitle:u,title:h,hasBody:p,body:m,hasAgeRestriction:v,ageRestriction:g,assets:f}=s,A=null==(t=e.assets.button)?void 0:t.caption;return{greenUrl:d,clickUrl:l,targetUrl:c,label:null!=A?A:ni(a),title:!1===u?void 0:h,body:!1===p?void 0:m,ageRestriction:v?g:void 0,app:null==f?void 0:f.app,appIcon:Uk(f)}}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ps.apply(null,arguments)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ks.apply(null,arguments)}function Is(e,t,i,n){if(!1===Jk)return new Intl.NumberFormat(i,{currency:t,style:"currency"}).format(e);try{return new Intl.NumberFormat(i,{currency:t,style:"currency",maximumFractionDigits:n}).format(e)}catch(hb){if(Qd(hb)&&(/maximumFractionDigits/.test(hb.message)||/invalid digits/.test(hb.message)))return Jk=!1,Is(e,t,i);throw hb}}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Os.apply(null,arguments)}function Ds(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M8.387 2.887a1.25 1.25 0 0 0-1.768-1.769L.62 7.116a1.25 1.25 0 0 0 0 1.768l5.998 5.998a1.25 1.25 0 0 0 1.768-1.769L6.62 11.347a12.498 12.498 0 0 0-2.198-1.75l-.934-.586.058-.058 1.2.171a12.5 12.5 0 0 0 1.767.126H18.75a1.25 1.25 0 0 0 0-2.5H6.513a12.5 12.5 0 0 0-1.768.126l-1.199.17-.058-.058.938-.588A12.5 12.5 0 0 0 6.62 4.652l1.766-1.765Z",fill:"currentColor"},[])])}function Ns(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M11.616 14.884a1.25 1.25 0 0 1-.003-1.771l1.766-1.765c.664-.663 1.4-1.25 2.195-1.748l.938-.588-.059-.059-1.199.171a12.5 12.5 0 0 1-1.767.126H10v.003H8.75V9.25h-7.5a1.25 1.25 0 1 1 0-2.5h12.237a12.5 12.5 0 0 1 1.767.126l1.2.17.057-.057-.934-.586a12.495 12.495 0 0 1-2.198-1.75l-1.766-1.766a1.25 1.25 0 0 1 1.768-1.769l5.998 5.998a1.25 1.25 0 0 1 0 1.768l-5.998 5.998a1.25 1.25 0 0 1-1.765.002Z",fill:"currentColor"},[])])}function Rs(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 489.645 489.645"},t),[yr("path",{d:"M460.656 132.911c-58.7-122.1-212.2-166.5-331.8-104.1-9.4 5.2-13.5 16.6-8.3 27 5.2 9.4 16.6 13.5 27 8.3 99.9-52 227.4-14.9 276.7 86.3 65.4 134.3-19 236.7-87.4 274.6-93.1 51.7-211.2 17.4-267.6-70.7l69.3 14.5c10.4 2.1 21.8-4.2 23.9-15.6 2.1-10.4-4.2-21.8-15.6-23.9l-122.8-25c-20.6-2-25 16.6-23.9 22.9l15.6 123.8c1 10.4 9.4 17.7 19.8 17.7 12.8 0 20.8-12.5 19.8-23.9l-6-50.5c57.4 70.8 170.3 131.2 307.4 68.2 58.1-30 191.5-147.7 103.9-329.6z",fill:"currentColor"},[])])}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xs.apply(null,arguments)}function Vs(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{"stroke-width":"2","stroke-linecap":"round",stroke:"currentColor",d:"m8 8 8 8m0-8-8 8"},[])])}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ls.apply(null,arguments)}function Ms(e){var t;if(!Se(e)&&!ye(e)||!Du)return e;const i=eu[eu.length-1];return function(e,t,i){if(void 0===i)return e;const n=I(e);if(!n)return e;const r=P(n.search);return r.target_ref=i,O(k({},n,{search:D(r)}))}(e,0,(null!=(t=null==i?void 0:i.ownerDocument)?t:document).referrer)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bs.apply(null,arguments)}function Fs(e){let{shouldPlayTime:t,playingTime:i,videoFramesInfo:{droppedVideoFrames:n,corruptedVideoFrames:r,totalVideoFrames:o,droppedVideoFramesRatio:a},bufferingTime:s,videoPixelRatio:l,devicePixelRatio:d,duration:c,remainingTime:u}=e;const h=c-u;let p;return p=0===h?0===s?0:1:s/h,{shouldPlayTime:t,playingTime:i,notPlayingTime:t-i,bufferingTime:s,duration:c,remainingTime:u,currentTime:h,bufferingTimeRatio:p,videoToDevicePixelRatio:Ro({videoPixelRatio:l,devicePixelRatio:d}),videoPixelRatio:l,droppedVideoFrames:n,corruptedVideoFrames:r,totalVideoFrames:o,droppedVideoFramesRatio:a}}function Us(e){let{adParametersObj:t,statsLogger:i}=e;return function(e,t){const{name:i,icons:r,store_name:o}=e||{};if(n(e))return m(i)&&m(o)&&(tc(r)||n(r))?e:void t.log({name:"RmpInvalidAppAssets",data:{assets:e}})}(Ck(t),i)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Hs.apply(null,arguments)}function zs(){const e=lf(Cf);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];const r=yu(i,(e=>Boolean(e)));return bc(r,((e,t)=>function(e,t){const i=lf(Cf);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility,t.skinVariant?i.skinVariant=t.skinVariant:e.skinVariant&&(i.skinVariant=e.skinVariant);for(const n of fI)!1===i.visibility?i.controlsVisibility[n]=!1:"boolean"===typeof t.controlsVisibility[n]?i.controlsVisibility[n]=t.controlsVisibility[n]:i.controlsVisibility[n]=e.controlsVisibility[n];return i}(e,t)),e)}function js(e){const{imhoParams:t}=e;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&Ki(i.url)}(e))return!1;if(Qi(e)||Zi(e))return!1;if(Ji(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=v((()=>dn(t.mediaFiles)));if(!i)return!1;const{videoMediaFiles:n}=i;if(0===n.length)return!1;if(IA(n,(e=>!1===e.hasAudio)))return!1}return t?t.showSoundButton:yI}function Ws(e){if(Qi(e)||Zi(e))return!1}function Ys(e){const{imhoParams:t,serializablePlaybackParameters:i}=e,n={controlsVisibility:{adLabel:null==t?void 0:t.showLabel,mute:js(e),skip:_I,play:Ws(e)}};let r;return i&&(r=i.controlsSettings),zs(n,r)}function Gs(e,t){const i=sy(e);return R(t,i)?i:void 0}function qs(e){var n,r;let{playbackParameters:o,vastAd:a,adBreakType:s,isYandexAdCreative:l,stats:d}=e;const c=Ys(a),u=Uf(a.serializablePlaybackParameters),h=zs(c,o.controlsSettings),{skipDelay:p,eventName:v}=function(e){var i,n;let{vastAd:r}=e;const{skipTime:o,skipOffset:a}=r,s=null==(i=r.adParametersObject)||null==(n=i.playbackParameters)?void 0:n.skipDelay;return t(s)?{skipDelay:s,eventName:"UsingVastSkipDelayPlaybackParameter"}:!t(a)&&t(o)?{skipDelay:o,eventName:"UsingVastSkipTimeWithoutSkipOffsetPlaybackParameter"}:t(a)?t(o)?{skipDelay:o,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:a,eventName:"UsingVastSkipOffsetPlaybackParameter"}:{skipDelay:AI,eventName:"UsingSkipDelayValueForDisableSkip"}}({vastAd:a});let g;!0===o.backgroundBlur?g="blur":a.backgroundColor&&(g={color:a.backgroundColor});const f=!1===o.packshotSettings.isEnabled?void 0:Ss(a);let A;"inpage"!==s&&(A=(e=>RI["preroll"===e?"preroll":"non_preroll"])(s));let _=5e3;A&&i(A.bufferFullTimeout)?_=A.bufferFullTimeout:i(o.bufferFullTimeout)?_=o.bufferFullTimeout:a.serializablePlaybackParameters&&i(a.serializablePlaybackParameters.bufferFullTimeout)?_=a.serializablePlaybackParameters.bufferFullTimeout:"inpage"!==s&&(_=Ky.bufferFullTimeout);let y,b,S=5;A&&i(A.bufferEmptyLimit)?S=A.bufferEmptyLimit:i(o.bufferEmptyLimit)?S=o.bufferEmptyLimit:a.serializablePlaybackParameters&&i(a.serializablePlaybackParameters.bufferEmptyLimit)?S=a.serializablePlaybackParameters.bufferEmptyLimit:"inpage"!==s&&(S=Ky.bufferEmptyLimit),y=A&&i(A.videoTimeout)?A.videoTimeout:i(o.videoTimeout)?o.videoTimeout:a.serializablePlaybackParameters&&i(a.serializablePlaybackParameters.videoTimeout)?a.serializablePlaybackParameters.videoTimeout:"inpage"===s?bI:Ky.videoTimeout,b=A&&i(A.vpaidTimeout)?A.vpaidTimeout:i(o.vpaidTimeout)?o.vpaidTimeout:a.serializablePlaybackParameters&&i(a.serializablePlaybackParameters.vpaidTimeout)?a.serializablePlaybackParameters.vpaidTimeout:"inpage"===s?SI:Ky.vpaidTimeout;const T=!nr(a)&&m(null==(n=a.adParametersObject)?void 0:n.url)?null==(r=a.adParametersObject)?void 0:r.url:void 0,E=o.clickThroughUrl||a.clickUrlData.vastClickUrl||a.clickUrlData.tgaOfferClickUrl||T;let w=p;return!l&&t(o.skipDelayForNonYandexCreatives)&&(w=o.skipDelayForNonYandexCreatives),void 0!==v&&d.log({name:v,data:{skipDelay:w}}),{controlsSettings:h,background:g,skipDelay:w,bufferFullTimeout:_,bufferEmptyLimit:S,videoTimeout:y,vpaidTimeout:b,clickThroughUrl:E,packshotParameters:f,lang:u,packshotSettings:o.packshotSettings,forceFullClickableVideo:o.forceFullClickableVideo}}function Xs(e){if("error"===e.reason)return e.details}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ks.apply(null,arguments)}function Js(e){const{packshotSettings:t}=e;if(!n(t))return xI;const{isEnabled:i,disableButton:r,disableOverlay:o,disableTitle:a,showAnimationDuration:s,newPackshotSettings:l}=t;let d;if(l){d={};const{forceUseNewPackshot:e,shouldShow:t,packshotSlot:i,onPackshotShowCallback:n,onPackshotHideCallback:r,shouldUseRmpActionPanel:o}=l;d.forceUseNewPackshot=e,d.shouldShow=t,d.packshotSlot=i,d.onPackshotShowCallback=n,d.onPackshotHideCallback=r,d.shouldUseRmpActionPanel=o}return Ks({},xI,{isEnabled:!1!==i&&void 0,disableButton:r,disableOverlay:o,disableTitle:a,showAnimationDuration:"number"===typeof s?s:void 0,newPackshotSettings:d})}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zs.apply(null,arguments)}function Qs(e,i){const{config:r,errors:o}=function(e){const i=[],r=n(e)?e:{};let o,a,s;if(qu(r.backgroundSlot)?o=r.backgroundSlot:void 0!==r.backgroundSlot&&i.push(new Qu({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),void 0!==r.skipDelayForNonYandexCreatives&&(t(r.skipDelayForNonYandexCreatives)&&r.skipDelayForNonYandexCreatives>=0?a=r.skipDelayForNonYandexCreatives:i.push(new Qu({code:"INCORRECT_SKIP_DELAY_FOR_NON_YANDEX_CREATIVES_FORMAT",details:{value:r.skipDelayForNonYandexCreatives,stringValue:String(r.skipDelayForNonYandexCreatives),type:typeof r.skipDelayForNonYandexCreatives}}))),n(r.adSequence)&&Jt(r.adSequence.index)&&Jt(r.adSequence.count)){const{index:e,count:t}=r.adSequence;s={index:e,count:t}}return{config:{backgroundSlot:o,clickThroughCallback:f(r.clickThroughCallback)?r.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof r.clickThroughConfirmation?r.clickThroughConfirmation:void 0,visibilitySlot:qu(r.visibilitySlot)?r.visibilitySlot:void 0,retainLastMediaAfterPlayback:"boolean"===typeof r.retainLastMediaAfterPlayback?r.retainLastMediaAfterPlayback:void 0,enableEcomCta:"boolean"===typeof r.enableEcomCta?r.enableEcomCta:void 0,disableEcom:"boolean"===typeof r.disableEcom?r.disableEcom:void 0,enableInfinityPackshot:"boolean"===typeof r.enableInfinityPackshot?r.enableInfinityPackshot:void 0,enableLoopVideo:"boolean"===typeof r.enableLoopVideo?r.enableLoopVideo:void 0,skipDelayForNonYandexCreatives:a,disableSurveyCompleteScreen:"boolean"===typeof r.disableSurveyCompleteScreen?r.disableSurveyCompleteScreen:void 0,disableSurveyStartTimeout:"boolean"===typeof r.disableSurveyStartTimeout?r.disableSurveyStartTimeout:void 0,forceSurveyVerticalLayoutAsDefault:"boolean"===typeof r.forceSurveyVerticalLayoutAsDefault?r.forceSurveyVerticalLayoutAsDefault:void 0,surveyAdLabelPosition:"string"===typeof r.surveyAdLabelPosition?r.surveyAdLabelPosition:void 0,disableSurveyHeader:"boolean"===typeof r.disableSurveyHeader?r.disableSurveyHeader:void 0,adSequence:s,enableThemeEmptyActionPanel:!0===(null==r?void 0:r.enableThemeEmptyActionPanel),requestFullscreenStateChange:f(r.requestFullscreenStateChange)?r.requestFullscreenStateChange:void 0,packshotSettings:Js(r),product:m(r.product)?r.product:void 0,bannerId:m(r.bannerId)?r.bannerId:void 0,forceFullClickableVideo:"boolean"===typeof r.forceFullClickableVideo?r.forceFullClickableVideo:void 0,surveyColorTheme:m(r.surveyColorTheme)?r.surveyColorTheme:"light",surveyBgColor:(l=r.surveyBgColor,d=r.surveyColorTheme,m(l)?l:m(d)&&"dark"===d?LI:VI),isEnabledStreamingMediaFiles:"boolean"===typeof r.isEnabledStreamingMediaFiles?r.isEnabledStreamingMediaFiles:void 0,disableFirstFrame:"boolean"===typeof r.disableFirstFrame&&r.disableFirstFrame,ignoreLayoutSlotSizesCheck:"boolean"===typeof r.ignoreLayoutSlotSizesCheck?r.ignoreLayoutSlotSizesCheck:void 0,subtitlesAbsoluteBottom:t(r.subtitlesAbsoluteBottom)?r.subtitlesAbsoluteBottom:void 0},errors:i};var l,d}(e),{config:a,errors:s}=jt(e,i);return{config:Zs({},r,a),errors:[...o,...s]}}function $s(e){const t=Mn(e).toLowerCase();return/ipad|iphone|ipod/.test(t)&&!Boolean(e.MSStream)&&!UI(e)}function el(e){if($s(e)&&Boolean(e.navigator)){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}function tl(e,t){const i={};return Ve(t).forEach((t=>{i[t]=e.getAttribute(t)})),Le(e,t),te((()=>{Le(e,i)}))}function il(e,t,i){const n=i.split(".");let r=e;for(let a=0;a<n.length-1;a++)r=r[n[a]];const o=n[n.length-1];if(void 0===r[o])r[o]=t;else if("object"===typeof r[o])for(const a in t)t.hasOwnProperty(a)&&il(e,t[a],i+"."+a)}function nl(e,t,i){e[i]||(e[i]={}),il(e,t,i)}function rl(e){var t,i;const n=e;return null!=(t=n.ya)&&null!=(i=t.videoAd)&&i.debugParameters||nl(n,{videoAd:{debugParameters:{}}},"ya"),n.ya.videoAd.debugParameters}function ol(e,t){void 0===t&&(t=window);let i=Y;const n=t=>{"pagehide"===t.type&&t.persisted||(e(t),i())},r=sh(KI,(e=>Ne({element:t,eventName:e,listener:n})));return i=a((()=>{W(r)})),i}function al(e,t){const{paused:i}=e,n=t();return i||_s(e.play()),n}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},sl.apply(null,arguments)}function ll(e){return e.muted?0:e.volume}function dl(e,t,i){if(!e)return aO;const n=gw(e.controlsVisibility),r=Boolean(t.abuseUrl);return{isCloseAvailable:n&&r,isCloseDialogActive:Fw(i)}}function cl(e,t){if(void 0!==e)return!!sO[e]&&Boolean(t)}function ul(e,t){try{const i={hasMediaSourceConstructor:Boolean(_y),result:[]};return $d(e,(e=>{const{type:n,codec:r}=e,o=py(e);i.result.push({method:"video.canPlayType",type:n,codec:r,result:f_(o,t)}),_y&&i.result.push({method:"MediaSource.isTypeSupported",type:n,codec:r,result:_y.isTypeSupported(o)})})),i}catch(i){return void Ih.error({error:new Qu({code:"CODEC_PLAYABILITY_CHECK_ERROR",details:{error:i}})})}}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hl.apply(null,arguments)}function pl(e){const t=pO(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),"allowed"):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),"muted"):(t(),"restricted"))}function ml(e){let{adParametersObject:t}=e;const i=ri(t);if(!i)return;const{showTitleAndBody:n}=i;return"boolean"===typeof n?n:void 0}function vl(e){const t=Wo(e.adParametersObject);if(!n(t))return;const{assets:i}=t;if(!n(i))return;const{logo:r}=i;if(!n(r))return;const{x80:o}=r;if(!n(o))return;const{url:a}=o;return m(a)?a:void 0}function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gl.apply(null,arguments)}function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fl.apply(null,arguments)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Al.apply(null,arguments)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_l.apply(null,arguments)}function yl(e){return bc(e,((e,t)=>e+t.getDuration()),0)}function bl(e){var t,i,n,r,o,a;const s=e.ownerDocument,l=s.defaultView,d=s.documentElement,c=e.getBoundingClientRect();return{winWidth:VO?Math.max(d.clientWidth,null!=(t=null==l?void 0:l.innerWidth)?t:0):null!=(i=null!=(n=null==l?void 0:l.innerWidth)?n:d.clientWidth)?i:s.body.clientWidth,winHeight:VO?Math.max(d.clientHeight,null!=(r=null==l?void 0:l.innerHeight)?r:0):null!=(o=null!=(a=null==l?void 0:l.innerHeight)?a:d.clientHeight)?o:s.body.clientHeight,left:c.left,top:c.top,width:c.width,height:c.height}}function Sl(e){let{width:t,height:i,top:n,left:r,winWidth:o,winHeight:a}=e;const s=r+t,l=n+i,d=Gn(r,0,o),c=Gn(n,0,a);return{winWidth:o,winHeight:a,left:d,top:c,width:Gn(s,d,o)-d,height:Gn(l,c,a)-c}}function Tl(e,t){return e.width*e.height/(t.width*t.height)}function El(e){if("function"===typeof(null==Symbol?void 0:Symbol.for))return Symbol.for(e);if(FO[e])return FO[e];const t="function"===typeof Symbol?Symbol(e):"@@Symbol("+e+")";return FO[e]=t,t}function wl(e,t,i){function n(e,t){t in s?e(t,s[t]):a[t]?a[t].push(e):a[t]=[e]}function r(e,t){s[e]=t;const i=a[e];i&&(i.forEach((function(i){i(e,t)})),delete a[e])}function o(e,t){var i;Array.isArray(e)||(e=[e,...null!=(i=l[e])?i:[]]);const r=e.length;if(r){const i=[];let o=0;e.forEach(n.bind(0,(function(n,a){i[e.indexOf(n)]=a,++o>=r&&t.apply(0,i)})))}else t()}const a={},s={},l={};e[t]=o,e[i]=function(e,t,i){l[e]=t,i?o(t,(function(){var t;let n;try{for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];n=i.apply(0,a)}catch(hb){return}"function"===typeof(null==(t=n)?void 0:t.then)?n.then((t=>{r(e,t)})).catch((()=>{})):r(e,n)})):r(e,t)}}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cl.apply(null,arguments)}function Pl(e){const t=Xr();return Boolean(t.current)?t.current.callback=e:t.current={callback:e,fn(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return null==(e=t.current)?void 0:e.callback(...n)}},t.current.fn}function kl(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const r=Xr();return r.current||(r.current=e(...i)),r.current}function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Il.apply(null,arguments)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ol.apply(null,arguments)}function Dl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M0 8c6 0 9-8 12-8s6 8 12 8v1.5H0V8Z",fill:"#2F2F32"},[])])}function Nl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 16.003a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm2.404-11.82A1 1 0 1 1 11.818 5.6L9.414 8.003l2.404 2.404a1 1 0 0 1-1.414 1.414L8 9.417 5.596 11.82a1 1 0 0 1-1.414-1.414l2.404-2.404-2.404-2.404a1 1 0 0 1 1.414-1.415L8 6.59l2.404-2.405v-.001Z",fill:"#fff","fill-opacity":".25"},[])])}function Rl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"m1 1 3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function xl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M4 1h5v5M9 1 1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function Vl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m11.598 5 2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 0 1-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 0 1-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 0 1 1.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 0 1 2.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 0 1-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 0 1-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 0 1 .417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 0 1-.416.399h-.62a.417.417 0 0 1-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])}function Ll(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M16.256 15.256a.833.833 0 0 0 0-1.179L2.923.744a.833.833 0 1 0-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 0 0 4.171-.9l1.906 1.906a.833.833 0 0 0 1.179 0zm-4.357-3.178A8.309 8.309 0 0 1 9 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0 0 10.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])}function Ml(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"18",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8.538 5.504c-1.025 0-1.362-.628-1.362-1.21 0-.244.077-.611.138-.825l1.07-4.612h-1.253a.25.25 0 0 1-.243-.307l.076-.325a.35.35 0 0 1 .28-.265l2.838-.5a.5.5 0 0 1 .573.608L12.14 16.05a.189.189 0 0 0 .33.164l1.165-1.425a.322.322 0 0 1 .514.386l-.7 1.013c-.734 1.07-1.407 1.316-1.988 1.316zm.338-9.862c0 .505.398.933 1.102.933.688 0 1.193-.382 1.346-.994.03-.123.046-.26.046-.368 0-.505-.398-.933-1.102-.933-.673 0-1.193.382-1.346.994-.03.123-.046.26-.046.368z",fill:"#498BFF"},[])])}function Bl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M7.36 15.5H9.97V.5H6.173C2.353.5.345 2.464.345 5.356c0 2.31 1.101 3.67 3.065 5.072L0 15.5h2.827l3.799-5.676-1.317-.885c-1.597-1.08-2.374-1.921-2.374-3.734 0-1.597 1.123-2.676 3.26-2.676H7.36V15.5Z",fill:"#498BFF"},[])])}function Fl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M2.234 1.25H8.75v6.5M8.5 1.5 1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function Ul(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("g",{"clip-path":"url(#svg-bug-icon-jsx-inline-1RCLVi9)"},[yr("path",{d:"M19.118 10.272h-2.353V6.971l1.47-1.44a.747.747 0 0 0 0-1.16.83.83 0 0 0-1.213 0l-1.507 1.406h-.478c0-2.635-2.243-4.777-5-4.777-2.794 0-5 2.142-5 4.777h-.588L2.94 4.372a.83.83 0 0 0-1.213 0 .747.747 0 0 0 0 1.159l1.507 1.44v3.301H.882c-.514 0-.882.386-.882.843 0 .492.368.843.882.843h2.353v.843c0 1.054.258 2.002.772 2.845l-1.985 1.931a.747.747 0 0 0 0 1.16.83.83 0 0 0 1.213 0l1.875-1.792c1.066.949 2.464 1.476 4.008 1.476h1.764c1.508 0 2.905-.527 3.97-1.476l1.876 1.791a.83.83 0 0 0 1.213 0 .747.747 0 0 0 0-1.159l-1.985-1.931a5.378 5.378 0 0 0 .809-2.845v-.843h2.353c.478 0 .882-.351.882-.843 0-.457-.404-.843-.882-.843Zm-9.081-7.586c1.764 0 3.235 1.405 3.235 3.09h-6.47c0-1.685 1.433-3.09 3.235-3.09Zm.845 14.049v-6.603c0-.211-.22-.422-.44-.422h-.883a.437.437 0 0 0-.441.422v6.603C6.838 16.735 5 14.979 5 12.8V7.462h10v5.339c0 2.178-1.875 3.934-4.118 3.934Z",fill:"#498BFF"},[])]),yr("defs",{},[yr("clipPath",{id:"svg-bug-icon-jsx-inline-1RCLVi9"},[yr("path",{fill:"#fff",d:"M0 0h20v20H0z"},[])])])])}function Hl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M9.117 7.349a2.5 2.5 0 0 0 0 3.535.833.833 0 1 1-1.179 1.179 4.167 4.167 0 0 1 0-5.893l2.946-2.946a4.167 4.167 0 1 1 5.893 5.892l-.91.911a.833.833 0 1 1-1.18-1.178l.911-.911a2.5 2.5 0 0 0-3.535-3.536L9.117 7.35Zm1.767 5.302a2.5 2.5 0 0 0 0-3.535.833.833 0 1 1 1.178-1.179 4.167 4.167 0 0 1 0 5.892l-2.916 2.917a4.167 4.167 0 0 1-5.893-5.892l.855-.855a.833.833 0 1 1 1.178 1.179l-.854.854a2.5 2.5 0 0 0 3.535 3.536l2.917-2.917Z",fill:"#498BFF"},[])])}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zl.apply(null,arguments)}function jl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 1 1-1.178 1.179L.744 5.589a.833.833 0 0 1 0-1.178l3.333-3.334a.833.833 0 1 1 1.179 1.179l-1.91 1.91Z",fill:"#498BFF"},[])])}function Wl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])}function Yl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({version:"1.1",width:"40",height:"44",fill:"currentColor"},t),[yr("path",{d:"M13.53 12.956a1 1 0 0 0-1.53.848v16.392a1 1 0 0 0 1.53.848l13.113-8.196a1 1 0 0 0 0-1.696L13.53 12.956z"},[])])}function Gl(e){const{controlsVisibility:t,playingState:i}=e;return!1!==t.play&&("play"!==i||!1!==t.pause)}function ql(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t),[yr("path",{d:"M4.797 12.793 9.587 8l-4.79-4.793A1 1 0 0 1 6.21 1.793l5.496 5.5a1 1 0 0 1 0 1.414l-5.496 5.5a1 1 0 0 1-1.414-1.414Z",fill:"#fff"},[])])}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xl.apply(null,arguments)}function Kl(e){let{playingState:t,volumeStatus:i,controlsVisibility:n}=e;return"idle"!==t&&"unknown"!==i&&!1!==n.mute}function Jl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42ZM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97Zm11.248 2.6a7.666 7.666 0 0 0-2.053-5.2l-1.73 1.487a5.48 5.48 0 0 1 1.467 3.712 5.48 5.48 0 0 1-1.467 3.714l1.73 1.487a7.667 7.667 0 0 0 2.053-5.2Z",fill:"#F2F2F2"},[])])}function Zl(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4 2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4Zm12.907 8.412 2.002 1.686a7.556 7.556 0 0 0 .346-2.258 7.666 7.666 0 0 0-2.054-5.2l-1.732 1.487a5.48 5.48 0 0 1 1.469 3.713c0 .192-.01.383-.031.572Zm3.817 3.215 1.79 1.508A10.962 10.962 0 0 0 23.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 0 1-.85 3.787ZM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907Z",fill:"#F2F2F2"},[])])}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ql.apply(null,arguments)}function $l(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({version:"1.1",width:"40",height:"44",fill:"currentColor"},t),[yr("path",{d:"M13 14a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14zm9 0a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14z"},[])])}function ed(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 20 14",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},t),[yr("path",{d:"M16.795 0H3.205C2.09 0 1.686.116 1.279.334a2.272 2.272 0 0 0-.945.945C.116 1.686 0 2.09 0 3.205v7.59c0 1.114.116 1.519.334 1.926.218.408.538.727.945.945.407.218.811.334 1.926.334h13.59c1.114 0 1.519-.116 1.926-.334.407-.218.727-.537.945-.945.218-.407.334-.812.334-1.926v-7.59c0-1.115-.116-1.519-.334-1.926a2.272 2.272 0 0 0-.945-.945C18.314.116 17.91 0 16.795 0ZM2.356 2.049c.155-.03.422-.049.849-.049h13.59c.427 0 .694.019.849.049.06.012.074.017.134.049a.275.275 0 0 1 .125.124c.031.06.036.073.048.134.03.155.049.422.049.849v7.59c0 .427-.019.694-.049.849a.353.353 0 0 1-.049.134.275.275 0 0 1-.124.124.353.353 0 0 1-.134.049c-.155.03-.422.049-.849.049H3.205c-.427 0-.694-.019-.849-.049a.353.353 0 0 1-.134-.049.275.275 0 0 1-.124-.124.353.353 0 0 1-.049-.134c-.03-.155-.049-.422-.049-.849v-7.59c0-.427.019-.694.049-.849a.353.353 0 0 1 .049-.134.275.275 0 0 1 .124-.124.353.353 0 0 1 .134-.049ZM4 9a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Zm9-1a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2h-2ZM4 5a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H5a1 1 0 0 1-1-1Zm5-1a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2H9Z"},[])])}function td(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 20 14",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},t),[yr("path",{"fill-rule":"evenodd",d:"M0 4c0-1.4 0-2.1.272-2.635A2.5 2.5 0 0 1 1.365.272C1.9 0 2.6 0 4 0h12c1.4 0 2.1 0 2.635.272a2.5 2.5 0 0 1 1.092 1.093C20 1.9 20 2.6 20 4v6c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.092C18.1 14 17.4 14 16 14H4c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 0 1-1.093-1.092C0 12.1 0 11.4 0 10V4Zm2.5 6a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1ZM14 9a1 1 0 1 0 0 2h2.5a1 1 0 1 0 0-2H14ZM2.5 6a1 1 0 0 1 1-1H6a1 1 0 0 1 0 2H3.5a1 1 0 0 1-1-1Zm7-1a1 1 0 1 0 0 2h7a1 1 0 1 0 0-2h-7Z"},[])])}function id(e){if(e<=0)return"";const t=Math.ceil(e)%100;return _(String(t),2,"0")}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},nd.apply(null,arguments)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},rd.apply(null,arguments)}function od(e){return void 0===e&&(e=""),{clickThruUrl:"",image:{baseUrl:""},text:"",link:e,priceInfo:void 0,isDomain:!0}}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ad.apply(null,arguments)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},sd.apply(null,arguments)}function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ld.apply(null,arguments)}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dd.apply(null,arguments)}function cd(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({version:"1.1",width:"40",height:"44",fill:"currentColor"},t),[yr("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3z"},[])])}function ud(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({version:"1.1",width:"40",height:"44",fill:"currentColor"},t),[yr("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm13.267 3.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function hd(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({version:"1.1",width:"40",height:"44",fill:"currentColor"},t),[yr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.707 30.707a1 1 0 0 0 0-1.414l-16-16a1 1 0 0 0-1.414 1.414L14.586 19H12a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283v-4.62l6.293 6.293a1 1 0 0 0 1.414 0zm.232-3.182-1.49-1.49a8.941 8.941 0 0 0 .818-3.734c0-2.197-.81-4.318-2.28-5.972L26.48 15a10.949 10.949 0 0 1 1.46 12.525zm-4.7-4.7 1.673 1.673a6.981 6.981 0 0 0-1.418-6.843L22 18.984a4.99 4.99 0 0 1 1.24 3.841zM20 14.965v4.62l-2.793-2.792 2.11-2.11a.4.4 0 0 1 .683.283z"},[])])}function pd(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({version:"1.1",width:"40",height:"44",fill:"currentColor"},t),[yr("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm17.267 3.301c0-2.687-.99-5.28-2.787-7.301l-1.494 1.329a8.982 8.982 0 0 1 2.281 5.972 8.98 8.98 0 0 1-2.28 5.972l1.493 1.33a10.983 10.983 0 0 0 2.787-7.302z"},[]),yr("path",{d:"M25.267 22.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function md(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},t),[yr("path",{d:"M12.3 2.789v-.324l-1.15.315A6.259 6.259 0 0 1 9.5 3c-.6 0-1-.448-1-1.001a1 1 0 0 1 1-1H14a1 1 0 0 1 1 1v4.505a1 1 0 0 1-1 1c-.552 0-1-.403-1-1 0-.56.075-1.117.222-1.656l.313-1.147h-.32l-1.078 1.437a10 10 0 0 1-.93 1.072l-1.003 1.002A1 1 0 1 1 8.79 5.799l1.004-1.004c.332-.332.688-.641 1.064-.923L12.3 2.789ZM3.7 13.207v.323l1.15-.314a6.259 6.259 0 0 1 1.65-.221c.6 0 1 .447 1 1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V9.492a1 1 0 0 1 1-1c.552 0 1 .403 1 1 0 .56-.075 1.116-.222 1.656l-.313 1.147h.32l1.078-1.437c.285-.379.595-.737.93-1.072l1.003-1.002a1 1 0 0 1 1.414 1.414l-1.004 1.004a9.994 9.994 0 0 1-1.064.923L3.7 13.207Z"},[])])}function vd(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},t),[yr("path",{d:"M4.3 10.789v-.324l-1.15.315A6.259 6.259 0 0 1 1.5 11c-.6 0-1-.448-1-1.001a1 1 0 0 1 1-1H6a1 1 0 0 1 1 1v4.505a1 1 0 0 1-1 1c-.552 0-1-.403-1-1 0-.56.074-1.117.222-1.656l.313-1.147h-.32l-1.079 1.437c-.284.379-.595.737-.93 1.072l-1.002 1.002A1 1 0 1 1 .79 13.799l1.004-1.004a9.994 9.994 0 0 1 1.064-.923L4.3 10.789Zm7.4-5.582v.323l1.15-.314a6.257 6.257 0 0 1 1.65-.221c.6 0 1 .447 1 1a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V1.492a1 1 0 0 1 1-1c.552 0 1 .403 1 1 0 .56-.075 1.116-.222 1.656l-.314 1.147h.322l1.077-1.437c.285-.379.595-.737.93-1.072L13.796.783a1 1 0 1 1 1.414 1.414l-1.004 1.004c-.333.332-.688.64-1.064.923L11.7 5.207Z"},[])])}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gd.apply(null,arguments)}function fd(e){return e+"px"}function Ad(e,t,i){return e.length*i*lV>t}function _d(e,t,i){if(!Ad(e,t,i))return;const n=e.length/2,r=e.substring(0,n),o=e.substring(n).indexOf(" "),a=r.lastIndexOf(" "),s=a===r.length-1;if(o>=0&&!s){const n=r.length+o,a=e.substring(0,n),s=e.substring(n+1);if(Ad(a,t,i)||Ad(s,t,i))return;return{text1:a,text2:s}}if(a>=0){const n=e.substring(0,a),r=e.substring(a+1);if(Ad(n,t,i)||Ad(r,t,i))return;return{text1:n,text2:r}}}function yd(e){e.styles;var t=Object.assign({},e);return delete t.styles,yr("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[yr("path",{d:"M11.544 7.16a1 1 0 0 1-.001 1.67l-8.588 5.65a1 1 0 0 1-1.55-.837l.006-11.307a1 1 0 0 1 1.55-.835l8.583 5.659Z",fill:"#fff"},[]),yr("path",{d:"M15 2v12",stroke:"#fff","stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function bd(e){const t=sh(e.children,(e=>bd(e)));return{xmlString:e.xmlString,children:t}}function Sd(e){const t={};for(const i in e)d(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function Td(e,t){if("string"!==typeof e)return;if(!n(t))return;const i=e.toLowerCase();return zt(t).indexOf(i)>-1?i:void 0}function Ed(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?Nt(i):void 0}function wd(e,t){return"true"===Ed(e,t)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cd.apply(null,arguments)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pd.apply(null,arguments)}function kd(e,t,i){var r;const o=[],a=i.querySelector("AdSource");if(!a)throw new Qu({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let s=Yy;if(a.hasAttribute("id")){if(s=Number(a.getAttribute("id")),!ai(s))throw new Qu({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else o.push(new Qu({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const l=i.querySelector("Extensions");if(!l)throw new Qu({code:"NO_AD_BREAK_EXTENSIONS",details:t});const d=a.querySelector("VASTAdData"),c=null!=(r=null==d?void 0:d.querySelector("VAST"))?r:void 0,u=c?NV(c):void 0,h=a.querySelector("AdTagURI"),p=Nt(h);if((!h||!p)&&!u)throw new Qu({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const m={adTagURI:p,adFoxParameters:void 0,inlineVast:u},v=i.getAttribute("breakType"),g=Dt(i,"breakId"),f=Dt(i,"timeOffset","start"),A=()=>new Qu({code:"VMAP_INCORRECT_TIME_OFFSET",details:Pd({},t,{timeOffset:f,breakIdAttribute:g})});if(-1===xV.indexOf(g))throw new Qu({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:Pd({},t,{breakIdAttribute:g})});const _=function(e,t){switch(e){case VV:return[new Qu({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case LV:return[];case MV:return[new Qu({code:"NON_LINEAR_AD_BREAK_IN_NOT_SUPPORTED",details:t})];default:throw new Qu({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(v,t);let y;if(o.push(..._),"inpage"===g)y=function(e){const t=Ed("Stick",e),i=function(e){if(!n(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return Sd({stickTo:Td(t,FV),stickyColorScheme:Td(i,BV)})}({stickTo:Ed("StickTo",e),stickyColorScheme:Ed("ColorScheme",e)});return Cd({stick:"true"===t,adType:"inpage",replayMode:UV(e)},i)}(l);else if("inroll"===g)y={adType:"inroll"};else if("postPauseroll"===g)y={adType:"postPauseroll"};else if("start"===f){if(RV[f]!==g)throw A();y={adType:"preroll"}}else if("end"===f){if(RV[f]!==g)throw A();y={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(f))throw A();{if("midroll"!==g)throw A();const e=function(e,t){return Number(Ed("MaxRepeatCount",t))}(0,l),t=Xt(Dt(i,"repeatAfter")),n={timeOffset:Xt(f),repeatAfter:isNaN(t)?Zy:t,maxRepeatCount:isNaN(e)?Jy:e,repeatNumber:0};y=Pd({adType:"midroll",broadcastReplace:wd("BroadcastReplace",l)},n)}}return{adBreak:Pd({impId:s},y,e,m),errors:o,events:[]}}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Id.apply(null,arguments)}function Od(e){let{vmapXmlObject:t,vmapLoadParams:i}=e;const n=[],r=[],o=[],{responseText:a}=t,s={responseText:a,vmapLoadParams:i};let l=t.xml;if((null===l||void 0===l&&"true"===Tu.getFlagValueAndActivateTestId("VAS_ENABLE_VMAP_XML_CONVERTER"))&&(l=Ye(_A(a))),null===l||void 0===l)throw new Qu(i?{code:"VMAP_EMPTY_OR_INVALID_RESPONSE",details:Id({},i,{vmapXmlObject:t})}:{code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const d=l.querySelector("VMAP");if(!d)throw new Qu({code:"NO_VMAP_ROOT_NODE",details:s});const c=d.querySelectorAll("AdBreak");null!==c&&0!==c.length||r.push({name:"NoVmapAdBreaks",data:s});const u=new DV,h=l.querySelector("VMAP > Extensions");if(!h)throw new Qu({code:"NO_VMAP_EXTENSIONS",details:s});Y(d.querySelectorAll("TrackingEvents"));const p=e=>{const t=h.querySelector('Extension[type="'+e+'"]');return t?Nt(t):""};u.isSingleVideoSession="true"===p("SingleVideoSession"),u.isUniformat="true"===d.getAttribute("ya-uniformat");const m={sessionId:p("SessionID")};for(let g=0;g<c.length;g++)try{const{adBreak:e,errors:t,events:i}=kd(m,s,c[g]);u.adBreaks.push(e),n.push(...t),r.push(...i)}catch(v){n.push(v)}return o.push({name:"CreateVmapFromXMLString",data:{vmap:a},sensors:{uniformat:u.isUniformat}}),{vmap:u,errors:n,events:r,valuesEvents:o}}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Dd.apply(null,arguments)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Nd.apply(null,arguments)}function Rd(e){if(!n(e))return{};const{partnerId:i,category:r,vmapId:o,vmapScenarioId:a,impId:s,videoContentId:l,additionalParams:d,vmap:c,hasPreroll:u,preferableAdSize:h,preferableAdSizeVideoUI:p}=e;let v=h;if(void 0!==s&&!ai(s))throw new Qu({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==o&&!ai(o))throw new Qu({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==c&&!m(c))throw new Qu({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==u&&"boolean"!==typeof u)throw new Qu({code:"INVALID_CONFIG_HAS_PREROLL_VALUE",details:{config:e}});if(void 0!==a&&!ai(a))throw new Qu({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return n(p)&&t(p.width+p.height)&&"exp"===Tu.getFlagValueAndActivateTestId("VAS_ENABLE_PREFERABLE_AD_SIZES_FOR_VIDEO_UI")&&(v=p),Nd({},function(e){const t=n(e)?e:{};return Sd({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:c,hasPreroll:u,partnerId:void 0===i?void 0:Number(i),category:void 0===r?void 0:Number(r),impId:s,vmapId:o,vmapScenarioId:a,videoContentId:"string"===typeof l?l:void 0,additionalParams:nn(d),preferableAdSize:v})}function xd(e,t){return m(e)?e:t?void 0:YV}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Vd.apply(null,arguments)}function Ld(e,t){if(!n(e))return{};const i=function(e){if(!n(e))return{};const{wrapperMaxCount:t}=e;if(void 0!==t&&!Jt(t))throw new Qu({code:"INVALID_WRAPPER_MAX_COUNT",details:{wrapperMaxCount:t}});const i={wrapperMaxCount:t};if(void 0!==e.adFoxParameters){const t=n(r=e.adFoxParameters)?Ai(r)?void 0===r.containerId||m(r.containerId)?s(r.ownerId)?0===r.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT";if(t)throw new Qu({code:t,details:{adConfig:e}});i.adFoxParameters=e.adFoxParameters}var r;return i}(e),r=Rd(e),o=function(e){if(!n(e))return;let t,i;return t=Array.isArray(e.videoGenreId)?sh(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),i=Array.isArray(e.videoGenreName)?sh(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:t,videoGenreName:i,musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?sh(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),a=function(e){if(!n(e))return;const{metaRequestIndex:t,metaImpIdRequestIndex:i}=e;if(void 0!==t&&!Jt(t))throw new Qu({code:"INVALID_CONFIG_META_REQUEST_INDEX_VALUE",details:{config:e}});if(void 0!==i&&!Jt(i))throw new Qu({code:"INVALID_CONFIG_META_IMP_ID_REQUEST_INDEX_VALUE",details:{config:e}});return{metaRequestIndex:t,metaImpIdRequestIndex:i}}(e),l=function(e){const t={};return n(e)?(R(["full","creative","limited","domain"],e.omidAccessMode)&&(Ih.log({name:"OmidAccessModeIsSetThroughAdConfig",data:{accessMode:e.omidAccessMode}}),t.omidAccessMode=e.omidAccessMode),t):t}(e);return Vd({},i,r,o,a,l,{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),adBreakType:gr(e.adBreakType)?e.adBreakType:void 0,vast:e.hasOwnProperty("vast")&&m(e.vast)?String(e.vast):void 0,desiredBitrate:Bt(e.desiredBitrate),secureMode:WV(e),preferableAdSize:HV(e),loadHarmlessVastCallback:f(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0,videoContentId:xd(e.videoContentId,t),credentials:Boolean(e.credentials)?e.credentials:void 0})}function Md(e){let t={};try{const i=Hc.getItem({localStorage:e},JV);null!==i&&(t=JSON.parse(i))}catch(r){}const n={};return b(t,((e,t)=>{i(e)&&(n[t]=e)})),n}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bd.apply(null,arguments)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fd.apply(null,arguments)}function Ud(e){let{rawAdConfig:t,adPlacementOptions:n,stats:r}=e;const{adConfig:o,adBreak:a}=function(e){let{adLoaderConfig:t,logStatsEvent:i}=e;const{vastBase64:n}=t,r=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(t,GV),o=Ld(r,!1),{adBreakType:a}=o;let s;return n&&(o.vast=_e(n),i({name:"UsingVastBase64InAdLoaderConfig",probability:Wu})),gr(a)&&(s=tb[a]),{adConfig:o,adBreak:s}}({adLoaderConfig:t,logStatsEvent:r.log}),s=gu.isDebugEnabled?qV():void 0,l=m(o.vmap)?o.vmap:void 0,d=null!=s?s:l;if(m(d)){const e=((e,t)=>{const i=Ye(e),{vmap:n,events:r,valuesEvents:o,errors:a}=Od({vmapXmlObject:{responseText:e,xml:i},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return Ae(a,t),$d(r,(e=>{t.log(Dd({},e,{probability:Hu}))})),$d(o,(e=>{t.log(e)})),n})(d,r);if(0===e.adBreaks.length)throw new Qu({code:"AD_LOADER_AD_CONFIG_VMAP_NO_AD_BREAKS",details:t});return new OV({adConfig:o,vmap:e,adPlacementOptions:n,stats:r,adLoaderConfigType:"vmapString"})}if(o.adFoxParameters){const e=a||eb,t=new DV;return t.adBreaks=[e],new OV({adConfig:o,vmap:t,adBreak:e,adPlacementOptions:n,stats:r,adLoaderConfigType:"adFoxParameters"})}if(o.partnerId){const e=async function(e){let t;if(1===(arguments.length<=1?0:arguments.length-1))t=arguments.length<=1?void 0:arguments[1];else{const e=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3],r=Rd(e),o=function(e){let{config:t,adPlacementOptions:i,win:n}=e;const{partnerId:r}=t;if(!r)throw new Qu({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const o=$V(t,n),a=ft({url:N(""+QV+r,o),ignoreAbd:!0,options:i,win:n,preferableAdSize:t.preferableAdSize,isVmapRequest:!0}),s=oh(n);return"function"===typeof s?s(N(a,{abd:"1"})):a}({config:r,adPlacementOptions:i,videoSlot:n,win:window}),{vmapLoadTimeout:a}=r;let s=tL();void 0!==a&&0!==a&&(s=a),t={url:o,vmapLoadParams:{url:o,config:e,timeout:s},timeout:s}}const{url:n,vmapLoadParams:r,timeout:o}=t,a=Date.now();let s;e.log({name:"VmapLoadStart",data:r});try{const e=he(window),t=Se(n),i=!e&&t,r="boolean"===typeof gu.hardcodedParams.adsdkwithcredentials?gu.hardcodedParams.adsdkwithcredentials:i;s=await qe({url:n,data:null,timeout:o,withCredentials:r})}catch(c){const t=xp({thrownError:c,errorCode:"VMAP_LOAD_ERROR",errorDetails:r,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:r});throw e.error({error:t}),t}const{responseStatus:l,responseText:d}=s;if(200!==l){const e=XV(d);if(i(e))throw new Qu({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:Fd({},r,{responseStatus:l,disabledPageId:e})});throw new Qu({code:"INVALID_VMAP_RESPONSE_STATUS",details:Fd({},r,{responseStatus:l,responseText:s.responseText})})}try{const{vmap:t,events:i,valuesEvents:n,errors:o}=Od({vmapXmlObject:s,vmapLoadParams:r});Ae(o,e),$d(i,(t=>{e.log(Fd({},t,{probability:Hu}))})),$d(n,(t=>{e.log(t)}));const l=Fd({},ze(sh(xV,(e=>["adBreak_"+e,!1]))),ze(sh(t.adBreaks,(e=>["adBreak_"+e.adType,!0]))));return e.log({name:"VmapLoadSuccess",data:r,values:{adBreaksCount:t.adBreaks.length,timeSpent:Date.now()-a},sensors:l}),t}catch(c){throw e.errorToStats(c),c}}(r,o,n).then((e=>{if(0===e.adBreaks.length)throw new Qu({code:"AD_LOADER_AD_CONFIG_VMAP_NO_AD_BREAKS",details:o});const t=new OV({adConfig:o,vmap:e,adPlacementOptions:n,stats:r,adLoaderConfigType:"vmapLoaded"});return t.addDestroyHandler(ol((()=>{t.destroy()}),iu)),t}));return e.catch((e=>{r.errorToStats(e)})),e}if(a){const e=new DV;return e.adBreaks=[a],new OV({adConfig:o,vmap:e,adBreak:e.adBreaks[0],adPlacementOptions:n,stats:r,adLoaderConfigType:"syntheticAdBreak"})}throw new Qu({code:"NOT_ENOUGH_PARAMETERS_TO_CREATE_AD_LOADER",details:o})}var Hd={};e.r(Hd),e.d(Hd,{ctc:function(){return Qm},domashniy:function(){return $m},dzen:function(){return Jm},wifi:function(){return Zm},yandexMusic:function(){return Km}});const zd=-1,jd={droppedVideoFrames:zd,corruptedVideoFrames:zd,totalVideoFrames:zd},Wd=r({},jd,{droppedVideoFramesRatio:zd}),Yd={width:0,height:0},Gd={visibility:0,size:Yd,relativeSizeRatio:0,screenSize:Yd,devicePixelRatio:0,downlink:0,videoContentSize:void 0,videoAvatarSize:Yd,videoPixelRatio:zd,videoToDevicePixelRatio:zd,videoFramesInfo:Wd,videoSrc:"",videoMuted:!0,videoVolume:0,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:zd,remainingBufferedTime:0,isFullscreen:void 0,adPodId:void 0,productType:void 0};let qd;try{qd="1149203"}catch(hb){qd="INVALID_BUILD_VERSION"}const Xd=qd,Kd={}.toString,Jd=/\[object (\w+)\]/,Zd=e=>{const t=Kd.call(e);if(!t)return null;const i=t.match(Jd);if(!i)return null;return i[1]||null},Qd=e=>e instanceof Error||"Error"===Zd(e),$d=(e,t,i)=>{for(let n=0;n<e.length;n++)t.call(i,e[n],n,e)},ec=function(e,t){let i=e[t];if(!l(i)){const n=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=n}catch(hb){}}return i}(Array,"isArray"),tc=Boolean(ec)?e=>ec.call(Array,e):e=>"Array"===Zd(e),ic=["expFlags"],nc={testIds:"",flags:{}},rc=a((()=>{try{return __UAAS_CFG__}catch(e){return e}})),oc=e=>{if(Qd(e))return{error:e,config:nc};try{const t=n(e)?e:JSON.parse(""+(e||"")),i=(e=>!!n(e)&&!(!("expFlags"in e)||!tc(e.expFlags)))(t)?(e=>{const t=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(e,ic),i={},r={};return $d(e.expFlags,(e=>{$d(e,(e=>{let{CONTEXT:{FLAGS:t},TESTID:o}=e;n(t)&&$d(c(t),(e=>{var n;const a=t[e];i[e]=a,r[e]=null!=(n=r[e])?n:[],r[e].push({value:a,testId:o[0]})}))}))})),p({flags:i,flagsMap:r},t)})(t):t;if(!i.flags||u(i.flags)){const e=function(e){void 0===e&&(e={});const t={};return h(e,((e,i)=>{$d(e,(e=>{let{value:n}=e;t[i]=n}))})),t}(i.flagsMap);u(e)||(i.flags=e)}if(!((e,t)=>{if(!n(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!s(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0!==e.length)for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[n,,r]=i;if(0===n.trim().length)throw new Error("testId length error ["+e+"]");if(0===r.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}(t.testIds),!("flags"in t)||!n(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0})(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:nc}}},ac=a((e=>oc(e||rc()))),sc=!g(Math.random)||Math.random()===Math.random(),lc=Date&&f(Date.now)?()=>Date.now():()=>(new Date).getTime(),dc="undefined"===typeof window?void 0:window.performance,cc=dc&&f(dc.now),uc=dc&&dc.timing&&dc.timing.navigationStart?dc.timing.navigationStart:lc();let hc=0;const pc=cc?()=>dc.now():()=>(()=>{const e=lc()-uc;return hc=Math.max(e,hc),hc})(),mc=2147483647;let vc=Date.now()*pc()%mc;const gc=mc-1,fc=sc?function(){return vc=16807*vc%mc,(vc-1)/gc}:function(){return Math.random()},Ac="VAS",_c=e=>_(e.substr(-4),4,"0"),yc=()=>_(Date.now().toString().slice(0,10),10,"0"),bc=function(e,t,i){let n=0;for(arguments.length<3&&(n=1,i=e[0]);n<e.length;n++)i=t(i,e[n],n,e);return i},Sc=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1},Tc=(void 0===Ec&&(Ec=window),function(e){void 0===e&&(e=window);const t=E(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map((e=>e.trim().split("/")[0])).filter((e=>e&&"mobile"!==e));return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]}(Ec)||T(Ec)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&function(e){return void 0===e&&(e=window),function(e){return"ontouchstart"in e}(e)}(e)}(Ec));var Ec;const wc=function(e,t){let i=e[t];if(!g(i)){const n=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=n}catch(hb){}}return i}(Array,"isArray"),Cc=wc?e=>wc.call(Array,e):e=>"Array"===Zd(e);class Pc{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const kc=e=>{try{return decodeURIComponent(e)}catch(hb){return e}},Ic=(void 0===Xc&&(Xc=e=>e),void 0===Kc&&(Kc=new Pc({})),/^(android-app:|chrome-extension:)/),Oc=(e,t)=>t.map((t=>e+"[]="+encodeURIComponent(t))).join("&"),Dc="aim-banner-id",Nc="aim-mode",Rc="aim-design-id",xc="aim-design-name",Vc="aim-subdesign-id",Lc="disabled-product-types",Mc=c({adsdkver:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkabflags:0,adsdkuaas:0,[Dc]:0,[Nc]:0,[Rc]:0,[xc]:0,[Vc]:0,[Lc]:0,adsdkhoneypotforced:0,adsdkgrforced:0,vasnetworklogs:0,vasconsolelogs:0,vasdebug:0,vasfulldebug:0,vaslogabflags:0,adsdkdebug:0}),Bc={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},Fc=c(Bc),Uc={adsdkver:e=>m(e)?e:void 0,adsdkecmaver:e=>{const t=null==e?void 0:e.toUpperCase();return"ES2017"===t||"ES5"===t?t:void 0},adsdktracelogs:x,adsdksecuremode:e=>e&&R(Fc,e)?e:void 0,adsdkwithcredentials:e=>{const t=e?(""+e).toLowerCase():void 0;return"true"===t||"false"!==t&&void 0},adsdkabflags:V,adsdkuaas:V,[Dc]:V,[Nc]:V,[Rc]:V,[xc]:V,[Vc]:V,[Lc]:V,adsdkhoneypotforced:x,adsdkgrforced:x,vasnetworklogs:x,vasconsolelogs:x,vasdebug:x,vasfulldebug:e=>"false"!==e&&Boolean(e),vaslogabflags:V,adsdkdebug:x},Hc={getItem:(e,t)=>{try{return e.localStorage.getItem(t)}catch(i){return null}},setItem:(e,t,i)=>{try{e.localStorage.setItem(t,i)}catch(n){return}},removeItem:(e,t)=>{try{e.localStorage.removeItem(t)}catch(i){return}}},zc=e=>{const t=[];for(;e;)try{if(S(e),t.push(e),e.parent===e)break;e=e.parent}catch(hb){break}return t},jc=(e,t)=>{for(const r of zc(e)){var i,n;const e=null==(i=r.Ya)||null==(n=i.hardcodedParams)?void 0:n[t];if(e)return String(e)}},Wc=new Set(Mc),Yc=(H(window),e=>n(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__)),Gc=[].find,qc=l(Gc)?(e,t)=>Gc.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const n=e[i];if(t(n,i,e))return n}};var Xc,Kc;let Jc=document.currentScript;if(!Jc){const e=z(document.getElementsByTagName("script"));Jc=qc(e,Yc),Jc||(Jc=e[e.length-1])}const Zc=Jc,Qc=Zc?Zc.src:"",$c="AdLoader",eu=j(document.documentElement),{length:tu}=eu,iu=tu>0?eu[tu-1].ownerDocument.defaultView:window,nu=(e,t,i)=>{for(let n=0;n<e.length;n++)t.call(i,e[n],n,e)},ru=Y,ou=Y,au=Y,su=e=>{let{propertyName:t}=e;return{call:e=>ru(G({propertyName:t},e)),subscribe:e=>au(G({propertyName:t},e)),wait:e=>(e=>{let{propertyName:t}=e;return new Promise((e=>{au({callback:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e(i)},propertyName:t})}))})(G({propertyName:t},e)),waitUntil:e=>(e=>{let{propertyName:t,comparator:i}=e;return new Promise((e=>{au({propertyName:t,callback:function(){i(...arguments)&&e()}})}))})(G({propertyName:t},e)),clear:e=>ou(G({propertyName:t},e))}};su({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME"});const lu=Zc?Zc.__AD_SDK_SCRIPT_SESSION_PARAMETERS__:void 0;Zc&&delete Zc.__AD_SDK_SCRIPT_SESSION_PARAMETERS__;const du=["a","n.ya","nd","ex.ru"].join(""),cu=["y","a","nde","x.ru"].join(""),uu=["y","a",".r","u"].join(""),hu=["ya","sta","tic.net"].join(""),pu=["ver","ify.y","a","nde","x.ru"].join(""),mu=[cu,du,hu],vu="AdSDKLoader"===$c,gu=K(window),fu=gu.VSID,Au=(e,t,i)=>{const n=[];for(let r=0;r<e.length;r++){const o=e[r];t.call(i,o,r,e)&&n.push(o)}return n};class _u{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>{this.remove(...t)}}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>{this.remove(...t)}}promise(){return new Promise((e=>{this.addOne(e)}))}dispatch(e){const{once:t}=this;this.once=[],Z(this.on,e),Z(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=Au(this.on,(e=>t.indexOf(e)<0)),this.once=Au(this.once,(e=>t.indexOf(e)<0))}}const yu=(e,t,i)=>{const n=[];for(let r=0;r<e.length;r++){const o=e[r];t.call(i,o,r,e)&&n.push(o)}return n},bu=e=>{if(f(Array.from))return Array.from(e);const t=[];for(const i of e.values())t.push(i);return t};class Su{constructor(e,t){var i=this;this.activeTestIds=[],this.externalActiveTestIds=new Set,this.initialActiveTestIds=[],this.activeFlags=new Set,this.getFlagValueAndActivateTestId=e=>{var t;const i=this.abFlags[e],n=i?null==(t=this.flagToTestIdMap[e])?void 0:t[i]:void 0;if(n)for(const o of n){const t=this.testIdMap.get(o);t&&(this.activateTestId(t),this.activateFlag(e))}const r=gu.hardcodedParams.vaslogabflags;return!r||"1"!==r&&-1===e.indexOf(r)||console.log("[AbFlagsStore] getFlagValueAndActivateTestId call:",e,"=",i),i},this.getFlagValue=e=>this.abFlags[e],this.getActiveTestIds=()=>{return e=[...this.activeTestIds,...bu(this.externalActiveTestIds)],yu(e,((e,t,i)=>i.indexOf(e)===t));var e},this.activateExternalTestIds=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t){const[e]=r.split(",");if(!m(e))continue;const t=i.testIdMap.get(e);m(t)&&i.externalActiveTestIds.add(t)}},this.__isFlagActive=e=>this.activeFlags.has(e),this.__setAbFlags=e=>{this.abFlags=e},this.__restoreAbFlags=()=>{this.abFlags=this.initialAbFlags},this.__setActiveTestIds=e=>{this.initialActiveTestIds=this.activeTestIds,this.activeTestIds=e},this.__restoreActiveTestIds=()=>{this.activeTestIds=this.initialActiveTestIds},this.onTestIdActivated=new _u,this.abFlags=t,this.initialAbFlags=t;const{flagsMap:n,testIds:r}=e;if(this.testIdMap=new Map,m(r))for(const o of r.split(";")){const[e]=o.split(",");this.testIdMap.set(e,o)}this.flagToTestIdMap=(e=>void 0===e?{}:Q(e,(e=>bc(e,((e,t)=>{var i;let{value:n,testId:r}=t;const o=null!=(i=e[n])?i:[];return o.push(r),e[n]=o,e}),{}))))(n)}activateTestId(e){R(this.activeTestIds,e)||(this.activeTestIds.push(e),this.onTestIdActivated.dispatch(e))}activateFlag(e){this.activeFlags.has(e)||this.activeFlags.add(e)}getNumberFlagValueAndActivateTestId(e){const i=this.getFlagValueAndActivateTestId(e),n=Number(i);return t(n)?n:void 0}}const Tu=(null==lu?void 0:lu.AB_FLAGS_STORE)||function(){const e=new Su(gu.VAS_UAAS_CONFIG,gu.AB_FLAGS);e.getFlagValueAndActivateTestId("ADSDKVER");const t=null==lu?void 0:lu.ActiveTestIds;return t&&e.activateExternalTestIds(...t),e}(),Eu={version:Xd,vsid:fu,rnd:gu.VAS_USER_SESSION_RANDOM,AdditionalStatsRootFields:gu.AdditionalStatsRootFields,AB_FLAGS_STORE:Tu,iCookie:gu.ICOOKIE,testIds:gu.TEST_IDS},wu=Boolean(window.location.ancestorOrigins),Cu=$(window),Pu=w(document.documentElement),{length:ku}=Pu,Iu=ku>0?Pu[ku-1].ownerDocument.defaultView:window,Ou=(e,t,i)=>{const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t.call(i,e[r],r,e);return n},Du=function(){const e=Ou(Pu,(e=>e.ownerDocument)),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}(),{topAncestor:Nu,isTrusted:Ru}=function(e){void 0===e&&(e=window);const t=$(e);if(t.length>0){const e=t[t.length-1];if(-1===e.indexOf("extension"))return{topAncestor:e,isTrusted:!0}}const{location:i,referrer:n}=ee(e.document),r=Du?n:i,o=!Du||H(Iu).length<2,a=I(r);if(!a)return{topAncestor:"",isTrusted:!1};const{protocol:s,hostname:l,host:d,port:c}=a;return{topAncestor:O({protocol:s,hostname:l,host:d,port:c,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:o}}(),xu=Nu,Vu=Ru,Lu=200,Mu=4,Bu=e=>g(e.navigator.sendBeacon),Fu=Bu(window),Uu="https://log.strm.yandex.ru/log",Hu=1,zu=gu.hardcodedParams.vasnetworklogs||gu.VAS_UAAS_CONFIG.isInternalNetwork||!1,ju=zu?Hu:.01,Wu=zu?Hu:.001,Yu=e=>!!n(e)&&!!s(e.name)&&!!s(e.message),Gu=e=>({name:e.name,message:e.message,stack:e.stack}),qu=e=>{try{return"display"in se(e)}catch(hb){return!1}};var Xu=e(5462),Ku=e.n(Xu);const Ju="DEFAULT_ERROR_MESSAGE",Zu="?:?:?";class Qu extends Error{constructor(){const e=2===arguments.length?arguments.length<=0?void 0:arguments[0]:void 0,t=2===arguments.length?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0],i=Yu(e)||"object"===typeof e&&e&&"code"in e&&"details"in e?e:{message:String(e||Ju)};super(),this.originalError="object"===typeof e&&e?e:{unknown:e,unknownStr:String(e)},Ku()(this,Qu.prototype);const n=t.code||i.code||i.id||"0",r=t.message||i.message||Ju;this.message="VAS Error ["+n+"]"+(r?"["+r+"]":""),this.code=n,this.details=t.details||i.details||"";const o=i.stack||function(e){const{url:t,line:i,col:n,fileName:r,columnNumber:o,lineNumber:a}=e;return(t||r||"?")+":"+(i||a||"?")+":"+(n||o||"?")}(i);let a=o===Zu?this.stack:o;if(a&&a!==Zu)this.stack=a;else if(!this.stack)try{throw new Error(this.message)}catch(hb){this.stack=a=hb.stack||Zu}this.toString=()=>le(this.toJSON()),this.toJSON=()=>({originalError:this.originalError,message:this.message,code:this.code,details:this.details,stack:a})}}const $u=e=>{if(Qd(e))return e;const t=String(e)||"DEFAULT_ERROR_MESSAGE";return new Error(t)},eh=function(e){const t=zc(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window),th=(e,t)=>{for(const i of t.split(".")){if(!n(e)){e=void 0;break}e=e[i]}return e},ih="__ADB_CONFIG__",nh=n(ih)&&n(ih.fn)?ih.fn:void 0,rh=["encodeUrl","decodeUrl","encodeCSS","isEncodedUrl"],oh=e=>(e=>{if(nh)return nh;const t={},i=zc(e);for(;i.length;){const e=i.pop();e&&$d(rh,(i=>{if(f(t[i]))return;const n=th(e,"ya.videoAd."+i);f(n)&&(t[i]=n)}))}return t})(e).encodeUrl,ah=q(gu.hardcodedParams.adsdktracelogs,gu.hardcodedParams.vasconsolelogs),sh=(e,t,i)=>{const n=[];for(let r=0;r<e.length;r++)n[r]=t.call(i,e[r],r,e);return n},lh=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0;var dh=e(2860),ch=e.n(dh);const uh={NO_AD_SECTION:{portion:.01},VIDEO_WRAPPER_NODE_NOT_IN_DOM:{portion:.01},EXTERNAL_VPAID_NO_AD_BUZZOOLA:{portion:.01},YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT:{portion:.01},USING_SOURCE_WATCHED_TIME_AS_WATCHED_TIME:{portion:.01},VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START:{portion:.01},HB_HANDSHAKE_TIMEOUT:{portion:.1},BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST:{portion:.1},AD_CREATIVE_FRIENDLY_IFRAME_SECURITY_POLICY_VIOLATION:{portion:.1},VMAP_INCORRECT_TIME_OFFSET:{portion:.1},VPAID_MEASURER_AD_ERROR:{portion:.1},INPAGE_ON_READY_PLAY_ERROR:{portion:.1},VIDEO_PLAY_REJECTED:{portion:.1},AD_LOADER_AD_CONFIG_VMAP_NO_AD_BREAKS:{portion:.1},VPAID_FRIENDLY_IFRAME_SECURITY_POLICY_VIOLATION:{portion:.1},MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL:{portion:.1},NO_AD_TO_DISPLAY:{portion:.1},VPAID_FRIENDLY_IFRAME_CSP_VIOLATION_REPORT:{portion:.1},LEGAL_VPAID_PLAYER_PLAYING:{portion:.1},CALL_PLAYBACK_METHOD_AFTER_STOP:{portion:.1},CANNOT_LOAD_MODULE:{portion:.1},AD_STOPPED_BEFORE_READY_TO_PLAY:{portion:.1},MEDIA_SRC_VIOLATES_CSP_POLICY:{portion:.1},AD_BREAK_IS_STOPPED:{portion:.1},EXTERNAL_VPAID_NO_AD_BETWEENDIGITAL:{portion:.1},VPAID_FRIENDLY_IFRAME_UNHANDLED_PROMISE_REJECTION:{portion:.1},SLOT_SMALL_SIZE:{portion:.1},ADFOX_AD_DATA_LOADING_TIMEOUT:{portion:.1},EXTERNAL_VPAID_NO_AD_VIDEONOW:{portion:.1},VPAID_LOADING_ERROR:{portion:.1},AD_CREATIVE_BUFFER_FULL_TIMEOUT:{portion:.1},SURVEY_CANNOT_RECEIVE_INTERVIEW_ID:{portion:.1},ATTEMPT_TO_SKIP_AD_POD_AFTER_FINISH:{portion:.1},INPAGE_CONTAINER_ZERO_WIDTH:{portion:.1},VAST_INCORRECT_YANDEX_AD_INFO_EXTENSION_XML:{portion:.1},VIDEO_NODE_DOM_POSITION_CHANGED:{portion:.1},PUBLIC_CONTROLLER_PLAY_ERROR:{portion:.1},VPAID_FRIENDLY_IFRAME_WAS_UNLOADED:{portion:.1},VPAID_FRIENDLY_IFRAME_UNHANDLED_GLOBAL_ERROR:{portion:.1},WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM:{portion:.1},WRAPPER_VAST_LOAD_TIMEOUT:{portion:.1},CANNOT_LOAD_VPAID_MEDIA_FILE:{portion:.1},VAST_LOAD_ERROR:{portion:.1},ADFOX_VAST_LOAD_ERROR:{portion:.1},VPAID_FRIENDLY_IFRAME_DEPRECATION_REPORT:{portion:.1}};class hh{constructor(){var e;this.logger=new(ch()),this.logger.initErrors({project:"vas",version:Xd,env:"production",platform:de(window)?"touch":"desktop",blocker:!1,additional:{bundle:$c},slots:m(null==gu||null==(e=gu.VAS_UAAS_CONFIG)?void 0:e.testIds)?gu.VAS_UAAS_CONFIG.testIds.split(";"):void 0,throttleSend:0,uncaughtException:!1,unhandledRejection:!1,preventError:!1})}log(e){var t;((e,t)=>{const i=e.code,r=uh[i];return!n(r)||!r.portion||t<=r.portion})(e,gu.VAS_USER_SESSION_RANDOM)&&this.logger.logError({message:e.message,level:"error",additional:ge({},null!=(t=gu.AdditionalStatsRootFields)?t:{},{activeTestIds:Tu.getActiveTestIds()})})}}class ph{constructor(e){this.rootFields={},this.error=e=>{let{error:t}=e;const i=ae(t)?t:new Qu(t);this.errorBooster.log(i),this.push({eventName:String(i.code),eventType:"error",data:i,probability:Hu})},this.log=e=>{const{name:t,probability:i=ju}=e,{data:n,values:r,sensors:o,dailySensors:a}=e;this.push({eventName:t,eventType:"values",data:n,probability:i,values:r,sensors:o,dailySensors:a})},this.setRootFields=e=>{const t=pe(e);$d(t,(e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i}))},this.errorToStats=e=>{const t=ae(e)?e:new Qu($u(e));this.errorBooster.log(t),this.push({eventName:String(t.code),eventType:"error",data:t,probability:Hu})},this.params=e,this.errorBooster=new hh}push(e){let{eventName:t,eventType:n,data:r,probability:o,values:a,sensors:s,dailySensors:l}=e;if(this.params.rnd>=o)return;if(o!==Hu){const e=parseFloat(Tu.getFlagValueAndActivateTestId("VAS_LOGS_PROBABILITY_MULTIPLIER")||"");if(i(e)&&this.params.rnd>=o*e)return}const{version:d}=this.params,c={version:d,data:r,eventName:t,eventType:n,values:a,sensors:s,dailySensors:l},u=Uu+"?VAS="+d+"&event="+t,h=this.createFullStatsObject(c),p=le(h);ah("[Stats] "+n+"="+t,h),this.sendData(u,p)}sendData(e,t){oe(e,t)||re({url:e,data:t,method:"POST"})}createFullStatsObject(e){const{version:t,eventName:n,eventType:r,data:o,sensors:a,dailySensors:s}=e,{location:l,referrer:d}=ee(document),c=de(window)?ce(window):void 0,u=he(window),{testIds:h}=this.params,p=m(h)?yu(sh(h.split(";"),(e=>Number(e.split(",")[0]))),i):[];return fe({},this.params.AdditionalStatsRootFields,{bannerTypeFromNanpu:eh,bundleName:$c,iCookie:this.params.iCookie,testIds:p,slots:h},this.rootFields,{service:"VAS",values:e.values,sensors:ve(a),dailySensors:ve(s),timestamp:Date.now(),eventType:r,eventName:n,data:o,vsid:this.params.vsid,version:t,location:S(window),topLocation:l,topAncestor:xu,isTopAncestorUndetermined:!Vu||void 0,ancestorOrigins:Cu,documentIsVisible:me(document),referrer:window.document.referrer,topReferrer:d,currentScriptSrc:Qc,secureIFrame:Du,isVideoADB:u,rnd:this.params.rnd,topDocumentFocus:ue(),pcodeActiveTestIds:this.params.AB_FLAGS_STORE.getActiveTestIds(),deviceOrientation:c})}}const mh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",vh=/^([a-z0-9|-]+\.)*adfox.ru$/,gh=/\/(an|ads)\/adfox/,fh=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1},Ah=[...["localhost","127.0.0.1"].concat([]),cu,"yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",hu,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],_h=e=>Se(e)||!Te(e),yh=e=>!!m(e)&&(!_h(e)&&(!ye(e)&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_LONG_EXP_FLAG_ENABLE_SECURE_MODE_FOR_EXTERNAL_VPAID"))),bh=e=>{var t;let{secureMode:i,url:n}=e;const r=null!=(t=gu.hardcodedParams.adsdksecuremode)?t:i;return!!yh(n)||"ForceSafe"===r||"Safe"===r&&(!m(n)||!Se(n))},Sh=3e3,Th=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1};su({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME"});let Eh=function(e){return e[e.DO_NOTHING=0]="DO_NOTHING",e[e.CALL_NORMALLY=1]="CALL_NORMALLY",e[e.DEPENDS_ON_AB_FLAGS=2]="DEPENDS_ON_AB_FLAGS",e}({});class wh{get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){return wh.errorHandlers.push(e),()=>{const t=Th(wh.errorHandlers,(t=>t===e));-1!==t&&wh.errorHandlers.splice(t,1)}}static addCallAfterDestroyErrorHandler(e){return wh.callAfterDestroyErrorHandlers.push(e),()=>{const t=Th(wh.callAfterDestroyErrorHandlers,(t=>t===e));-1!==t&&wh.callAfterDestroyErrorHandlers.splice(t,1)}}constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[n]=t;this._isDestroyed||(this._isDestroyed=!0,this._destroyReason=n,$d(this.destroyHandlers,(e=>{try{e(...t)}catch(i){W(wh.errorHandlers,i)}})),this.destroyHandlers.length=0)}ignoreAfterDestroy(e,t,i){var n=this;return void 0===i&&(i=Eh.DO_NOTHING),function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];if(!n.isDestroyed)return e.apply(n,o);const s=new Qu({code:"DESTROYABLE_METHOD_CALLED_AFTER_DESTROY",details:{identifier:t}});if(W(wh.callAfterDestroyErrorHandlers,s),i===Eh.DEPENDS_ON_AB_FLAGS){if("TRUE"===Tu.getFlagValueAndActivateTestId("VAS_DESTROYABLE_THROW_ERROR_AFTER_DESTROY"))throw new Error("You cannot call a method of a class that had destroy() called");if("TRUE"===Tu.getFlagValueAndActivateTestId("VAS_DESTROYABLE_RETURN_UNDEFINED_AFTER_DESTROY"))return}return i===Eh.CALL_NORMALLY?e.apply(n,o):void 0}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}wh.errorHandlers=[],wh.callAfterDestroyErrorHandlers=[];const Ch=(e,t)=>{let i=0;return{promise:new Promise((n=>{i=t.setTimeout(n,e)})),clear(){t.clearTimeout(i)},timeoutId:i}},Ph=["spec","logo","misc"],kh=e=>{if(n(e))for(const t in e)if(e.hasOwnProperty(t)&&!R(Ph,t))return e[t]},Ih=new ph(Eu);wh.addErrorHandler((e=>{Ih.error({error:new Qu(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})}));const Oh="application/x-javascript",Dh=["application/javascript",Oh];let Nh=function(e){return e.INTERACTIVE_VIEWER="video-banner_interactive-viewer",e.MOTION="video-banner_motion",e.EMPTY="video-banner_theme_empty",e.SURVEY="video-banner_survey",e}({});const Rh=["aw","ap","s-a","d-sd","k-j","s"].join(""),xh=Rh+"/1_0",Vh="https://"+cu+"/ads/system/vpaid_loader.js",Lh=function(e,t){const i=B(e,"adsdkver");if(i)return i;return Tu.getFlagValue("ADSDKVER")||t}(window,Xd),Mh="https://"+hu+"/vas-bundles/",Bh="https://"+hu+"/"+Rh+"/1_0/vpaid-motion.js",Fh="https://"+hu+"/pcode/media/vpaid-motion.js",Uh="https://"+du+"/system/video-ads-sdk/vpaid-motion.js",Hh=ke(Lh)+"vpaid-motion.js",zh=[Bh,Fh,Uh,Hh],jh="https://"+hu+"/"+Rh+"/1_0/vpaid-creative.js",Wh=["https://"+hu+"/pcode/media/vpaid-creative.js",jh];class Yh extends _u{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add((i=>{e(i)&&J(t,i)}))}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,(e=>{i(),J(t,e)}));return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}const Gh={left:0,width:0,top:0,height:0,right:0,bottom:0},qh=e=>{if(void 0===e||null===e)return Gh;try{const t=e.getBoundingClientRect();return{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.right-t.left,height:t.bottom-t.top}}catch(hb){return Gh}};let Xh=!1,Kh=!1,Jh=!1;try{const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>Xh=!0}),Object.defineProperty(t,"passive",{get:()=>Kh=!0}),Object.defineProperty(t,"capture",{get:()=>Jh=!0}),e.addEventListener("click",Y,t)}catch(cL){}const Zh={ES5:"bundles",ES2017:"bundles-es2017"},Qh=e=>{let{version:t=Xd,win:i}=e;const n=oh(i),r=Zh.ES5,o=""+ke(t)+r+"/proxy_frame.html";return f(n)?n(o):o};let $h;const ep=function(e){return void 0===e&&(e=window),$h||($h=e.document.createElement("div")),$h}(window),tp=(e,t)=>{const i="undefined"!==typeof ep.style[e];if(i&&t&&s(t))try{ep.style.cssText=String(e)+": "+t+";";const i=Boolean(ep.style.cssText);return ep.style.cssText="",i}catch(hb){return!1}return i},ip=["","webkit","moz","o","ms"],np={},rp=function(e){return void 0===e&&(e=""),np[String(e)]||function(e){const t=""+String(e)[0].toUpperCase()+String(e).slice(1);for(let i=0;i<ip.length;i++){const n=ip[i],r=n?""+n+t:e;if(tp(r))return np[String(e)]=r}return np[String(e)]=e}(e)},op={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},ap={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},sp={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},lp=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const n=i?sp:ap;Le(t,n.attributes),xe(t,n.styles)},dp="VAS_FRAME_GLOBAL_CALLBACK",cp=su({propertyName:dp}),up=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),hp=e=>(e=>e instanceof Promise||"Promise"===Zd(e)&&Boolean(Fe((()=>g(e.constructor)))))(e)||(e=>Boolean(Fe((()=>f(e.then)&&f(e.catch)))))(e);class pp extends wh{constructor(e,t){super(),this.listenForCommandEvents=e=>{const t=Ne({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new Qu({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},this.port=e,this.commandHandlers=t,this.listenForNewCommands(),this.addDestroyHandler(Ne({element:e,eventName:"messageerror",listener:()=>{this.destroy(new Qu({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=A(6),n=Ch(5e3,window);n.promise.then((()=>{this.destroy(new Qu({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:String(e),commandId:i}}))})).catch(Ue),this.addDestroyHandler((()=>n.clear()));const r=this.waitForNextCommandEvent({name:e,id:i}),o=new Promise(((t,o)=>{r.then((r=>{if(n.clear(),"success"===r.status)t(r.payload);else if("error"===r.status){const e=r.payload;o((e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t})(e))}else{if("abort"===r.status)return;this.destroy(new Qu({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:r.status,payload:r.payload,name:String(e),commandId:i}}))}})).catch(o)})),s=a((()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})}));return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:o,abort:s}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new Qu({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(He({},e,{type:"command"}))}catch(t){this.destroy(new Qu({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise((t=>{const i=this.listenForCommandEvents((n=>{n.name===e.name&&n.id===e.id&&(i(),t(n))}))}))}listenForNewCommands(){this.listenForCommandEvents((e=>{var t;if("start"!==e.status)return;const i=null==(t=this.commandHandlers)?void 0:t[e.name];if(!Boolean(i))return void this.destroy(new Qu({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const n=this.createCommandControlDescriptor(e),r=e.payload;try{i(n,r)}catch(o){this.destroy(new Qu({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:o}}))}}))}createCommandControlDescriptor(e){const t=new _u;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy((n=>{i||"abort"===n.status&&n.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())}),"Dispatcher.awaitForResolveOfWaitForNextCommandEvent")).catch(Y),{resolve:n=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:n})},reject:n=>{if(i)return;i=!0,t.removeAll();const r=Gu(n);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:r})},subscribeForAbort:function(){return i?Y:t.add(...arguments)}}}isEventDataCommandLike(e){return!!n(e)&&"command"===e.type&&!!m(e.id)&&!!m(e.status)}}const mp=c({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),vp=["src","poster"],gp=c({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),fp=["video/mp4","video/webm"],Ap={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},_p=c({load:0,play:0,pause:0,setAttribute:0}),yp=(e,t,i)=>{if(!n(e))return e;const r=e,o=t.split("."),a=o.pop();for(const s of o){const t=e[s];e=n(t)?t:e[s]={}}return e[a]=i,r},bp=c({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),Sp=new WeakSet;class Tp extends wh{static isVideoNodeLocked(e){return Sp.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),ah("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",ze(sh(fp,(e=>[e,this.params.videoNode.canPlayType(e)])))),$d(c(Ap),(e=>{const t=Ap[e];$d(t,(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}))}))}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(R(_p,e)){if("setAttribute"===e){const[e,n=""]=t;if(!m(e))return;return R(vp,e)?i.setAttribute(e,n):void Ih.error({error:new Qu({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:n}})})}return i[e]()}Ih.error({error:new Qu({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!R(gp,e))return void Ih.error({error:new Qu({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const n=e,r=i[n];yp(i,e,t),this.params.handleVideoNodePropertyChange(n,i[n]),this.addDestroyHandler((()=>{yp(i,e,r)}))}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;$d(mp,(t=>{this.addDestroyHandler(Ne({element:e,eventName:t,listener:e=>{Ap.hasOwnProperty(e.type)&&$d(Ap[e.type],(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})),setTimeout(this.ignoreAfterDestroy((()=>{const t=(e=>je({},ze(sh(bp,(t=>[t,e[t]]))),{target:null}))(e);this.params.handleVideoNodeEvent(t)}),"OutsideApiLocalVideoNode.timeoutForHandleVideoNodeEvent"),0)}}))}))}}class Ep extends wh{constructor(e){super(),this.vpaidEventBus=new _u,this.vpaidGetterPropertyBus=new _u,this.dispatcherCommandHandlers={handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:n,args:r}]=t;i(),this.vpaidEventBus.dispatch({eventName:n,args:r})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:n,value:r}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:n,value:r})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:n}=e,[{methodName:r,args:o}]=t;const a=this.localVideoNode;if(a)try{ah("[outsideAPI] call video method=["+r+"], args=["+o+"]");const e=a.callVideoNodeMethod(r,o);return hp(e)?e.then((e=>{i(e)})).catch(n):i(e)}catch(s){this.destroy(new Qu({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new Qu({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:n,value:r}]=t;i();const o=this.localVideoNode;o?R(gp,n)?(ah("[outsideAPI] set video property name=["+n+"], value=["+r+"]"),o.setVideoNodeProperty(n,r)):this.destroy(new Qu({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:n,value:r}})):this.destroy(new Qu({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:n,value:r}}))}},this.handleVideoNodeEvent=e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])},this.handleVideoNodePropertyChange=(e,t)=>{ah("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])},this.params=e,ah("[outsideApi]: init"),this.addDestroyHandler((e=>{e&&Ih.error({error:e})})),this.changeFrameVisibility(!1),this.dispatcher=new pp(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler((()=>this.dispatcher.destroy(void 0))),this.addDestroyHandler(Ne({element:e.port,eventName:"message",listener:e=>{if(!(e=>{const t=e.data;return!(!n(t)||"kill-me"!==t.type)})(e))return;const{data:t}=e;this.destroy(new Qu({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler((e=>{this.isDestroyed||(Ih.error({error:null!=e?e:new Qu({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))})),this.addDestroyHandler((()=>{this.vpaidEventBus.removeAll()}))}async doGETRequest(e){ah("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:n,responseHeaders:r}=await t.promise;return ah("[outsideApi]: finish get request"),{responseStatus:n,responseText:i,responseHeaders:r}}async loadCreative(e){ah("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,ah("[outsideApi]: done loading creative")}async initCreative(e){ah("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,ah("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return ah("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return ah("[outsideApi]: "+(e?"show":"hide")+" frame"),lp({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(Tp.isVideoNodeLocked(t))throw ah("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");ah("[outsideApi]: assign video tag"),this.localVideoNode=new Tp({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler((()=>{var e;ah("[outsideApi]: UNassign video tag"),null==(e=this.localVideoNode)||e.destroy(void 0)}))}listenRemoteVpaidEvents(e,t){return ah("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add((i=>{let{eventName:n,args:r}=i;e===n&&t(n,r)}))}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add((t=>{let{methodName:i,value:n}=t;e(i,n)}))}}const wp=e=>{var t;ah("[initOutsideApi]: do init"),t={name:"before OutsideAPI init call",initParams:e},cp.call({propertyName:dp,callbackArguments:[{step:t}]});const{container:i,initTimeout:r}=e,o=new _u,a=i.ownerDocument.defaultView,s=(async e=>{let{container:t,initAbort:i,initTimeout:r}=e;const o=A(6);Ih.log({name:"VASFrameInitStart",data:{handshakeID:o}});const a=Date.now();let s=!1;const l=new _u;l.add((()=>{s=!0})),i.add((()=>{ah("[initOutsideApi]: init aborted"),Ih.log({name:"VASFrameInitAborted",data:{handshakeID:o}}),l.dispatch(void 0)}));const d=We({},De(gu,Tu),{handshakeID:o}),c=(e=>{let{container:t,frameUrl:i,initialData:n}=e;const r=t.ownerDocument.createElement("iframe"),o=(e=>{const t=Me({},e,{RUM_WRAPPER:void 0,AB_FLAGS_STORE:void 0,STATS_ROOT_PARAMS:void 0,VAS_UAAS_CONFIG:void 0,VAS_UAAS_CONFIG_ParseError:void 0,AdditionalStatsRootFields:void 0,AdditionalStatsRootFieldsExtractionError:void 0,statsInstance:void 0});return encodeURI(JSON.stringify(t))})(n);Le(r,{name:o,sandbox:up,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),xe(r,Be({},op)),lp({iframe:r,shouldBeVisibleNow:!1}),t.appendChild(r);const a=r.name;return a!==o&&Ih.log({name:"VASFrameInsideApiNoNameOnMount",data:{expectedName:o,actualName:a,handshakeID:n.handshakeID},probability:Hu}),r})({container:t,frameUrl:Qh({win:window}),initialData:d});l.add((()=>{ah("[initOutsideApi]: remove frame"),Re(c)}));const u=new MessageChannel;u.port1.start(),l.add((()=>{u.port1.close()}));const h=new Promise((e=>{ah("[initOutsideApi]: wait for frame to load"),c.addEventListener("load",(()=>{ah("[initOutsideApi]: got load event. transfer port"),c.contentWindow.postMessage({type:"init",handshakeID:o},"*",[u.port2]),e()}))})),p=new Promise((e=>{const t=Ne({element:u.port1,eventName:"message",listener:i=>{const n=i.data;"handshake"===n.type&&n.initialData.handshakeID===o&&(ah("[initOutsideApi]: got handshake event"),t(),e())}})})),m=Promise.all([h,p]),{promise:v,clear:g}=Ch(r,window);if(v.then((()=>{var e;Ih.error({error:new Qu({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null==(e=c.parentElement)?void 0:e.tagName,frameBoundingClientRect:qh(c),handshakeID:o}})}),l.dispatch(void 0)})),m.then((()=>{g()})),l.add((()=>{g()})),await Promise.race([m,v]),s)throw new Qu({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});Ih.log({name:"VASFrameInitSuccess",data:{handshakeID:o},values:{timeSpent:Date.now()-a}}),c.removeAttribute("name"),i.removeAll();const f=new Ep({port:u.port1,initialData:d,frame:c});return f.addDestroyHandler((()=>{ah("[initOutsideApi]: do teardown since class destroy"),Ih.log({name:"VASFrameDestroy",data:{handshakeID:o}}),l.dispatch(void 0)})),f.addDestroyHandler(Ne({element:u.port1,eventName:"message",listener:e=>{const t=e.data;n(t)&&"destroy"===t.type&&Ih.error({error:new Qu({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),ah("[initOutsideApi]: init done"),f})({container:i,initAbort:o,initTimeout:r,win:a});return{initPromise:s,abortInit:()=>o.dispatch(void 0)}},Cp={idle:["initializing"],initializing:["initialized"]};class Pp extends wh{constructor(){super(),this.state=new Yh({name:"idle"},((e,t)=>{const i=Cp[e.name];return i&&R(i,t.name)||Ih.error({error:new Qu({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),ah("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),this.users=0,ah("SingleVASFrame: create instance"),this.initPromise=new Promise((e=>{this.state.add((t=>{"initialized"===t.name&&e(t.outsideApi)}))})),this.state.add((e=>{"initializing"===e.name&&e.outsideApiInitPromise.then((e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler((()=>{e.destroy(void 0)}))})).catch((e=>{this.destroy(e)}))}))}init(e){ah("SingleVASFrame: do init");const t=wp(e);this.addDestroyHandler((()=>{t.abortInit()})),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");ah("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){ah("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let kp;const Ip=()=>(kp||(kp=new Pp,kp.addDestroyHandler((()=>{kp=void 0}))),kp),Op=async e=>(await Dp()).doGETRequest(e),Dp=async()=>{const e=Ip();return await e.initPromise},Np=e=>{let{url:t,data:i,withCredentials:n=!0}=e;return new Promise(((e,r)=>{const o=new XMLHttpRequest;o.open("GET",t),o.withCredentials=n,o.onerror=()=>r({reason:"error",error:new Error("XHR Error["+o.status+"]["+o.statusText+"]["+t+"]")});const a=Se(t),s=ye(t),l=he(window);if(a&&!s&&!l){const e=Tu.getFlagValueAndActivateTestId("VAS_INLINE_PREROLL");"enable-header"===e&&o.setRequestHeader("X-inline-preroll","1"),"enable-header-with-ignore-referrer"===e&&(o.setRequestHeader("X-inline-preroll","1"),o.setRequestHeader("X-ingnore-referer-for-inline-preroll","1"))}o.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:n}=t,r={};$d(t.getAllResponseHeaders().trim().split(/[\r\n]+/),(e=>{const t=e.split(": "),i=t.shift(),n=t.join(": ");m(i)&&(r[i]=n)})),i({responseText:n,responseStatus:e,responseHeaders:r})}})({xhr:o,resolve:e});try{o.send(i)}catch(cL){cL.message="XHR Send Error["+cL.message+"]["+t+"]",r({reason:"error",error:cL})}}))},Rp=async e=>{await new Promise((t=>{window.setTimeout(t,e)}))},xp=e=>{let{thrownError:t,errorCode:i,errorDetails:r,timeoutCode:o,timeoutDetails:a}=e;const s=t;if(ae(s))return s;if("string"===typeof s.reason&&n(s.error)){const{error:e,reason:t}=s;if("error"===t)return new Qu(e,{code:i,details:r});if("timeout"===t)return new Qu(e,{code:o,details:a})}return new Qu(t,{code:i,details:r})},Vp="client-ts",Lp="client-timezone-offset",Mp="adsdk-bundle-version",Bp="adsdk-bundle-name",Fp="ad-session-id",Up="vsid",Hp="viewability-undetermined",zp="top-ancestor",jp="top-ancestor-undetermined",Wp="vmap-scenario-id",Yp="has-preroll",Gp="wtime-since-ad",qp="video-volume",Xp="video-muted",Kp="pcode-icookie",Jp="pcode-test-ids",Zp="pcode-active-testids",Qp="pcode-flags",$p="shyid",em="document-has-focus",tm="is-fullscreen",im="device-orientation",nm="ad-pod-id",rm="product-theme",om="webos-id",am="tizen-id",sm="tizen-duid",lm="tizen-tifa",dm=(e,t,i)=>{let n=e.getItem(t);return n||(n=i(t),e.setItem(t,n)),n},cm=(e,t)=>{for(const i of t.split(".")){if(!Xe(e)){e=void 0;break}e=e[i]}return e},um=(e,t,i)=>{if(!Xe(e))return e;const n=e,r=t.split("."),o=r.pop();for(const a of r){const t=e[a];e=Xe(t)?t:e[a]={}}return e[o]=i,n},hm=e=>{try{return e()}catch(hb){return}},pm=(e,t,i,n)=>function(){try{return t.apply(i||this,arguments)}catch(hb){if(f(n)&&n(hb),!0===hb.preventProtect)throw hb;pm.log(hb,e)}};pm.log=function(e,t){console.log("LOG:"+t+":"+e)},pm.setTimeout=(e,t,i,n)=>window.setTimeout(pm("timeout",e,i,n),t);class mm{}mm.YaContextCallbacks=Ke("Ya.C","ontext._callbacks"),mm.YaContextCallbacksCalls=Ke("Ya.C","ontext._callbacks_call"),mm.AdvManager=Ke("A","dvManager"),mm.AdvBlock=Ke("A","dvBlock"),mm.RTB=Ke("R","TB"),mm.Rtb=Ke("R","tb"),mm.MetrikaAdtune=Ke("metrika_a","dtune");class vm{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const gm=te((()=>((e,t,i)=>{let n;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],(e=>{if(n=hm((()=>cm(e,t))),!n)return hm((()=>z(e.frames)))||[]})),n||(n=new vm({})),um(e,t,n),n})(self,"Ya.pcodeCrossFrameData"))),fm=te((()=>((e,t,i)=>{let n=cm(e,t);return n||(n=new vm({}),um(e,t,n)),n})(self,"Ya.pcodeWindowData"))),Am="Ya._metrika.dataLayer",_m=pm("metrika::pushEvent",((e,t)=>{const i=cm(e,Am)||[];um(e,Am,i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:Je({},t)}}})})),ym="adSessionID",bm=pm("sessionId::configureMetrika",((e,t)=>{_m(e,{[ym]:t})})),Sm=()=>(1e6*fc()).toFixed(0)+(new Date).valueOf().toString(),Tm="sessionId";let Em;const wm=()=>(Em||(Em=((e,t,i,n)=>{let r=t.getItem(Tm);return r||(r=i.getItem(Tm)||e(),n(window,r)),t.setItem(Tm,r),i.setItem(Tm,r),r})(Sm,dm(fm(),"common",(()=>new vm({}))),dm(gm(),"common",(()=>new vm({}))),bm)),Em),Cm=()=>v(wm)||void 0,Pm=e=>{var t;const i=null==(t=e.yandex)?void 0:t.getSiteUid;if(f(i))return String(i())};let km=0;const Im="65536";class Om{constructor(){this.keymap={},this.isBrowser=!1,this.isWebos=!1,this.isTizen=!1,this.isVidaa=!1,this.displayHeight=1/0,this.os="browser",this.displayHeight=window.screen.height*window.devicePixelRatio}init(){return console.log("BaseDevice init"),Promise.resolve(this)}exit(){console.log("BaseDevice exit")}}const Dm={37:1,39:3,38:2,40:4,48:5,49:6,50:7,51:8,52:9,53:10,54:11,55:12,56:13,57:14,415:15,19:16,10252:39,413:17,417:18,412:19,10009:20,13:21,457:(22,23),427:24,428:25,448:28,447:29,403:30,404:31,405:33,406:32,10182:34,449:37};const Nm={48:5,49:6,50:7,51:8,52:9,53:10,54:11,55:12,56:13,57:14,40:4,38:2,37:1,39:3,13:21,27:20};let Rm=function(e){return e.GetSystemInfo="getSystemInfo",e.GetStatus="getStatus",e.GetConfigs="getConfigs",e.Launch="launch",e.Find="find",e.PutKind="putKind",e.PutPermissions="putPermissions",e.Put="put",e.Merge="merge",e.Register="register",e.SetContext="setContext",e.GetDeviceIds="deviceid/getIDs",e.GetVolume="master/getVolume",e.GetVolumeLegacy="getVolume",e.SetVolume="master/setVolume",e.SetVolumeLegacy="setVolume",e.VolumeUp="master/volumeUp",e.VolumeUpLegacy="volumeUp",e.VolumeDown="master/volumeDown",e.VolumeDownLegacy="volumeDown",e.MuteVolume="master/muteVolume",e.MuteVolumeLegacy="setMuted",e}({}),xm=function(e){return e.Config="luna://com.webos.service.config",e.SystemProperty="luna://com.webos.service.tv.systemproperty",e.AppManager="luna://com.webos.applicationManager",e.DB="luna://com.palm.db",e.Service="luna://com.webos.service.sm",e.ConnectionManager="luna://com.palm.connectionmanager",e.Audio="luna://com.webos.service.audio",e.AudioLegacy="luna://com.webos.audio",e}({});const Vm={403:30,404:31,405:33,406:32,37:1,38:2,39:3,40:4,13:21,461:20,48:5,49:6,50:7,51:8,52:9,53:10,54:11,55:12,56:13,57:14,19:16,415:15,413:17,417:18,412:19,1056:22,457:23,33:24,34:25},Lm=(["a","n.ya","nd","ex.ru"].join(""),["y","a","nde","x.ru"].join(""),["y","a",".r","u"].join(""),["ya","sta","tic.net"].join("")),Mm=(["ver","ify.y","a","nde","x.ru"].join(""),"https://"+Lm+"/pcode-static/resources/122/webos/webOSTV.js");const Bm={48:5,49:6,50:7,51:8,52:9,53:10,54:11,55:12,56:13,57:14,40:4,38:2,37:1,39:3,13:21,27:20};const Fm=function(e){return!!m(t=E(e))&&t.toLowerCase().indexOf("tizen")>-1;var t}(window),Um=e=>{return!!m(t=E(e))&&t.toLowerCase().indexOf("web0s")>-1;var t},Hm=Um(window),zm=function(e){return!!m(t=E(e))&&(t.indexOf("VIDAA")>-1||t.indexOf("Hisense")>-1);var t}(window),jm=(e=>{return!!m(t=E(e))&&t.toLowerCase().indexOf("androidtv")>=0;var t})(window),Wm=Hm||Fm||zm||jm;let Ym;Wm&&(Ym=Fm?new class extends Om{constructor(){super(),this.app=null,this.keymap=Dm;try{this.app=this.getCurrentApplication()}catch(hb){console.error("Failed to get Tizen application data",hb)}this.isTizen=!0}init(){var e,t;if(console.log("Device init: Tizen"),!this.app)throw new Error("Tizen application api not found");return null!=(e=window.webapis)&&e.avinfo&&null!=(t=window.webapis)&&t.network?Promise.resolve(this):new Promise((e=>{Qe({win:window,src:"$WEBAPIS/webapis/webapis.js",onLoad(){e(window.webapis)}})})).then((()=>this))}exit(){if(console.log("Device exit: Tizen"),this.app)return this.app.exit()}getTizenId(){try{var e;return null==(e=window.tizen)?void 0:e.systeminfo.getCapability("http://tizen.org/system/tizenid")}catch(cL){return void console.error("TizenSmartTvManager: Cannot get the Tizen Id",cL)}}getTizenDuid(){try{var e;return null==(e=window.tizen)?void 0:e.systeminfo.getCapabilities().duid}catch(cL){return void console.error("TizenSmartTvManager: Cannot get the Tizen DUID",cL)}}getTizenTifa(){try{var e;return null==(e=window.webapis)?void 0:e.adinfo.getTIFA()}catch(cL){return void console.error("TizenSmartTvManager: Cannot get the Tizen TIFA",cL)}}getCurrentApplication(){return window.tizen.application.getCurrentApplication()}}:Hm?new class extends Om{constructor(){super(),this.deviceInfo=null,this.keymap=Vm,this.isWebos=!0}init(){return console.log("Device init: Webos"),this.loadDrivers().then((()=>(this.api=window.webOS,Promise.all([this.getDeviceInfo(),this.getLGDuid(),this.getSystemInfo()]).then((e=>{let[t]=e;return this.deviceInfo=t,this.displayHeight=this.deviceInfo.screenHeight,this})))))}getLGDuidSync(){return this.lgUid||"empty"}exit(){console.log("Device exit: Webos"),this.api.platformBack()}makeLunaRequest(e,t,i){return new Promise(((n,r)=>this.api.service.request(e,{method:t,parameters:i,onSuccess:e=>n(e),onFailure:t=>{console.error("Failed to load "+e,t),r(t)}})))}getDeviceInfo(){return new Promise((e=>this.api.deviceInfo((t=>e(t)))))}getLGDuid(){return this.lgUid?Promise.resolve(this.lgUid):this.makeLunaRequest(xm.Service,Rm.GetDeviceIds,{idType:["LGUDID"]}).then((e=>{var t,i;return(null==e||null==(t=e.idList)||null==(i=t[0])?void 0:i.idValue)||""})).catch((()=>"")).then((e=>(this.lgUid=e,this.lgUid)))}getSystemInfo(){return this.makeLunaRequest(xm.SystemProperty,Rm.GetSystemInfo,{keys:["boardType"]}).then((e=>({boardType:null==e?void 0:e.boardType}))).catch((()=>{}))}loadDrivers(){return window.webOS?Promise.resolve():new Promise((e=>{Qe({win:window,src:Mm,onLoad:e})}))}}:zm?new class extends Om{constructor(){super(),this.keymap=Bm,this.isVidaa=!0}init(){return console.log("Device init: Vidaa"),Promise.resolve(this)}exit(){console.log("Device exit: VIDAA"),window.close()}}:new class extends Om{constructor(){super(),this.keymap=Nm,this.isBrowser=!0}init(){return console.log("Device init: Browser"),Promise.resolve(this)}exit(){console.log("Device exit: Browser")}});const Gm=e=>Boolean(null==e?void 0:e.isTizen),qm=e=>Boolean(null==e?void 0:e.isWebos),Xm=e=>{const t=["(?:\\/|%2F|^)"];return t.push("(?:[\\w-_\\.]+?\\.)?"),t.push("(?:"+e+")"),t.push("(?:\\/|%2F|$)"),new RegExp(t.join(""),"i")},Km=Xm("(?:music\\.yandex(\\.\\w+))"),Jm=Xm("dzen\\.ru"),Zm=[Xm("(?:\\w+-)?auth\\.wi-fi\\.ru"),Xm("wi-fi\\.ru")],Qm=Xm("ctc\\.ru"),$m=Xm("domashniy\\.ru"),ev=tt(),tv=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],iv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";var nv,rv,ov,av,sv,lv,dv,cv,uv,hv,pv,mv,vv,gv,fv,Av,_v,yv,bv,Sv,Tv,Ev,wv,Cv,Pv,kv,Iv,Ov,Dv,Nv,Rv,xv,Vv,Lv,Mv,Bv,Fv,Uv,Hv,zv,jv,Wv,Yv,Gv,qv,Xv,Kv,Jv,Zv,Qv,$v,eg,tg,ig,ng,rg=32768,og=6,ag=8192,sg=258,lg=8191,dg=32506,cg=30,ug=573,hg=parseInt(5),pg=null,mg=function(){this.fc=0,this.dl=0},vg=function(){this.dyn_tree=null,this.static_tree=null,this.extra_bits=null,this.extra_base=0,this.elems=0,this.max_length=0,this.max_code=0},gg=function(e,t,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n},fg=function(){this.next=null,this.len=0,this.ptr=new Array(ag),this.off=0},Ag=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0),_g=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13),yg=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7),bg=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15),Sg=new Array(new gg(0,0,0,0),new gg(4,4,8,4),new gg(4,5,16,8),new gg(4,6,32,32),new gg(4,4,16,16),new gg(8,16,32,32),new gg(8,16,128,128),new gg(8,32,128,256),new gg(32,128,258,1024),new gg(32,258,258,4096)),Tg=function(e){var t;if(e?e<1?e=1:e>9&&(e=9):e=og,Iv=e,av=!1,wv=!1,null==pg){for(nv=rv=ov=null,pg=new Array(ag),cv=new Array(65536),uv=new Array(8192),hv=new Array(32832),pv=new Array(65536),Dv=new Array(ug),t=0;t<ug;t++)Dv[t]=new mg;for(Nv=new Array(61),t=0;t<61;t++)Nv[t]=new mg;for(Rv=new Array(288),t=0;t<288;t++)Rv[t]=new mg;for(xv=new Array(cg),t=0;t<cg;t++)xv[t]=new mg;for(Vv=new Array(39),t=0;t<39;t++)Vv[t]=new mg;Lv=new vg,Mv=new vg,Bv=new vg,Fv=new Array(16),Uv=new Array(573),jv=new Array(573),Wv=new Array(256),Yv=new Array(512),Gv=new Array(29),qv=new Array(cg),Xv=new Array(parseInt(1024))}},Eg=function(e){e.next=nv,nv=e},wg=function(e){return pv[rg+e]},Cg=function(e,t){return pv[rg+e]=t},Pg=function(e){pg[lv+sv++]=e,lv+sv===ag&&Zg()},kg=function(e){e&=65535,lv+sv<8190?(pg[lv+sv++]=255&e,pg[lv+sv++]=e>>>8):(Pg(255&e),Pg(e>>>8))},Ig=function(){fv=(fv<<hg^255&cv[Tv+3-1])&lg,Av=wg(fv),pv[32767&Tv]=Av,Cg(fv,Tv)},Og=function(e,t){Xg(t[e].fc,t[e].dl)},Dg=function(e){return 255&(e<256?Yv[e]:Yv[256+(e>>7)])},Ng=function(e,t,i){return e[t].fc<e[i].fc||e[t].fc===e[i].fc&&jv[t]<=jv[i]},Rg=function(e,t,i){var n;for(n=0;n<i&&ng<ig.length;n++)e[t+n]=255&ig.charCodeAt(ng++);return n},xg=function(e){var t,i,n=Pv,r=Tv,o=Sv,a=Tv>dg?Tv-dg:0,s=Tv+sg,l=cv[r+o-1],d=cv[r+o];Sv>=Ov&&(n>>=2);do{if(cv[(t=e)+o]==d&&cv[t+o-1]==l&&cv[t]==cv[r]&&cv[++t]==cv[r+1]){r+=2,t++;do{}while(cv[++r]===cv[++t]&&cv[++r]===cv[++t]&&cv[++r]===cv[++t]&&cv[++r]===cv[++t]&&cv[++r]===cv[++t]&&cv[++r]===cv[++t]&&cv[++r]===cv[++t]&&cv[++r]===cv[++t]&&r<s);if(i=sg-(s-r),r=s-sg,i>o){if(Ev=e,o=i,i>=sg)break;l=cv[r+o-1],d=cv[r+o]}}}while((e=pv[32767&e])>a&&0!=--n);return o},Vg=function(){var e,t,i=65536-Cv-Tv;if(-1===i)i--;else if(Tv>=65274){for(e=0;e<rg;e++)cv[e]=cv[e+rg];for(Ev-=rg,Tv-=rg,gv-=rg,e=0;e<8192;e++)t=wg(e),Cg(e,t>=rg?t-rg:0);for(e=0;e<rg;e++)t=pv[e],pv[e]=t>=rg?t-rg:0;i+=rg}wv||((e=Rg(cv,Tv+Cv,i))<=0?wv=!0:Cv+=e)},Lg=function(e,t,i){var n;return av||(wv||(mv=0,vv=0,Bg(),function(){var e;for(e=0;e<8192;e++)pv[rg+e]=0;if(kv=Sg[Iv].max_lazy,Ov=Sg[Iv].good_length,Pv=Sg[Iv].max_chain,Tv=0,gv=0,(Cv=Rg(cv,0,65536))<=0)return wv=!0,void(Cv=0);for(wv=!1;Cv<262&&!wv;)Vg();for(fv=0,e=0;e<2;e++)fv=(fv<<hg^255&cv[e])&lg}(),rv=null,sv=0,lv=0,yv=0,Iv<=3?(Sv=2,bv=0):(bv=2,yv=0,yv=0),dv=!1),av=!0,0!==Cv)?(n=Mg(e,t,i))===i?i:dv?n:(Iv<=3?function(){for(;0!=Cv&&null===rv;){var e;if(Ig(),0!=Av&&Tv-Av<=dg&&(bv=xg(Av))>Cv&&(bv=Cv),bv>=3)if(e=Gg(Tv-Ev,bv-3),Cv-=bv,bv<=kv){bv--;do{Tv++,Ig()}while(0!=--bv);Tv++}else Tv+=bv,bv=0,fv=((fv=255&cv[Tv])<<hg^255&cv[Tv+1])&lg;else e=Gg(0,255&cv[Tv]),Cv--,Tv++;for(e&&(Yg(0),gv=Tv);Cv<262&&!wv;)Vg()}}():function(){for(;0!=Cv&&null===rv;){if(Ig(),Sv=bv,_v=Ev,bv=2,0!=Av&&Sv<kv&&Tv-Av<=dg&&((bv=xg(Av))>Cv&&(bv=Cv),3===bv&&Tv-Ev>4096&&bv--),Sv>=3&&bv<=Sv){var e;e=Gg(Tv-1-_v,Sv-3),Cv-=Sv-1,Sv-=2;do{Tv++,Ig()}while(0!=--Sv);yv=0,bv=2,Tv++,e&&(Yg(0),gv=Tv)}else 0!=yv?(Gg(0,255&cv[Tv-1])&&(Yg(0),gv=Tv),Tv++,Cv--):(yv=1,Tv++,Cv--);for(;Cv<262&&!wv;)Vg()}}(),0===Cv&&(0!=yv&&Gg(0,255&cv[Tv-1]),Yg(1),dv=!0),n+Mg(e,n+t,i-n)):(dv=!0,0)},Mg=function(e,t,i){var n,r,o;for(n=0;null!=rv&&n<i;){for((r=i-n)>rv.len&&(r=rv.len),o=0;o<r;o++)e[t+n+o]=~rv.ptr[rv.off+o];var a;rv.off+=r,rv.len-=r,n+=r,0===rv.len&&(a=rv,rv=rv.next,Eg(a))}if(n===i)return n;if(lv<sv){for((r=i-n)>sv-lv&&(r=sv-lv),o=0;o<r;o++)e[t+n+o]=~pg[lv+o];n+=r,sv===(lv+=r)&&(sv=lv=0)}return n},Bg=function(){var e,t,i,n,r;if(0==xv[0].dl){for(Lv.dyn_tree=Dv,Lv.static_tree=Rv,Lv.extra_bits=Ag,Lv.extra_base=257,Lv.elems=286,Lv.max_length=15,Lv.max_code=0,Mv.dyn_tree=Nv,Mv.static_tree=xv,Mv.extra_bits=_g,Mv.extra_base=0,Mv.elems=cg,Mv.max_length=15,Mv.max_code=0,Bv.dyn_tree=Vv,Bv.static_tree=null,Bv.extra_bits=yg,Bv.extra_base=0,Bv.elems=19,Bv.max_length=7,Bv.max_code=0,i=0,n=0;n<28;n++)for(Gv[n]=i,e=0;e<1<<Ag[n];e++)Wv[i++]=n;for(Wv[i-1]=n,r=0,n=0;n<16;n++)for(qv[n]=r,e=0;e<1<<_g[n];e++)Yv[r++]=n;for(r>>=7;n<cg;n++)for(qv[n]=r<<7,e=0;e<1<<_g[n]-7;e++)Yv[256+r++]=n;for(t=0;t<=15;t++)Fv[t]=0;for(e=0;e<=143;)Rv[e++].dl=8,Fv[8]++;for(;e<=255;)Rv[e++].dl=9,Fv[9]++;for(;e<=279;)Rv[e++].dl=7,Fv[7]++;for(;e<=287;)Rv[e++].dl=8,Fv[8]++;for(Hg(Rv,287),e=0;e<cg;e++)xv[e].dl=5,xv[e].fc=Kg(e,5);Fg()}},Fg=function(){var e;for(e=0;e<286;e++)Dv[e].fc=0;for(e=0;e<cg;e++)Nv[e].fc=0;for(e=0;e<19;e++)Vv[e].fc=0;Dv[256].fc=1,eg=tg=0,Kv=Jv=Zv=0,Qv=0,$v=1},Ug=function(e,t){for(var i=Uv[t],n=t<<1;n<=Hv&&(n<Hv&&Ng(e,Uv[n+1],Uv[n])&&n++,!Ng(e,i,Uv[n]));)Uv[t]=Uv[n],t=n,n<<=1;Uv[t]=i},Hg=function(e,t){var i,n,r=new Array(16),o=0;for(i=1;i<=15;i++)o=o+Fv[i-1]<<1,r[i]=o;for(n=0;n<=t;n++){var a=e[n].dl;0!==a&&(e[n].fc=Kg(r[a]++,a))}},zg=function(e){var t,i,n=e.dyn_tree,r=e.static_tree,o=e.elems,a=-1,s=o;for(Hv=0,zv=ug,t=0;t<o;t++)0!=n[t].fc?(Uv[++Hv]=a=t,jv[t]=0):n[t].dl=0;for(;Hv<2;){var l=Uv[++Hv]=a<2?++a:0;n[l].fc=1,jv[l]=0,eg--,null!=r&&(tg-=r[l].dl)}for(e.max_code=a,t=Hv>>1;t>=1;t--)Ug(n,t);do{t=Uv[1],Uv[1]=Uv[Hv--],Ug(n,1),i=Uv[1],Uv[--zv]=t,Uv[--zv]=i,n[s].fc=n[t].fc+n[i].fc,jv[t]>jv[i]+1?jv[s]=jv[t]:jv[s]=jv[i]+1,n[t].dl=n[i].dl=s,Uv[1]=s++,Ug(n,1)}while(Hv>=2);Uv[--zv]=Uv[1],function(e){var t,i,n,r,o,a,s=e.dyn_tree,l=e.extra_bits,d=e.extra_base,c=e.max_code,u=e.max_length,h=e.static_tree,p=0;for(r=0;r<=15;r++)Fv[r]=0;for(s[Uv[zv]].dl=0,t=zv+1;t<ug;t++)(r=s[s[i=Uv[t]].dl].dl+1)>u&&(r=u,p++),s[i].dl=r,i>c||(Fv[r]++,o=0,i>=d&&(o=l[i-d]),a=s[i].fc,eg+=a*(r+o),null!=h&&(tg+=a*(h[i].dl+o)));if(0!==p){do{for(r=u-1;0===Fv[r];)r--;Fv[r]--,Fv[r+1]+=2,Fv[u]--,p-=2}while(p>0);for(r=u;0!=r;r--)for(i=Fv[r];0!=i;)(n=Uv[--t])>c||(s[n].dl!=r&&(eg+=(r-s[n].dl)*s[n].fc,s[n].fc=r),i--)}}(e),Hg(n,a)},jg=function(e,t){var i,n,r=-1,o=e[0].dl,a=0,s=7,l=4;for(0===o&&(s=138,l=3),e[t+1].dl=65535,i=0;i<=t;i++)n=o,o=e[i+1].dl,++a<s&&n===o||(a<l?Vv[n].fc+=a:0!=n?(n!=r&&Vv[n].fc++,Vv[16].fc++):a<=10?Vv[17].fc++:Vv[18].fc++,a=0,r=n,0===o?(s=138,l=3):n===o?(s=6,l=3):(s=7,l=4))},Wg=function(e,t){var i,n,r=-1,o=e[0].dl,a=0,s=7,l=4;for(0===o&&(s=138,l=3),i=0;i<=t;i++)if(n=o,o=e[i+1].dl,!(++a<s&&n===o)){if(a<l)do{Og(n,Vv)}while(0!=--a);else 0!=n?(n!=r&&(Og(n,Vv),a--),Og(16,Vv),Xg(a-3,2)):a<=10?(Og(17,Vv),Xg(a-3,3)):(Og(18,Vv),Xg(a-11,7));a=0,r=n,0===o?(s=138,l=3):n===o?(s=6,l=3):(s=7,l=4)}},Yg=function(e){var t,i,n,r,o;if(r=Tv-gv,Xv[Zv]=Qv,zg(Lv),zg(Mv),n=function(){var e;for(jg(Dv,Lv.max_code),jg(Nv,Mv.max_code),zg(Bv),e=18;e>=3&&0==Vv[bg[e]].dl;e--);return eg+=3*(e+1)+5+5+4,e}(),(i=tg+3+7>>3)<=(t=eg+3+7>>3)&&(t=i),r+4<=t&&gv>=0)for(Xg(0+e,3),Jg(),kg(r),kg(~r),o=0;o<r;o++)Pg(cv[gv+o]);else i===t?(Xg(2+e,3),qg(Rv,xv)):(Xg(4+e,3),function(e,t,i){var n;for(Xg(e-257,5),Xg(t-1,5),Xg(i-4,4),n=0;n<i;n++)Xg(Vv[bg[n]].dl,3);Wg(Dv,e-1),Wg(Nv,t-1)}(Lv.max_code+1,Mv.max_code+1,n+1),qg(Dv,Nv));Fg(),0!=e&&Jg()},Gg=function(e,t){if(hv[Kv++]=t,0===e?Dv[t].fc++:(e--,Dv[Wv[t]+256+1].fc++,Nv[Dg(e)].fc++,uv[Jv++]=e,Qv|=$v),$v<<=1,0===(7&Kv)&&(Xv[Zv++]=Qv,Qv=0,$v=1),Iv>2&&0===(4095&Kv)){var i,n=8*Kv,r=Tv-gv;for(i=0;i<cg;i++)n+=Nv[i].fc*(5+_g[i]);if(n>>=3,Jv<parseInt(Kv/2)&&n<parseInt(r/2))return!0}return 8191===Kv||8192===Jv},qg=function(e,t){var i,n,r,o,a=0,s=0,l=0,d=0;if(0!=Kv)do{0===(7&a)&&(d=Xv[l++]),n=255&hv[a++],0===(1&d)?Og(n,e):(r=Wv[n],Og(r+256+1,e),0!=(o=Ag[r])&&(n-=Gv[r],Xg(n,o)),i=uv[s++],r=Dg(i),Og(r,t),0!=(o=_g[r])&&(i-=qv[r],Xg(i,o))),d>>=1}while(a<Kv);Og(256,e)},Xg=function(e,t){vv>16-t?(kg(mv|=e<<vv),mv=e>>16-vv,vv+=t-16):(mv|=e<<vv,vv+=t)},Kg=function(e,t){var i=0;do{i|=1&e,e>>=1,i<<=1}while(--t>0);return i>>1},Jg=function(){vv>8?kg(mv):vv>0&&Pg(mv),mv=0,vv=0},Zg=function(){if(0!=sv){var e,t;for(i=void 0,null!=nv?(i=nv,nv=nv.next):i=new fg,i.next=null,i.len=i.off=0,e=i,null===rv?rv=ov=e:ov=ov.next=e,e.len=sv-lv,t=0;t<e.len;t++)e.ptr[t]=pg[lv+t];sv=lv=0}var i};const Qg=["script","style","noscript","yatag","template","iframe","svg"],$g=100;class ef{constructor(e,t,i,n){this.name=e,this.htmlLength=t,this.textContentLength=i,this.resultLength=n}}const tf=/[^\s\\]/,nf=5e3;let rf,of="";const af=2048,sf=-1,lf=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let n=t;if(Cc(t)){const n=t.map((t=>e(t,i)));return n}return(r=t)instanceof Date||"Date"===Zd(r)?new Date(t.getTime()):(!f(t)&&Xe(t)&&(n=i.preserveConstructors?Object.create(t):{},b(t,((t,r)=>{n[r]=e(t,i)}))),n);var r},df=bt({},Yd,{bitrate:0}),cf=St({},df,{type:Oh}),uf="https://"+hu+"/"+xh+"/ad_creative.js",hf=Tt({url:uf},cf),pf={nextAd:0,startVideo:0,continueVideo:0},mf={type:"nextAd",poster:[]},vf={poster:[]};let gf={ads:[],children:[],xmlString:"",url:void 0,isUniformat:!1},ff={sequence:0,adId:void 0,bidreqid:void 0,bannerId:void 0,campaignid:void 0,pageId:void 0,impId:void 0,vmapRequestId:void 0,creativeId:void 0,parseIndex:0,randomHexString:"",adParameters:"",mediaFiles:[],firstFrameImages:[],icons:[],progressTrackings:[],trackingEvents:{},abuseUrl:"",duration:0,adVerifications:[],creativeParameters:{body:void 0,ageRestriction:void 0,buttonLabel:void 0,showTitleAndBody:void 0,greenUrl:void 0,punyDomain:void 0,domain:void 0,title:void 0,targetUrl:void 0},assets:{button:void 0,images:void 0,icon:void 0,app:void 0},clickUrlData:{vastClickUrl:void 0,serializablePlaybackParametersClickUrl:void 0,tgaOfferClickUrl:void 0},bannerFlags:void 0,legalText:void 0,surveyParameters:void 0,ecomShop:void 0,adTitleParameters:void 0,adTune:{show:!1,token:"",advertiserInfo:""},yandexAdInfoExtensionParams:void 0,nroaInform:void 0,omidWhiteListBypass:void 0};const Af="https://"+hu+"/"+Rh+"/1_0/no-aim-screen.js",_f={type:"ad-creative-animation/javascript",url:Af},yf=(e,i,n)=>{const r=Dt(e,i,n),o=parseInt(r,10);return t(o)?o:n},bf=2147483647,Sf=-1,Tf={adLabel:0,socialAdLabel:0,businessUnitAdLabel:0,actionButton:0,skip:0,mute:0,play:0,pause:0,timeline:0,abuse:0,abuseInCtaButton:0,loader:0,disclaimers:0,ageLabel:0,title:0,body:0,domain:0,backpackAdSequence:0,controlPanel:0,ctaDomain:0,subtitles:0,subtitlesButton:0},Ef=c(Tf),wf=Q(Tf,(()=>!1)),Cf={controlsVisibility:{}},Pf=()=>"Multiroll"===$c,kf=()=>Pf()?"multiroll":"default";var If=e(3565),Of=function(e){return e[e.FOR_ONE_ENTITY_INDEX=0]="FOR_ONE_ENTITY_INDEX",e[e.FOR_TWO_ENTITIES_INDEX=1]="FOR_TWO_ENTITIES_INDEX",e[e.FOR_THREE_AND_MORE_ENTITIES=2]="FOR_THREE_AND_MORE_ENTITIES",e[e.FOR_ZERO_ENTITIES_INDEX=3]="FOR_ZERO_ENTITIES_INDEX",e}(Of||{});const Df={ru:()=>Promise.resolve().then(e.t.bind(e,1364,19)),uk:()=>e.e(806).then(e.t.bind(e,6654,19)),en:()=>e.e(727).then(e.t.bind(e,8957,19)),be:()=>e.e(315).then(e.t.bind(e,4804,19)),kk:()=>e.e(21).then(e.t.bind(e,6370,19)),tr:()=>e.e(287).then(e.t.bind(e,8868,19)),uz:()=>e.e(580).then(e.t.bind(e,152,19)),pt:()=>e.e(921).then(e.t.bind(e,8145,19)),he:()=>e.e(176).then(e.t.bind(e,1988,19)),de:()=>e.e(878).then(e.t.bind(e,3366,19)),es:()=>e.e(528).then(e.t.bind(e,3234,19)),cs:()=>e.e(922).then(e.t.bind(e,8666,19)),pl:()=>e.e(373).then(e.t.bind(e,2793,19)),fr:()=>e.e(582).then(e.t.bind(e,640,19)),it:()=>e.e(640).then(e.t.bind(e,7140,19)),ja:()=>e.e(683).then(e.t.bind(e,4793,19)),ar:()=>e.e(175).then(e.t.bind(e,9329,19)),hr:()=>e.e(751).then(e.t.bind(e,9660,19)),ro:()=>e.e(574).then(e.t.bind(e,1598,19))},Nf=If.defaultFallback,Rf=(zt(If.langIndexes),new Set(["ar","he"]));let xf={};const Vf=(Lf=xf,(e,t,i,n)=>{const r=(o=t,If.langIndexes[o]||o);var o;let a=function(e,t,i){const n=[i,If.fallbacks[i],If.defaultLang,If.defaultFallback];for(const a of n){var r,o;if(!a)continue;const i=null!=(r=null==(o=e[a])?void 0:o[t])?r:null;if(Boolean(i))return i}return null}(Lf,e,r);return tc(a)&&(s=a,a=0===(l=n)?s[Of.FOR_ZERO_ENTITIES_INDEX]:1===l||void 0===l?s[Of.FOR_ONE_ENTITY_INDEX]:2===l?s[Of.FOR_TWO_ENTITIES_INDEX]:s[Of.FOR_THREE_AND_MORE_ENTITIES]),null===a&&function(e){setTimeout((()=>{throw e}),0)}(new Error("There is no translation in language '"+r+"' for key "+e)),a&&"object"===typeof i?((e,t)=>{var i;return null!=(i=null==e?void 0:e.replace(/{(\w*)}/g,((e,i)=>null==t?void 0:t[i])))?i:""})(a,i):a||e;var s,l});var Lf;const Mf=e=>e in xf,Bf=e=>Mf(e)?Promise.resolve(e):(e=>e in Df)(e)?Df[e].call(void 0).then((t=>(xf[e]=t.default,e))).catch((()=>Nf)):Promise.reject(Nf);Bf(Nf);const Ff=function(e,t,i){return void 0===t&&(t=Nf),Vf(e,t,void 0,i)},Uf=(e,t)=>{var i,n;return null!=(i=null!=(n=null==e?void 0:e.lang)?n:null==t?void 0:t.lang)?i:Nf},Hf=(e,t)=>{var i;return null!=(i=null==e?void 0:e.bannerLang)?i:null==t?void 0:t.bannerLang},zf=(su({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME"}),100),jf=101,Wf=301,Yf=400,Gf=402,qf=403,Xf=405,Kf=900,Jf=901,Zf=1e3,Qf={AD_BREAK_IS_STOPPED:Kf,AD_STORE_PLAYING_PREVENTED:Kf,NO_APPROPRIATE_VIDEO_SOURCE:qf,NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE:qf,CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE:qf,MEDIA_ERR_ABORTED:Gf,MEDIA_ERR_NETWORK:Gf,MEDIA_ERR_DECODE_ON_START:Xf,MEDIA_ERR_DECODE_DURING_PLAYBACK:Xf,MEDIA_ERR_SRC_NOT_SUPPORTED:Xf,MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL:Gf,VIDEO_ERROR:Yf,MEDIA_ERROR_UNRECOGNIZED:Yf,INVALID_VAST_XML:zf,YANDEX_INVALID_VAST_XML:zf,ADFOX_INVALID_VAST_XML:zf,YANDEX_GOT_JSON_INSTEAD_XML:zf,ADFOX_GOT_JSON_INSTEAD_XML:zf,GOT_JSON_INSTEAD_XML:zf,INCOMPATIBLE_VAST_VERSION:102,YANDEX_INCOMPATIBLE_VAST_VERSION:102,INCORRECT_SKIPOFFSET_FORMAT:jf,YANDEX_INCORRECT_SKIPOFFSET_FORMAT:jf,INCORRECT_SKIP_DELAY_FOR_NON_YANDEX_CREATIVES_FORMAT:jf,NO_AD_SECTION:jf,NO_VAST_AD_TAG_URI:jf,YANDEX_NO_VAST_AD_TAG_URI:jf,VAST_LOAD_TIMEOUT:Wf,YANDEX_VAST_LOAD_TIMEOUT:Wf,BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST:Wf,BAD_IMP_ID_FOR_VAST_REQUEST:Wf,UNEXPECTED_VAST_RESPONSE_TEXT:jf,GETSHOP_TV_UNEXPECTED_VAST_RESPONSE_TEXT:jf,YANDEX_UNEXPECTED_VAST_RESPONSE_TEXT:jf,WRAPPER_VAST_LOAD_TIMEOUT:Wf,YANDEX_WRAPPER_VAST_LOAD_TIMEOUT:Wf,WRAPPER_VAST_LOAD_ERROR:Wf,YANDEX_WRAPPER_VAST_LOAD_ERROR:Wf,NO_INLINE_OR_WRAPPER_NODE:jf,YANDEX_NO_INLINE_OR_WRAPPER_NODE:jf,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:jf,YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:jf,VIDEO_TIMEOUT:Xf,AD_CREATIVE_VIDEO_TIMEOUT:Xf,BUFFER_FULL_TIMEOUT:Xf,AD_CREATIVE_BUFFER_FULL_TIMEOUT:Xf,BUFFER_EMPTY_LIMIT:Xf,AD_CREATIVE_BUFFER_EMPTY_LIMIT:Xf,VPAID_LOAD_TIMEOUT:Jf,YANDEX_VPAID_LOAD_TIMEOUT:Jf,VPAID_INIT_TIMEOUT:Jf,YANDEX_VPAID_INIT_TIMEOUT:Jf,VPAID_START_TIMEOUT:Jf,YANDEX_VPAID_START_TIMEOUT:Jf,YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION:Xf,YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION:Xf,YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT:Xf,YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT:Xf,AD_BREAK_IS_NOT_FOUND:Zf,VMAP_CONFIG_WITHOUT_PARTNER_ID:Zf,NO_AD_TO_DISPLAY:Zf,ALL_MEDIA_FILES_FILTERED_OUT:qf,CANNOT_SHOW_CPC_CONTROLS:Yf,SLOT_DISPLAY_NONE:Yf,SLOT_ZERO_SIZE:Yf,SLOT_SMALL_SIZE:Yf,MULTIROLL_HAS_NO_AD_BREAKS_TO_SHOW:1003,ADFOX_VAST_BASE64_PARSING_ERROR:zf,VPAID_LOADING_ERROR:Jf,EXTERNAL_VPAID_NO_AD_TEST:Jf,EXTERNAL_VPAID_NO_AD_MOEVIDEO:Jf,EXTERNAL_VPAID_NO_AD_VIDEONOW:Jf,EXTERNAL_VPAID_NO_AD_ADLOOK:Jf,EXTERNAL_VPAID_NO_AD_BUZZOOLA:Jf,EXTERNAL_VPAID_NO_AD_PUNCHMEDIA:Jf,EXTERNAL_VPAID_NO_AD_BETWEENDIGITAL:Jf,EXTERNAL_VPAID_NO_AD_SAPE:Jf,EXTERNAL_VPAID_NO_AD_ADHIGH:Jf,EXTERNAL_VPAID_NO_AD_ADRIVER:Jf,EXTERNAL_VPAID_NO_AD_MRADX:Jf,EXTERNAL_VPAID_NO_AD_RUTARGET:Jf,EXTERNAL_VPAID_NO_AD_DSSERVING:Jf,VPAID_PLAYING_ERROR:Jf,NO_GET_VPAID_AD_FUNC:Jf,YANDEX_NO_GET_VPAID_AD_FUNC:Jf,GET_VPAID_AD_ERROR:Jf,INVALID_VPAID_API:Jf,VPAID_VERSION_ERROR:Jf,INIT_AD_ERROR:Jf,AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS:Yf,CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE:Yf,AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION:Yf,AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_OBJECT:Yf,AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT:Yf,AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_FUNCTION_TEARDOWN:Yf,AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT:Yf,AD_CREATIVE_ANIMATION_INIT_CALL_ERROR:Yf,AD_CREATIVE_ANIMATION_INIT_ERROR:Yf,AD_CREATIVE_FIRST_RENDER_ERROR:Yf,NO_INPAGE_AD_BREAK_IN_VMAP:1003,FAILED_TO_CREATE_INPAGE_AD_LOADER:Kf,MEDIA_SRC_VIOLATES_CSP_POLICY:Gf,CANNOT_LOAD_VPAID_MEDIA_FILE:Jf,INVALID_INTERACTIVE_AD_PARAMETERS:zf,NO_INTERACTIVE_AD_PARAMETERS:jf,INVALID_INIT_AD_ARGUMENTS_SIZE:Jf,INVALID_INIT_AD_ARGUMENTS_ENVIRONMENT_VARS:Jf,INVALID_INIT_AD_ARGUMENTS_SLOT:Jf,INVALID_INIT_AD_ARGUMENTS_VIDEO_SLOT:Jf,INVALID_INIT_AD_ARGUMENTS_CREATIVE_DATA:Jf,INVALID_INIT_AD_ARGUMENTS_AD_PARAMETERS:Jf,VPAID_PLAYER_LOADER_ACTION_METHOD_CALLED_WITHOUT_VPAID:Jf,CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON:Jf,CANNOT_DETECT_CREATIVE_BY_AD_PARAMETERS:Jf,VPAID_MEASURER_INVALID_ENVIRONMENT_VARS:Jf,VPAID_MEASURER_INVALID_CREATIVE_DATA:Jf,VPAID_MEASURER_AD_PARAMETERS_ERROR:Jf,LEGAL_VPAID_PLAYER_PLAYING:Jf,ILLEGAL_VPAID_PLAYER_PLAYING:Jf,INVALID_AD_PARAMETERS_STRING_IN_VPAID_PLAYER:Jf,INVALID_AD_LOADER_CONFIG_IN_VPAID_PLAYER:Jf,CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS:jf,MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED:Yf,MSE_CONTROLLER_SOURCE_BUFFER_ERROR:Xf,MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY:Xf,VPAID_AD_POD_VIEWER_FRAME_DESTROYED:Jf,VF_INIT_AD_NO_GET_VPAID_AD:Jf,VF_INIT_AD_IS_NOT_CREATIVE_LIKE:Jf,VPAID_PLAYER_LOADED_IN_VPAID_PLAYER:Jf,CANNOT_CONVERT_VIDEO_VAST_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES:qf,VPAID_WAS_DESTROYED_DURING_LOAD:Jf,VPAID_WAS_DESTROYED_DURING_INIT:Jf,NO_MEDIA_FILES_IN_AD_PARAMETERS:qf,VIDEO_WRAPPER_NODE_NOT_IN_DOM:Kf,APC_SLOT_IS_NOT_SET:Kf,NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS:qf,INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS:qf,AD_FINISHED_DURING_RAA:Yf,CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS:jf,CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS:jf,CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS:jf,CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS:jf,CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES:jf,CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS:jf,PRELOAD_IFRAME_WAS_UNLOADED:Yf,AD_POD_UNRECOGNIZED_ERROR_CODE:Kf},$f="[ERRORCODE]";let eA={showCountDown:!0,showSoundButton:!0,showLabel:!0};const tA=e=>({src:Nt(e.querySelector("StaticResource")),program:Dt(e,"program"),xPosition:yf(e,"xPosition",0),yPosition:yf(e,"yPosition",0),width:yf(e,"width",0),height:yf(e,"height",0)}),iA=/&\w+;/g,nA={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},rA=[90,150,180,300,450,600,900,1200],oA=(e,t)=>{let i,n=0;do{i=rA[n],n++}while(t>i&&n<rA.length);const r=e.vert?"x"+i:"y"+i;return e.baseUrl+r},aA=e=>{if(!Array.isArray(e))return[];const t=sh(e,(e=>{const t=e[0],i=Number(e[1]),r=Number(e[2]),o=e[3];if(m(t)&&!isNaN(i)&&!isNaN(r)){const e=[t,String(i),String(r)];return n(o)&&e.push(o),e}}));return yu(t,(e=>void 0!==e))},sA=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!n(t)||!n(t.data_params))return;const r=kh(t.data_params);if(!n(r))return;const o=r.assets;if(!n(o))return;const a={},{button:s,icon:l,app:d,images:h,price_info:p}=o;if(n(s)){const{caption:e,href:t,key:i}=s;m(e)&&m(t)&&m(i)&&(a.button={caption:e,href:t,key:i})}if(n(d)){const{review_count:e,store_name:t,name:n,download_count:r,rating:o,store_app_id:s,store_content_id:l,price_currency_symbol:c,price_currency_code:u,price:h,age:p,free:v}=d;oi(e)&&m(t)&&m(n)&&i(o)&&m(s)&&m(l)&&oi(p)&&"boolean"===typeof v&&(a.app={review_count:e,store_name:t,name:n,download_count:m(r)?r:void 0,rating:o,store_app_id:s,store_content_id:l,price_currency_symbol:m(c)?c:void 0,price_currency_code:m(u)?u:void 0,price:i(h)?h:void 0,age:p,free:v})}if(n(l)){const e=pe(l);if(e.length){const t={};for(const[i,n]of e){const{url:e,width:r,height:o}=n;m(e)&&ai(r)&&ai(o)&&(t[i]={url:e,width:r,height:o})}u(t)||(a.icon=t)}}if(tc(h)&&(a.images=aA(h)),n(o.multicards)&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_USE_MULTICARD_IMAGES_FOR_MOTION")&&(a.multicardImages=(e=>{if(!n(e))return;const t=c(e).sort();return sh(t,(t=>{const i=e[t].image;return[{url:oA(i,900),width:900,height:900}]}))})(o.multicards)),n(p)&&m(p.price)&&m(p.currency)&&(a.priceInfo={currency:p.currency,oldPrice:m(p.old)?Number.parseFloat(p.old):void 0,price:Number.parseFloat(p.price)}),o.multicards&&n(o.multicards_click_link)){const e=o.multicards,t=o.multicards_click_link,i=sh(c(e),(t=>si({},e[t],{key:t}))).sort(((e,t)=>e.order-t.order)),n=sh(i,(e=>{const{href:i,currency:n,price_old:r,price:o,text:a,image:s,key:l}=e;return{clickThruUrl:t[l],priceInfo:void 0!==n&&void 0!==o?{price:o,currency:n,oldPrice:r}:void 0,text:a,link:i,image:s}}));a.ecomShop={products:n}}return a},lA=a((e=>{Ih.log({name:"AdCreativeVideoBannerVastLegalText",sensors:{source:e}})})),dA=function(e){let t=0,i=e?sh(e,(e=>e[0])):[],n=e?sh(e,(e=>e[1])):[];const r=e=>(t=i.indexOf(e))>-1,o={get size(){return i.length},has:r,clear:()=>{i=[],n=[]},get:e=>n[i.indexOf(e)],keys:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>i.slice())),values:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>n.slice())),entries:()=>sh(i,((e,t)=>[e,n[t]])),delete:e=>r(e)&&i.splice(t,1)&&Boolean(n.splice(t,1)),forEach(e,t){$d(n,((n,r)=>e.call(t,n,i[r],o)))},set:(e,a)=>(r(e)?n[t]=a:n[i.push(e)-1]=a,o)};return o},cA=(Boolean(window.Map)&&"function"===typeof window.Map.prototype.keys&&window.Map,class{constructor(){this.map=new dA}add(e){return this.map.set(e,e),this}clear(){this.map.clear()}delete(e){return this.map.delete(e)}has(e){return this.map.has(e)}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}get size(){return this.map.size}}),uA=(l(window.Set)&&window.Set,e=>{if(!n(e))return;const{pythia:t}=e;if(!n(t))return;const{basePath:i,slug:r,extra:o,"survey-config":a}=t;if(!s(o))return;const l=function(e){var t;if(!n(e))return!1;const{pythia:i}=e;if(!n(i))return!1;const{extra:r}=i;return!!s(r)&&(void 0!==P(r).bl_adg||"detachedBrandLift"===(null==i||null==(t=i["survey-config"])?void 0:t.surveyPreset))}(e),d=new URL(i+"/"+r+"/?"+o);return{surveyConfig:a,location:{host:d.host,pathname:d.pathname,search:d.search},isBrandLiftSurveyCreative:l}}),hA=e=>{const t=[];if(!n(e))return t.push(new Error("parsed but not an object")),{errors:t,params:void 0};let i,r;if(0===e.show||1===e.show)i=1===e.show;else{if("boolean"!==typeof e.show)return t.push(new Error('"show" is not a boolean nor 0,1 number')),{errors:t,params:void 0};i=e.show}if("domain"in e&&e.domain&&"string"!==typeof e.domain)return t.push(new Error('"domain" is defined but not a string')),{errors:t,params:void 0};m(e.domain)&&(r=e.domain);const o=!r||r.length<=30?r:r.slice(0,30)+"...";let a;if("socialAdvertising"in e)if(0===e.socialAdvertising||1===e.socialAdvertising)a=1===e.socialAdvertising;else{if("boolean"!==typeof e.socialAdvertising)return t.push(new Error('"socialAdvertising" is defined but not a boolean or 1,0 number')),{errors:t,params:void 0};a=e.socialAdvertising}return{errors:void 0,params:{show:i,domain:o,socialAdvertising:a}}},pA=e=>{let{show:t,token:i,advertiserInfo:n}=e;const r=[];return 0!==t&&1!==t&&r.push({reason:"show is not 0 or 1"}),"string"!==typeof n&&r.push({reason:"advertiserInfo is not a string"}),"string"!==typeof i&&r.push({reason:"token is not a string"}),r.length>0?{errors:r}:{params:{show:Boolean(t),token:i,advertiserInfo:n}}},mA=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])};let vA;const gA=function(e,t){var i;let{isYandexVastUrl:r}=void 0===t?{}:t;const o=e.querySelector("VideoClicks"),l=e.querySelectorAll("MediaFile"),d=e.querySelector("Linear"),c=e.querySelector("Creative TrackingEvents"),u=c?c.querySelectorAll("Tracking"):[],h=z(e.querySelectorAll("Impression")),p=e.querySelectorAll("Error"),v=e.querySelector("Extensions"),g=e.querySelector("Description"),f=e.querySelectorAll("Icons Icon"),_=e.querySelector("AdParameters"),y=e.querySelector("AdSystem"),b=e.querySelector("AdTitle"),S=e.querySelector("Creative"),T=m(e.id)?e.id:void 0;!function(e){if(!e)return;const t=e.querySelector('Extension[type="activeTestIds"]');if(!t)return;const i=Wt(Nt(t));tc(i)&&Tu.activateExternalTestIds(...i)}(v);const E=lf(ff,{preserveConstructors:!1});E.adId=T,S&&(E.creativeId=m(S.id)?S.id:void 0),E.parseIndex=void 0===vA?(vA=0,vA):++vA,E.randomHexString=A(16);const w=e.querySelector("InLine"),C=e.querySelector("Wrapper"),P=Boolean(w);if(P===Boolean(C)){if(P)throw new Qu({code:r?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new Qu({code:r?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(E.adVerifications=function(e){const t=[];let i=e.querySelector("AdVerifications");const n=e.querySelector("Extensions");if(!i&&n&&(i=n.querySelector('[type="AdVerifications"]>AdVerifications')),!i)return t;const r=i.querySelectorAll("Verification"),o=[];if(Boolean(r))for(const a of Array.from(r)){const e=a.getAttribute("vendor"),i=Nt(a.querySelector("JavaScriptResource")),n={},r=a.querySelectorAll("TrackingEvents>Tracking");if(Boolean(r))for(const t of Array.from(r)){const e=Dt(t,"event"),i=Nt(t);m(e)&&m(i)&&(n[e]=i)}const l=Nt(a.querySelector("VerificationParameters"));m(e)&&m(i)&&s(l)?t.push({vendorKey:e,javaScriptResource:i,trackingEvents:n,verificationParameters:l}):o.push({vendorKey:e,javaScriptResource:i,trackingEvents:n,verificationParameters:l})}return o.length>0&&Ih.error({error:new Qu({code:"OMID_OBJECT_FROM_VERIFICATION_NODE_IN_VAST_IS_INVALID",details:{invalidAdVerifications:JSON.stringify(o)}})}),t}(e),E.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return sf;const i=parseInt(t,10);return Jt(i)?i:(Ih.error({error:new Qu({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),sf)}(e),o){const e=Nt(o.querySelector("ClickThrough"));e&&(E.clickUrlData.vastClickUrl=e);const t=o.querySelectorAll("ClickTracking");for(let i=0;i<t.length;i++)mA(E,"clickThrough",Nt(t[i]))}if(P&&_){const e=Nt(_);E.adParameters=e;const t=Wt(e);if(n(t)){E.adParametersObject=t;const e=function(e){if(!n(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!n(t))return;const{data_params:i}=t;if(!n(i))return;const{misc:r}=i;if(!n(r))return;const{click_url:o}=r;if(!n(o))return;const{abuse:a}=o;return m(a)?a:void 0}(t);e&&(E.abuseUrl=e),E.serializablePlaybackParameters=jt(t.playbackParameters).config;const i=function(e){if(!n(e))return;const{background:t}=e;return n(t)&&m(t.color)?t.color:void 0}(t);void 0!==i&&(E.backgroundColor=i);const r=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(m(t))return t}(t);r&&mA(E,"packshotStart",r);const{bidreqid:o,campaignid:a,pageId:s,impId:l,vmapRequestId:d}=function(e){if(!n(e))return{};const{AUCTION_DC_PARAMS:t}=e;if(!n(t))return{};const{data_params:i}=t;if(!n(i))return{};const{misc:r}=i;if(!n(r))return{};const{bidreqid:o,campaignid:a,pageId:s,impId:l,vmap_request_id:d}=r;return{bidreqid:m(o)?o:void 0,campaignid:m(a)?a:void 0,pageId:m(s)?s:void 0,impId:m(l)?l:void 0,vmapRequestId:m(d)?d:void 0}}(t);E.bidreqid=o,E.campaignid=a,E.pageId=s,E.impId=l,E.vmapRequestId=d,E.firstFrameImages=wt(function(e){var t,i,r,o,a;if(!n(e))return;if(null!=(t=e.firstFrame)&&t.images)return null==(a=e.firstFrame)?void 0:a.images;const s=$t(e),l=null!=(i=null==s||null==(r=s.assets)?void 0:r.images)?i:null==s||null==(o=s.unmoderated)?void 0:o.images;return tc(l)?sh(l,(e=>{let[t,i,n]=e;return{width:Number(i),height:Number(n),url:t}})):void 0}(t)),E.productType=Vt(t),Object.assign(E.creativeParameters,(e=>{const t=ni(e),{title:i,body:n,hasTitle:r,hasBody:o}=ti(e),a=ei(e);let s,l,d,c,u;if(a){u=a.domain;const{green_url_text_prefix:t,green_url_text_suffix:i,age:n}=a;d=ii({domain:u,greenUrlTextPrefix:t,greenUrlTextSuffix:i});const r=ri(e);s=null==r?void 0:r.punyDomain,l=null==r?void 0:r.showTitleAndBody,m(n)&&(c=n)}return{buttonLabel:t,title:r?i:void 0,body:o?n:void 0,domain:u||void 0,punyDomain:s||void 0,showTitleAndBody:l,greenUrl:d,ageRestriction:c,targetUrl:we(e)}})(t));const c=sA(t);c&&(Object.assign(E.assets,c),E.ecomShop=c.ecomShop),Object.assign(E.clickUrlData,{tgaOfferClickUrl:li(t),serializablePlaybackParametersClickUrl:E.serializablePlaybackParameters.clickThroughUrl}),function(e){const{tgaOfferClickUrl:t,vastClickUrl:i,serializablePlaybackParametersClickUrl:n}=e,r=yu([t,i,n],m);0===r.length&&Ih.log({name:"VastAdHasNoClickUrls",data:{clickUrlData:e}}),new cA(r).size>1&&Ih.log({name:"VastAdHasDifferentClickUrls",data:{clickUrlData:e}})}(E.clickUrlData),E.bannerFlags=function(e){const t=ei(e);if(!n(t))return;const{banner_flags:i}=t;if(!m(i))return;const r=i.split(",");return{medicine:R(r,"medicine"),dietarysuppl:R(r,"dietarysuppl"),businessUnit:R(r,"business_unit"),socialAdvertising:R(r,"social_advertising")}}(t),E.legalText=function(e){const{LEGAL_TEXT:t,HAS_LEGAL:i}=e;if(i&&m(t))return lA("legalField"),t.trim();const r=ei(e);if(!n(r))return;const{warning:o,dynamic_disclaimer:a}=r;return m(o)&&"1"===a?(lA("dynamicDisclaimer"),o):void 0}(t),E.surveyParameters=uA(t)}}if(C){const t=Nt(e.querySelector("VASTAdTagURI"));if(!t)throw new Qu({code:r?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});E.vastAdTagUri=t}if(void 0!==l)for(let n=0;n<l.length;n++){const e=xt(l[n]);e&&E.mediaFiles.push(e)}for(let n=0;n<u.length;n++){const e=Dt(u[n],"event"),t=Nt(u[n]);if("progress"===e){const e=Dt(u[n],"offset","");if(m(e)){const i=Kt(e);void 0===i?Ih.error({error:new Qu({code:r?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})}):E.progressTrackings.push({urls:[t],offset:i})}else Ih.error({error:new Qu({code:r?"YANDEX_VAST_EMPTY_PROGRESS_OFFSET":"VAST_EMPTY_PROGRESS_OFFSET",details:{url:t,offsetString:e}})})}else mA(E,e,t)}$d(h,(e=>{const t=Dt(e,"id"),i=Nt(e);mA(E,"vas-on-visual-show"===t?"encounters":"impression",i)}));for(let n=0;n<p.length;n++)mA(E,"error",Nt(p[n]));for(let n=0;n<f.length;n++)E.icons.push(tA(f[n]));if(v){const e=v.querySelectorAll('Extension[type="skipAd"]');for(let n=0;n<e.length;n++)Ih.log({name:"UsingSkipAdExtensionInVast"}),mA(E,"skip",Nt(e[n]));const t=v.querySelector('Extension[type="skipTime"]');if(Rt(t)){const e=Xt(Nt(t));Ih.log({name:"UsingSkipTimeExtensionInVast",data:{skipTime:e}}),E.skipTime=e>180?0:e}const i=v.querySelector('Extension[type="controls"]');if(i){const e=(e=>{const t=Zt({},eA),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==Dt(i,"layout"));const n=e.querySelector('control[id="soundbtn"]');n&&(t.showSoundButton="0"!==Dt(n,"layout"));const r=e.querySelector('control[id="adlabel"]');return r&&(t.showLabel="0"!==Dt(r,"layout")),t})(i);Ih.log({name:"UsingControlsExtensionInVast",probability:Wu,data:{imhoParams:e}}),E.imhoParams=e}const o=v.querySelector('Extension[type="AdTitle"]');if(o){const{errors:e,params:t}=(e=>{const t=Nt(e),i=[];let n;try{n=JSON.parse(t)}catch(hb){i.push($u(hb))}if(!n)return{errors:i,params:void 0};const r=hA(n);return r.errors?{errors:r.errors,params:void 0}:{errors:void 0,params:r.params}})(o);null!=e&&e.length?Ih.error({error:new Qu({code:r?"YANDEX_VAST_INCORRECT_AD_TITLE_EXTENSION_XML":"VAST_INCORRECT_AD_TITLE_EXTENSION_XML",details:{errors:e}})}):(Ih.log({name:"UsingAdTitleExtensionInXMLVast",probability:Wu}),E.adTitleParameters=t)}const s=v.querySelector('Extension[type="yandex_ad_info"]');if(s){Ih.log({name:"UsingYandexAdInfoExtensionInVast",probability:Wu});const{errors:e,params:t}=(e=>{var t;const i=Nt(e),r=[];let o;try{o=JSON.parse(i)}catch(hb){r.push($u(hb))}if(!o)return{errors:r,params:void 0};if(!n(o))return r.push(new Error("[parseYandexAdInfoParamsFromXML] parsed but not an object.")),{errors:r,params:void 0};const a=null==(t=o.click_url)?void 0:t.action_button;return m(a)?{errors:void 0,params:{clickUrl:a,punyDomain:m(o.punyDomain)?o.punyDomain:void 0,targetUrl:m(o.targetUrl)?o.targetUrl:void 0}}:(r.push(new Error("[parseYandexAdInfoParamsFromXML] clickUrl is not string.")),{errors:r,params:void 0})})(s);null!=e&&e.length?Ih.error({error:new Qu({code:r?"YANDEX_VAST_INCORRECT_YANDEX_AD_INFO_EXTENSION_XML":"VAST_INCORRECT_YANDEX_AD_INFO_EXTENSION_XML",details:{errors:e}})}):E.yandexAdInfoExtensionParams=t}const l=a((()=>{Ih.log({name:"UsingCustomTrackingExtensionInVast",probability:Wu})})),d=v.querySelector('Extension[type="CustomTracking"]'),c=d?d.querySelectorAll("Tracking"):[];for(let n=0;n<c.length;n++){l();const e=Dt(c[n],"event");mA(E,e,Nt(c[n]))}const u=v.querySelector('Extension[type="AdTune"]');if(u){const{params:e,errors:t}=(e=>{var t;const i=[],r=(e=>{try{return{json:JSON.parse(e)}}catch(cL){return{error:{reason:"failed to parse json",details:$u(cL).message}}}})(Nt(e));if(r.error)return i.push(r.error),{errors:i};if(!n(r.json)||tc(r.json))return i.push({reason:"adtune text content is not an object"}),{errors:i};const o=pA(r.json);return null!=(t=o.errors)&&t.length?{errors:o.errors}:{params:o.params}})(u);t&&Ih.error({error:new Qu({code:r?"YANDEX_VAST_INCORRECT_ADFOX_ADTUNE_EXTENSION_XML":"VAST_INCORRECT_ADFOX_ADTUNE_EXTENSION_XML",details:{errors:sh(t,(e=>JSON.stringify(e)))}})}),e&&(Ih.log({name:"UsingAdFoxAdTuneExtensionInXMLVast",probability:Wu}),E.adTune=e)}const h=v.querySelector('Extension[type="nroa_inform"]');if(h){const{errors:e,params:t}=(e=>{const t=[],i=e.querySelector("Title");i||t.push(new Error("[parseNroaInformFromXML] <Title> node is missing."));const n=e.querySelector("Url");n||t.push(new Error("[parseNroaInformFromXML] <Url> node is missing."));const r=Nt(n);return m(r)||t.push(new Error("[parseNroaInformFromXML] <Url> has incorrect value")),t.length?{errors:t,params:void 0}:{errors:void 0,params:{title:Nt(i),url:r}}})(h);null!=e&&e.length?Ih.error({error:new Qu({code:r?"YANDEX_VAST_INCORRECT_NROA_INFORM_EXTENSION_XML":"VAST_INCORRECT_NROA_INFORM_EXTENSION_XML",details:{errors:e}})}):E.nroaInform=t}const p=v.querySelector('Extension[type="ShouldSkipOmidWL"]');p&&"true"===Nt(p)&&(Ih.log({name:"UsingShouldSkipOmidWL",probability:Wu}),E.omidWhiteListBypass=!0)}const k=null!=(i=(e=>{if(!e)return;const t=e.querySelector('Extension[type="bannerId"]');return t?Nt(t):void 0})(v))?i:(e=>{var t;if(n(e))return null==e||null==(t=e.misc)?void 0:t.object_id})(E.adParametersObject);if(k&&(E.bannerId=k),Rt(g)&&(E.description=Nt(g)),Rt(y)){E.adSystem=Nt(y);const e=Dt(y,"dspLabel");m(e)&&(E.dspLabel=e)}if(Rt(b)&&(E.adTitle=Nt(b)),d){const e=Dt(d,"skipoffset","").trim();if(""!==e){const t=Xt(e);isNaN(t)?qt(new Qu({code:r?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),E.trackingEvents.error):E.skipOffset=t}const t=d.querySelector("Duration");t&&(E.duration=Xt(Nt(t)))}return E},fA={END_LINE_SYMBOLS:!1,AMPERSAND_SYMBOLS:!1,MISSING_CLOSE_BRACKETS_AD_TITLE:!1,MISSING_CLOSE_BRACKETS_DESCRIPTION:!1,MISSING_CLOSE_BRACKETS_IMPRESSION:!1},AA=e=>{fA[e]=!0},_A=e=>{if(!m(e))return e;let t=e;return t=yA(t),t=bA(t),t=TA("AdTitle",t,"MISSING_CLOSE_BRACKETS_AD_TITLE"),t=TA("Description",t,"MISSING_CLOSE_BRACKETS_DESCRIPTION"),t=TA("Impression",t,"MISSING_CLOSE_BRACKETS_IMPRESSION"),EA(),t},yA=e=>{if(be(e,"\0")){let t=e;for(;be(t,"\0");)t=t.slice(0,-1);return AA("END_LINE_SYMBOLS"),t}return e},bA=e=>SA(e,"<VideoClicks>")?e.replace(/(<VideoClicks>)([\s\S]+)(<\/VideoClicks>)/g,((e,t,i,n)=>(i.match(/&amp;/g)||[]).length===(i.match(/&/g)||[]).length?t+i+n:(AA("AMPERSAND_SYMBOLS"),t+i.replace(/&amp;/gi,"&").replace(/&/gi,"&amp;")+n))):e,SA=(e,t)=>Boolean((e.match(t)||[]).length),TA=(e,t,i)=>{if(!SA(t,"<"+e+">"))return t;const n=new RegExp("(<"+e+">)(.+)(<[/]"+e+">)","gm");return t.replace(n,((e,t,n,r)=>{const o=(n.match(/\[/g)||[]).length,a=(n.match(/\]/g)||[]).length;if(o===a)return t+n+r;if(o>a){const e="]".repeat(o-a),s=n.replace(">",e+">");return AA(i),t+s+r}return t+n+r}))},EA=()=>{fh(zt(fA),Boolean)&&Ih.log({name:"UsageConvertXMLStringToValidVASTMethods",data:{methods:fA},dailySensors:di({},fA)})},wA=async e=>{var t;let{url:i,loadParameters:n,isWrapper:r=!1}=e;if(!i)return Promise.reject(new Qu({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:o}=n;Ih.log({name:r?"WrapperVastLoadStart":"VastLoadStart",data:{url:i,loadParameters:n,timeout:o}});const a=Date.now(),s=await CA({url:i,loadParameters:n,isWrapper:r}),l=s.ads[0],d=we(null==l?void 0:l.adParametersObject),c=Boolean(d),u=Oe(l),h=ye(p=i)?"AD_FOX":Se(p)?"YANDEX":"EXTERNAL";var p;const m=null!=(t=n.adPlacementOptions.adBreakType)?t:n.adBreakType;return Ih.log({name:r?"WrapperVastLoadSuccess":"VastLoadSuccess",data:{url:i,timeout:n.vastTimeout},values:{adsCount:s.ads.length,timeSpent:Date.now()-a},sensors:{adBreakType:m,firstAdPodFormatType:u,vastSource:h,hasTargetUrl:c}}),s},CA=async e=>{let{url:t,loadParameters:i,isWrapper:n=!1}=e;const{vastTimeout:r}=i,o=Se(t),a="VASFrame"===i.requestMethod?Op:Np,s=((e,t)=>{if("boolean"===typeof gu.hardcodedParams.adsdkwithcredentials)return gu.hardcodedParams.adsdkwithcredentials;if(Se(t))return!0;if("boolean"===typeof e.credentials)return e.credentials;if(!he(window)){if(e.isPartnerVastUrl&&"for-partner-vast-url"===Tu.getFlagValueAndActivateTestId("VAS_ADD_CREDENTIALS_FOR_REQUESTS"))return!0;if("for-all-requests"===Tu.getFlagValueAndActivateTestId("VAS_ADD_CREDENTIALS_FOR_REQUESTS"))return!0}return!1})(i,t);try{const{responseText:e,responseStatus:n}=await qe({url:t,data:null,timeout:r,doRequest:a,withCredentials:s});if(function(e,t,i,n){if(200===i)return;if(204===i&&0===t.length)return void Ih.log({name:"NoContentVastResponseWithEmptyText",data:{url:e,isYandexUrl:n},probability:Wu});let r;switch(t){case"\x3c!-- Bad partner/domain --\x3e":r="BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";break;case"\x3c!-- PageImp data not found --\x3e":r="BAD_IMP_ID_FOR_VAST_REQUEST";break;default:r=n?"YANDEX_UNEXPECTED_VAST_RESPONSE_TEXT":function(e){return-1!==e.indexOf("getshop.tv")?"GETSHOP_TV_UNEXPECTED_VAST_RESPONSE_TEXT":"UNEXPECTED_VAST_RESPONSE_TEXT"}(e)}if(r)throw new Qu({code:r,details:{url:e,responseText:t,responseStatus:i}})}(t,e,n,o),204===n)throw new Qu({code:"NO_AD_SECTION",details:{reason:"status-204"}});return PA({xmlString:e,loadParameters:i,vastUrl:t})}catch(cL){const a="AD_FOX"===i.vastSourceType;let s,l;s=ae(cL)?cL.code:a?"ADFOX_VAST_LOAD_ERROR":o?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR",l=n?o?"YANDEX_WRAPPER_VAST_LOAD_TIMEOUT":"WRAPPER_VAST_LOAD_TIMEOUT":o?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT";const d=xp({thrownError:cL,errorCode:s,errorDetails:void 0,timeoutCode:l,timeoutDetails:{vastTimeout:r,url:t}});return Promise.reject(d)}},PA=async e=>{var t,r,o,a,l,d;let{loadParameters:u,vastUrl:h,xmlString:p}=e,g=Ye(p),f=!1;g||(f=n(Wt(p)),f||(g=Ye(_A(p))));const A="YANDEX"===u.vastSourceType;if(!g){const e=(()=>{if(f)switch(u.vastSourceType){case"YANDEX":return"YANDEX_GOT_JSON_INSTEAD_XML";case"AD_FOX":return"ADFOX_GOT_JSON_INSTEAD_XML";default:return"GOT_JSON_INSTEAD_XML"}switch(u.vastSourceType){case"YANDEX":return"YANDEX_INVALID_VAST_XML";case"AD_FOX":return"ADFOX_INVALID_VAST_XML";default:return"INVALID_VAST_XML"}})();throw new Qu({code:e,details:{xmlString:p,vastUrl:h}})}const _=g.querySelector("VAST");if(!_)throw new Qu({code:"NO_AD_SECTION",details:{reason:"no-vast-tag"}});const y=_.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!s(e))return!1;const t=Number(e.split(".")[0]);return!!i(t)&&t<=4}(y))throw new Qu({code:A?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:p,version:y}});const b="true"===_.getAttribute("ya-uniformat"),S="true"===_.getAttribute("ya-has-banner-storage-ad"),T=R(["Yabs Ad Server","Yabs Ad CPC Server"],null!=(t=null==(r=_.querySelector("AdSystem"))?void 0:r.textContent)?t:""),E=z(_.querySelectorAll("VAST Ad"));let w;if(0===E.length)w=function(e){let{isUniformat:t,xmlVastNode:i,xmlString:r}=e;const o=lf(gf,{preserveConstructors:!1}),a=i.querySelector('Extension[type="aim"]');if(!a)return o;const s=a.textContent;if(!s)return o;const l=v((()=>JSON.parse(s)),(()=>{throw new Qu({code:"NO_AIM_SCREEN_JSON_IS_INVALID",details:{aimConfig:s}})}));if(!n(l))throw new Qu({code:"NO_AIM_SCREEN_JSON_IS_NOT_AN_OBJECT",details:{aimConfig:l}});Ih.log({name:"NoAimScreenDataParsed",data:{aimNodeConfig:s},probability:Hu});const{isActive:d,filterReasons:c}=l;if("boolean"!==typeof d)throw new Qu({code:"NO_AIM_SCREEN_INVALID_IS_ACTIVE_PARAMETER",details:{aimConfig:s}});if(!d)return o;if(!tc(c))throw new Qu({code:"NO_AIM_SCREEN_FILTER_REASONS_IS_NOT_ARRAY",details:{filterReasons:c}});const u=[];for(const n of c){if(!Ot(n))throw new Qu({code:"NO_AIM_SCREEN_FILTER_REASON_INVALID",details:{filterReasons:c}});u.push(n)}const h={controlsSettings:{visibility:!1,controlsVisibility:{}},trackingEvents:{},lang:"ru",contentAfterAd:vf},p={playbackParameters:h,mediaFiles:[_f],adParameters:{filterReasons:u}};return{isUniformat:t,ads:[It({},lf(ff,{preserveConstructors:!1}),{duration:15,serializablePlaybackParameters:h,mediaFiles:[hf],adParameters:JSON.stringify(p),adParametersObject:p})],children:[],xmlString:r,url:void 0}}({isUniformat:b,xmlVastNode:_,xmlString:p});else{const e=[],t=sh(E,(t=>{const i=gA(t,{isYandexVastUrl:A}),{vastAdTagUri:n}=i;if(!n)return[i];if(u.remainingLoadWrapperVastCount<=1)return Ih.error({error:new Qu({code:A?"YANDEX_WRAPPER_VAST_MAX_COUNT_LIMIT":"WRAPPER_VAST_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:r}=u;return wA({url:ft({url:n,options:r,win:window}),loadParameters:ci({},u,{remainingLoadWrapperVastCount:u.remainingLoadWrapperVastCount-1}),isWrapper:!0}).then((t=>(e.push(t),sh(t.ads,(e=>{var t,n;return t=e,(n=i).mediaFiles.length&&(t.mediaFiles=[...t.mediaFiles,...n.mediaFiles]),$d(c(n.trackingEvents),(e=>{t.trackingEvents[e]=[...t.trackingEvents[e]||[],...n.trackingEvents[e]||[]]})),n.clickUrlData.vastClickUrl&&(t.clickUrlData.vastClickUrl=n.clickUrlData.vastClickUrl),"number"!==typeof t.skipTime&&(t.skipTime=n.skipTime),"number"!==typeof t.skipOffset&&(t.skipOffset=n.skipOffset),t.progressTrackings.push(...n.progressTrackings),isNaN(t.duration)&&(t.duration=n.duration),t.sequence===sf&&(t.sequence=n.sequence),t.adSystem||(t.adSystem=n.adSystem),m(n.dspLabel)&&(t.dspLabel=n.dspLabel),_t(n.adTune)&&(t.adTune=n.adTune),n.nroaInform&&(t.nroaInform=n.nroaInform),n.omidWhiteListBypass&&(t.omidWhiteListBypass=n.omidWhiteListBypass),e}))))).catch((e=>(ae(e)?Ih.error({error:e}):Ih.error({error:new Qu({code:A?"YANDEX_WRAPPER_VAST_LOAD_ERROR":"WRAPPER_VAST_LOAD_ERROR",details:{error:e,vastAdTagUri:n,parsingParameters:u}})}),[])))}));w={ads:At(await Promise.all(t)),xmlString:p,children:e,url:h,isUniformat:b}}const C=w.ads[0],P=!!Boolean(C)&&function(e){var t,i,n;const r=kh(null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)?void 0:i.data_params),o=null==r||null==(n=r.assets)?void 0:n.images;return void 0!==o&&tc(o)&&o.length>0}(C),k=(null==C?void 0:C.firstFrameImages.length)>0,I=void 0!==(null==C?void 0:C.legalText),O=void 0!==(null==C?void 0:C.bannerFlags),D=!0===(null==C||null==(o=C.bannerFlags)?void 0:o.businessUnit),N=!0===(null==C||null==(a=C.bannerFlags)?void 0:a.medicine),x=!0===(null==C||null==(l=C.bannerFlags)?void 0:l.dietarysuppl),V=!0===(null==C||null==(d=C.adParametersObject)?void 0:d.isStock),L=function(e){var t;const i=null==(t=e.ads[0])?void 0:t.productType;return void 0===i?"unknown":yt(i)}(w);let M;return M=!0===L?"cpm":!1===L?"other":"unknown",Ih.log({name:"CreateVastFromXMLString",data:{vastXmlString:p},sensors:{uniformat:w.isUniformat,hasBannerStorageAd:S,isYabsAd:T,firstAdPodHasImages:P,firstAdPodHasFirstFrameImage:k,firstAdPodCreativeType:M,firstAdPodHasLegalText:I,firstAdPodHasBannerFlags:O,firstAdPodHasBuBannerFlag:D,firstAdPodHasMedicineBannerFlag:N,firstAdPodHasDietarysupplBannerFlag:x,firstAdPodIsStock:V}}),w},kA={bids:[],creatives:{},creativeUrls:{}},IA=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};class OA extends wh{constructor(e){super(),this.onFetchBidsStart=new _u,this.postMessageRequestId=fu+"_"+A(16),this.params=e,this.addDestroyHandler((()=>{this.onFetchBidsStart.removeAll()})),this.requestPromise=new Promise((e=>{this.addDestroyHandler(e)})),this.requestBids()}requestBids(){this.params.stats.log({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then((async e=>{let{timeout:t}=e;this.params.stats.log({name:"HBFetchBidsStart",data:mi({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:n}=Ch(t,window);throw this.addDestroyHandler(i),await n,new Qu({code:"HB_FETCH_BIDS_TIMEOUT",details:mi({},this.getDataForLogs(),{timeout:t})})})).catch((e=>{this.params.stats.errorToStats(e),this.destroy(kA)}))}subscribeHBMessages(){this.addDestroyHandler(Ne({element:this.params.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!n(t)||!n(i))return;const{id:r,methodName:o}=t;if(r===this.postMessageRequestId)switch(o){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:this.params.stats.error({error:new Qu({code:"HB_MESSAGE_UNKNOWN_METHOD",details:mi({},this.getDataForLogs(),{methodName:o})})})}}}))}handleFetchBidsStartEventData(e){if(!n(e))return void this.params.stats.error({error:new Qu({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;i(t)?this.onFetchBidsStart.dispatch({timeout:t}):this.params.stats.error({error:new Qu({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:mi({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:r,warnings:o}=function(e,t){const i=[];if(!Array.isArray(e))throw new Qu({code:"HB_NON_ARRAY_BIDS_DATA",details:pi({},t,{fetchedBids:e})});e.length>1&&i.push(new Qu({code:"HB_EXTRA_BIDS_DATA",details:pi({},t,{fetchedBids:e})}));const[r]=e;if(!n(r))throw new Qu({code:"HB_NON_OBJECT_BIDS_DATA",details:pi({},t,{fetchedBids:e})});const{bids:o,creatives:a,creativeUrls:l}=r;if(!Array.isArray(o)||!IA(o,n))throw new Qu({code:"HB_INVALID_BIDS_OBJECTS",details:pi({},t,{fetchedBids:e})});if(!n(a)||!IA(zt(a),s))throw new Qu({code:"HB_BIDS_INVALID_CREATIVES",details:pi({},t,{fetchedBids:e})});if(!n(l)||!IA(zt(l),s))throw new Qu({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:pi({},t,{fetchedBids:e})});return{bids:o,creatives:a,creativeUrls:l,warnings:i}}(e,this.getDataForLogs()),a={bids:t,creatives:i,creativeUrls:r};Ae(o,this.params.stats),this.params.stats.log({name:"HBFetchBidsComplete",data:mi({},this.getDataForLogs(),{fetchedBidsObject:a})}),this.destroy(a)}catch(cL){this.params.stats.errorToStats(cL)}}sendBidsRequest(){const{win:e,adBreakType:t,adFoxParameters:i}=this.params,n=H(e),r={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:i.containerId,adBreakType:t}]};for(const s of n)hi(mi({win:s},r));const{promise:o,clear:a}=Ch(100,window);return this.addDestroyHandler(a),new Promise(((t,i)=>{o.then((()=>{const{promise:t,teardown:i}=function(e){let t;const i=Math.random(),n=new Promise((n=>{t=Ne({element:e,eventName:"message",listener:e=>{let{data:r}=e;r===i&&(t(),n())}}),e.postMessage(i,"*")}));return{teardown:t,promise:n}}(e);return this.addDestroyHandler(i),t})).then((()=>{i(new Qu({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))})).catch(i);const n=ui((e=>{a(),t(e)}),(e=>{this.params.stats.error({error:new Qu({code:"HB_START_MULTIPLE_TIMES",details:mi({},this.getDataForLogs(),{data:e})})})}));this.addDestroyHandler(this.onFetchBidsStart.add(n))}))}getDataForLogs(){const{adBreakType:e,adFoxParameters:t}=this.params;return{adBreakType:e,adFoxParameters:t,postMessageRequestId:this.postMessageRequestId}}}var DA=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G",e}(DA||{}),NA=function(e){return e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax",e}(NA||{});const RA=e=>Math.max(0,Math.round(e));class xA{constructor(){this.config=function(){const e=gi(),t=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode}(),i={win_width:RA(e.width),win_height:RA(e.height),pixel_ratio:(void 0===n&&(n=window),n.devicePixelRatio||n.screen.deviceXDPI&&n.screen.deviceXDPI/n.screen.logicalXDPI||1),bandwidth:fi()};var n;return t&&(i.quirks=t),i}()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}const VA=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},LA=e=>{const t=e.getFullYear(),i=VA(e.getMonth()+1,2),n=VA(e.getDate(),2),r=VA(e.getHours(),2),o=VA(e.getMinutes(),2),a=VA(e.getSeconds(),2),s=VA(e.getMilliseconds(),3),l=(e=>{const t=-e.getTimezoneOffset();return(t>=0?"+":"-")+VA(Math.floor(Math.abs(t)/60),2)+":"+VA(Math.abs(t)%60,2)})(e);return t+"-"+i+"-"+n+"T"+r+":"+o+":"+a+"."+s+l},MA=()=>function(e,t){let i=1+4294967295*fc();return i=Math.floor(i),i}(),BA=(e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(hb){}const n=/(%[0-9A-Z]{2})+/g;let r;for(let o=0;o<i.length;o++){const e=i[o].split("="),a=e.slice(1).join("=");try{const i=e[0].replace(n,decodeURIComponent);if(a.replace(n,decodeURIComponent),t===i){r=decodeURIComponent(a);break}}catch(hb){return}}return r};let FA=0;const UA=e=>{var t;let{win:i,date:n=new Date,pr1:r,pr:o,testtag:a,isTurbo:s=et(i),addsSsSkipToken:l=!1,layoutConfig:d=new xA,cookies:c,loaderVer:u,bundleVer:h,adSessionId:p,location:m,extid_loader:v,extid_tag_loader:g,fa:f}=e;d.set("req_no",FA++),d.set("ad_no",0+function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}());const A=Ti({},(e=>{let{win:t,pr:i,date:n=new Date,pr1:r=MA(),location:o,extid_loader:a,extid_tag_loader:s,fa:l}=e;const d=tt(t)&&t.context&&t.context.sourceUrl||void 0,c=d||t.document.referrer,u={dl:d||o||yi(t),date:LA(n),pd:n.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:r,pr:i,prr:c,pv:n.getHours(),pw:n.getDay(),extid_loader:void 0===a?bi(t):a,extid_tag_loader:void 0===s?Si(t):s};return"exp"===Tu.getFlagValue("VAS_PASS_COOKIE_TO_BK")&&(u.fa=null!=l?l:function(e){return void 0===e&&(e=window),BA(e.document,"_ym_fa")||""}(t)),u})({win:i,date:n,pr1:r,pr:o,location:m,extid_loader:v,extid_tag_loader:g,fa:f}),{ylv:"0."+(u||"1"),ybv:"0."+(h||"1"),ytt:null!=(t=null==a?void 0:a.toString())?t:"","is-turbo":Number(s),"skip-token":_i(),"ad-session-id":p||wm(),"layout-config":d.toString(),"enable-flat-highlight":1},c);return l&&(A["ss-skip-token-length"]=20,A["allow-repeat-ads"]=0),A},HA=2048,zA=[/avito/],jA=["slide","visibleAfterInit","stick","stickTo","stickyColorScheme","replayMode","preload"],WA=["ya","ndex.ru/ads/adf","ox"].join("");class YA extends wh{constructor(e){super(),this.params=e;const{promise:t,clear:i}=Ch(3e3,this.params.win);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch((e=>{throw this.params.stats.error({error:e}),this.destroy(),e}))}async processAdFoxVastLoading(){var e;const{adConfig:t,adPlacementOptions:i}=this.params;let{adFoxParameters:n}=t;const{bids:r,containerId:o}=n;if(!r&&o){const e=new OA({adBreakType:this.params.adBreakType,adFoxParameters:Ii({},n,{containerId:o}),win:window,stats:this.params.stats});this.addDestroyHandler((()=>{e.destroy(kA)}));const i=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then((()=>{throw new Qu({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,timeout:3e3}})}))]);n=Ii({},n,i)}const a=ki(n,i),s=await Promise.race([vi({adFoxUrl:a,adFoxParameters:n,secureMode:t.secureMode,stats:this.params.stats}),this.loadingTimeoutPromise.then((()=>{throw new Qu({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adFoxParameters:n,adFoxUrl:a}})}))]),{vastBase64:l}=s;if(l){const e=await this.processBase64Vast(l).catch((e=>{throw new Qu({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,vastBase64:l,error:e,adFoxUrl:a}})}));return this.params.stats.log({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t}}),this.destroy(),e}const d=await this.processLoadingHBCreativeUsingCampaignId(n,s),c=yu(null!=(e=n.bids)?e:[],(e=>""+(e.campaign_id||"")===s.campaignId));return $d(c,(e=>{let{win_notice:t}=e;t&&$d(d.ads,(e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)}))})),this.params.stats.log({name:"AdFoxVastLoaded",data:{adConfig:t}}),this.destroy(),d}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:n}=this.params,{creatives:r={},creativeUrls:o={}}=e,{wrapperMaxCount:a}=n,s=r[i],l=o[i];if(!s&&!l)throw new Qu({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:n,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch((e=>{throw new Qu({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:n,vastBase64:s,error:e}})})):wA({url:l,loadParameters:Ee({adConfig:n,adBreakType:this.params.adBreakType,remainingLoadWrapperVastCount:a,isAdFox:!0,adPlacementOptions:Gd})}).catch((e=>{throw new Qu({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:n,vastUrl:l,error:e}})}))}processBase64Vast(e){let t;try{t=_e(e)}catch(cL){const t=$u(cL);throw new Qu({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:t}})}return PA({xmlString:t,loadParameters:Ee({adConfig:this.params.adConfig,adBreakType:this.params.adBreakType,remainingLoadWrapperVastCount:this.params.adConfig.wrapperMaxCount,isAdFox:!0,adPlacementOptions:Gd}),vastUrl:void 0})}}const GA=function e(t){return bc(t,((t,i)=>t.concat(tc(i)?e(i):i)),[])},qA=e=>{const t=e.match(/(.*?)[?#]/);return null===t?e:t[1]},XA=e=>{var t;const i=null==(t=I(e))?void 0:t.protocol;return i?"blob:"===i?e:Se(e)?he(window)?e:N(e,{[Up]:fu}):e:e},KA=e=>Oi({},e,{url:XA(e.url)}),JA="ad-creative-animation/javascript",ZA={MotionTailor:"motion_ad_creative",Survey:"survey"},QA=Li({},{InPage:"inpage",AdLoader:"loader",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},ZA),$A=Q(ZA,(e=>e+".js")),e_=Q($A,(e=>"https://"+hu+"/"+xh+"/"+e)),t_=Vi(e_),i_=Mi({},df,{url:e_.MotionTailor,type:JA}),n_=Bi({},df,{url:e_.Survey,type:JA}),r_=e=>{var t,i;const n=null==(t=e.adParametersObject)||null==(i=t.adParameters)?void 0:i.clientLegalInfo;if(n)return n;const r=$t(e.adParametersObject);if(!r)return;const{clientId:o,clientName:a,clientTin:s,clientAlternativeTin:l,clientType:d}=r;return{clientType:d,clientAlternativeTin:l,clientId:o,clientName:a,clientTin:s}},o_=["tickerData","interactiveElements","mediaFiles","adTitle","adTune"],a_=["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"],s_=["https://"+hu+"/pcode/media/vpaid-pythia-survey-embed.js"],l_=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&fh(t,(e=>R(Wh,Di(e.url))))},d_="about:blank",c_=e=>{let{additionalParams:t,videoContentId:i,videoContentName:n,videoPublisherId:r,videoPublisherName:o,videoGenreId:a,videoGenreName:s,musicArtistId:l,musicGenreId:d,musicGenreName:c}=e;const{ICOOKIE:u,TEST_IDS:h,AB_FLAGS:p}=gu;return rn({},nn(t),{"video-content-id":i,"video-content-name":n,"video-publisher-id":r,"video-publisher-name":o,"video-genre-id":tn(a),"video-genre-name":tn(s),"meta-request-index":void 0,"meta-impid-request-index":void 0,music_artist_id:l,"music-genre":d,"music-genre-name":c,"ad-session-id":Cm(),[Dc]:gu.hardcodedParams[Dc],[Nc]:gu.hardcodedParams[Nc],[Rc]:gu.hardcodedParams[Rc],[xc]:gu.hardcodedParams[xc],[Vc]:gu.hardcodedParams[Vc],[Lc]:gu.hardcodedParams[Lc],[Kp]:u,[Jp]:h,[Qp]:JSON.stringify(p),"pcode-version":void 0,"widget-version":void 0,uniformat:"true"})},u_=e=>{let{adConfig:t,win:i,repeatNumber:n,sessionId:r}=e;const{targetRef:o,width:a,height:s,tagsList:l,extParam:d,distrId:c,metaRequestIndex:u,metaImpIdRequestIndex:h}=t,p=i.document.referrer,m=S(i);let v;return o?(v=o,Ih.log({name:"UsingTargetRefApiParameter",data:{adConfig:t}})):m===d_?(v=p,Ih.log({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t}})):v=m,v=en(v),on({},c_(t),{"meta-request-index":void 0===u?void 0:String(u),"meta-impid-request-index":void 0===h?void 0:String(h),"repeat-number":Jt(n)?String(n):void 0,"target-ref":v,"page-ref":p,"video-width":a,"video-height":s,"tags-list":tn(l),"ext-param":d,"video-session-id":r,"distr-id":c,"enable-page-options":"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_REMOVE_ENABLE_PAGE_OPTIONS_PARAM_FROM_LINK")?void 0:Im,grab:gt(i)})},h_="Yabs Ad Server",p_="Yabs Ad CPC Server",m_=[h_,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],v_=["AdFox.Ru","ADFOX"],g_=document.createElement("video"),f_="function"===typeof g_.load?function(e,t){void 0===t&&(t=g_);try{return Boolean(t.canPlayType(e).replace(/no/,""))}catch(hb){const n=l(t.canPlayType),r=l(String.prototype.replace);return Ih.error({error:new Qu(hb,{code:"FAILED_TO_CHECK_VIDEO_CAN_PLAY_TYPE",details:{type:e,isCanPlayTypeNative:n,isStringReplaceNative:r}})}),!1}}:()=>!1,A_=["application/vnd.apple.mpegurl","application/x-mpegurl"];var __,y_;const b_=null!=(__=null!=(y_=window.URL)?y_:window.webkitURL)?__:{},S_=f(b_.createObjectURL)&&f(b_.revokeObjectURL)?b_:void 0,T_=su({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME"}),E_=[{width:180,height:270,alias:"180x270"},{width:240,height:360,alias:"240x360"},{width:400,height:225,alias:"400x225"},{width:270,height:400,alias:"270x400"},{width:360,height:360,alias:"scale_360"},{width:502,height:282,alias:"502x282"},{width:600,height:600,alias:"scale_600"},{width:480,height:852,alias:"480x852"},{width:720,height:720,alias:"scale_720"},{width:720,height:1080,alias:"720x1080"},{width:720,height:1280,alias:"720x1280"},{width:1200,height:1200,alias:"scale_1200"},{width:1920,height:1080,alias:"1920x1080"},{width:1080,height:1920,alias:"1080x1920"},{width:2400,height:2400,alias:"scale_2400"}];class w_{static getClosestImageByNamespace(e,t){if("get-vh"===e)return w_.getClosestSizesImage(E_,t)}static getClosestSizesImage(e,t){for(let i=0;i<e.length;i++){const n=e[i],{width:r,height:o}=n,a=t.width>=t.height,s=t.width<t.height,l=a&&r>=t.width,d=s&&o>=t.height;if(l||d)return n}}static getImageNamespace(e){return new URL(e).pathname.split("/")[1]}static isOrigImage(e){return be(e,"/orig")}static getReplacedFirstFrameUrl(e,t){if(!w_.isOrigImage(e))return e;const i=w_.getImageNamespace(e),n=w_.getClosestImageByNamespace(i,t);return n?w_.replaceUrlAlias(e,n.alias):e}static getPrefferedSizesFirstFrameImage(e,t){if(!w_.isOrigImage(e))return;const i=w_.getImageNamespace(e);return w_.getClosestImageByNamespace(i,t)||void 0}static replaceUrlAlias(e,t){return e.replace(/\/orig$/,"/"+t)}}class C_{constructor(e,t,i){this.mediaAd=e,this.adMediaFile=t,this.videoSlotSizes=i}preload(){const{firstFrameImages:e}=this.mediaAd.vastAd,t=An(e,this.adMediaFile,this.videoSlotSizes);t&&hn(t.url);const i=KA(this.adMediaFile),{type:n}=i;return(e=>!!m(e)&&!!f_(e)&&(e=>Boolean(S_)&&!pn(e))(e))(n)?(T_.call({callbackArguments:[{mediaFile:i,videoPreloader:this}]}),this.preloadToBlob(i).then((e=>({firstFrameImage:t,mediaFile:null!=e?e:i})))):Promise.reject(new Error(n+" cannot be preloaded"))}cancel(){void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0)}destroy(){this.cancel(),s(this.blobUrl)&&(null==S_||S_.revokeObjectURL(this.blobUrl))}async preloadToBlob(e){const{response:t}=await(i={method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e},new Promise(((e,t)=>{re(un({},i,{onSuccess:e,onError:t}))})));var i;return this.blobUrl=null==S_?void 0:S_.createObjectURL(t),_n({},e,{url:this.blobUrl})}}const P_=e=>!(!(e=>{const t=e.document;return"documentMode"in t&&"undefined"!==typeof t.documentMode})(e)&&!(e=>{const t=e.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0})(e)),k_=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Bu(e))(window),I_=k_?"ES2017":"ES5",O_=e=>{let{bundleName:t,win:i,ecmaVersion:n,version:r,preferLightBundle:o}=e;const a=Zh[n],s=oh(i),l=(d=o&&"AdLoader"===t,QA[t]+(d?".light":"")+".bundle.js");var d;const c=""+ke(r)+a+"/"+l;return f(s)?s(c):c},D_="utf-8",N_={onBeforeLoad:e=>{((e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t})(e,Tn({},De(gu,Tu)))}},R_=e=>{(e=>{e.crossOrigin="anonymous"})(e),null==N_.onBeforeLoad||N_.onBeforeLoad(e)},x_=e=>{let{src:t,win:i}=e;return wn({src:t,onBeforeLoad:R_,win:i})},V_="YS Text Variable, YS Text, Arial, sans-serif",L_=1e3;class M_ extends wh{constructor(){super(),this.isStarted=!1,this.spent=0,this.callbacks=[],this.timeoutId=0,this.recalculateTimeAndDispatchCallbacks=()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)},this.addDestroyHandler((()=>{this.stop()}))}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise((t=>{this.addCallback(e,t)}))}addCallbackToArray(e,t){const i={time:e,callback:t};for(let n=0;n<this.callbacks.length;n++){const{time:t}=this.callbacks[n];if(t>=e)return void this.callbacks.splice(n,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=sn(this.callbacks,(e=>{let{time:t}=e;return t<=this.spent}));this.callbacks=t,$d(e,(e=>{let{callback:t}=e;t()}))}}const B_=Cn({},op,{display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:V_,padding:"14px",backgroundColor:"#f4f6fb",fontSize:"14px",color:"#a3acbf",boxSizing:"border-box"}),F_={fontWeight:"600",fontSize:"16px",color:"#3a3d40",textAlign:"center"},U_={listStyle:"none",margin:"0px",padding:"0px",alignSelf:"flex-start",width:"100%"},H_=Pn({},op,{display:"flex",justifyContent:"center",alignItems:"center",fontFamily:V_,backgroundColor:"#fff",fontSize:"14px",color:"#000",backgroundImage:'url("/image-stub?width=100&height=100&size=50&color=9fa8a3")',backgroundRepeat:"repeat",backgroundPosition:"0 0"}),z_=15,j_="https://"+hu+"/"+Rh+"/1_0/test-ad-creative.js",W_="https://"+cu+"/ads/ad-creative-mock-for-tests.js",Y_=(e,t)=>e+"_"+t;var G_=e(5878);class q_ extends wh{constructor(e){let{win:t,onReport:i}=e;super();const n=t;if(void 0===n.ReportingObserver)return;const r=new n.ReportingObserver((e=>{i({reportSourceEvent:"callback",reports:e,records:r.takeRecords()})}),{buffered:!0});r.observe();const o=r.takeRecords();o.length&&i({reportSourceEvent:"buffered",reports:[],records:o}),this.addDestroyHandler(Ne({element:t,eventName:"beforeunload",listener:()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler((()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),r.disconnect()}))}}const X_=I(Uu).hostname,K_=250;let J_=0;const Z_=[],Q_=(e,t)=>{const i=e.contentDocument.body;return Dn((()=>{var e;(null==(e=i.ownerDocument)||!e.defaultView)&&t()}))};class $_ extends wh{static create(e){const{parentElement:t,attributes:i,scope:n}=e,r=Nn(t,i);if(!r)throw In({scope:n,errorType:"NOT_CREATED",error:new Error,details:void 0});return new $_(xn({},e,{iframe:r}))}static createHidden(e){const{parentElement:t,attributes:i,scope:n}=e,r=Rn(t,i);if(!r)throw In({scope:n,errorType:"NOT_CREATED",error:new Error,details:void 0});return new $_(xn({},e,{iframe:r}))}constructor(e){super();const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler((()=>{Re(i)})),this.addDestroyHandler(Q_(this.iframe,(()=>{this.destroy(In({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))}))),this.addDestroyHandler(On(this.window,((i,n,r)=>{const o="PRELOADING_IFRAME"===e.scope?void 0:e.provideLogDetails?e.provideLogDetails():void 0;Ih.error({error:In({scope:t,errorType:n,error:i,details:xn({},o,{error:i,data:r})})})})))}}su({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME"});class ey extends wh{constructor(e){super(),this.animationMediaFile=e,this.addDestroyHandler((()=>{this.cancel()}))}preload(){const e=this.createHiddenIframeForPreloading().contentWindow,{promise:t,teardown:i}=kn({animationMediaFile:this.animationMediaFile,win:e});return this.loadAdCreativeMediaFileTeardown=i,t.then((e=>({initAdCreative:e})))}cancel(){void 0!==this.loadAdCreativeMediaFileTeardown&&(this.loadAdCreativeMediaFileTeardown(),this.loadAdCreativeMediaFileTeardown=void 0),void 0!==this.friendlyIFrame&&(this.friendlyIFrame.destroy(void 0),this.friendlyIFrame=void 0)}createHiddenIframeForPreloading(){const e=$_.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME"});return this.friendlyIFrame=e,e.iframe}}const ty=e=>{let{src:t,win:i}=e;const{promise:n,teardown:r}=wn({src:t,win:i,onBeforeLoad:Y});return{promise:n.then((()=>i.getVPAIDAd)),teardown:r}},iy=["preloadTimeout"];class ny extends wh{constructor(e,t,i){super(),this.parsedPreloadParams=e,this.jsMediaFile=t,this.vastAd=i,this.addDestroyHandler((()=>{this.cancel()}))}async preload(e){var t;let{secureMode:i}=e;const n=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(this.parsedPreloadParams,iy),r=this.jsMediaFile,o=this.createHiddenIframeForPreloading().contentWindow,a=r.url;let s,l;if(Boolean("ForceSafe"===i||"Safe"===i&&!_h(a)))s=Op({url:a,withCredentials:!1}),l=Y;else{const e=ty({src:a,win:o});s=e.promise,l=e.teardown}this.loadVPAIDCreativeModuleTeardown=l;try{await s}catch(cL){throw new Qu(cL,{code:"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"})}return"function"!==typeof(null==(t=o.Ya)?void 0:t.preloadVPAIDAd)?{vpaidWindow:o}:o.Ya.preloadVPAIDAd(Vn({},n,{creativeData:{AdParameters:this.vastAd.adParameters}})).readyPromise.then((e=>({creativeData:e,vpaidWindow:o}))).catch((e=>({vpaidWindow:o,vpaidPreloadError:e})))}cancel(){void 0!==this.loadVPAIDCreativeModuleTeardown&&(this.loadVPAIDCreativeModuleTeardown(),this.loadVPAIDCreativeModuleTeardown=void 0),void 0!==this.preloadingIframe&&(this.preloadingIframe.destroy(void 0),this.preloadingIframe=void 0)}createHiddenIframeForPreloading(){const e=$_.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME"});return this.preloadingIframe=e,e.iframe}}class ry extends wh{constructor(e){super(),this.abortController=new AbortController,this.url=e,this.addDestroyHandler((()=>{this.cancel()}))}async preload(){return await function(e){let{url:t,abortController:i}=e;return new Promise(((e,n)=>{const r=new Image;if(r.crossOrigin=he(window)?"use-credentials":"anonymous",r.src=t,r.complete)return void e(r);i&&i.signal.addEventListener("abort",(()=>{r.src="",n()}));const o=()=>{r.removeEventListener("load",a),r.removeEventListener("error",s)},a=()=>{o(),e(r)},s=e=>{o(),n(e)};r.addEventListener("load",a,{signal:null==i?void 0:i.signal}),r.addEventListener("error",s,{signal:null==i?void 0:i.signal})}))}({url:this.url,abortController:this.abortController}),{}}cancel(){this.abortController.abort()}}const oy="TRUE"===Tu.getFlagValueAndActivateTestId("DISABLE_FILTER_FOR_CHROME_110_ON_WINDOWS"),ay=(Ln({},gu.AB_FLAGS),Ln({},gu.AB_FLAGS)),sy=e=>ay[e],ly="TRUE"===sy("ENABLE_H265_CODECS")||void 0;let dy;const cy=e=>{if(dy)return dy;try{const t=Mn(e);let i,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(i=/\brv[ :]+(\d+)/g.exec(t)||[],dy={name:"IE",version:i[1]||""},dy):"Chrome"===n[1]&&(i=t.match(/\b(OPR|Edge)\/(\d+)/),null!=i)?(dy={name:i[1].replace("OPR","Opera"),version:i[2]},dy):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(i=t.match(/version\/(\d+)/i))&&n.splice(1,1,i[1]),dy={name:n[0].toLowerCase(),version:n[1]},dy)}catch(hb){}return dy={name:"unknown",version:"unknown"},dy},uy="application/dash+xml",hy="video/webm",py=e=>{let{type:t,codec:i}=e;return i?t+'; codecs="'+i+'"':t},my={},vy=e=>{switch(e){case"h264":case"hevc":case"mpeg4":return(e=>{my[e]||(my[e]=!0,Ih.log({name:"WrongRequestMediaFileCodec",sensors:{codec:e}}))})(e),"avc1.4D401E,mp4a.40.2";default:return e}},gy=1e3,fy=a((()=>{Ih.log({name:"MediaFileStringSize"})})),Ay=(e=>{const t=Wn(window);return!!t&&Boolean(Fe((()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"'))))})(),_y=Wn(),yy=!Tc&&f_("video/webm"),by=Ay&&yy,Sy=_y&&l(_y),Ty=void 0!==window.AbortController&&void 0!==window.fetch&&l(AbortController)&&l(fetch),Ey=Sy&&Ty,wy="video/mp4",Cy=1e4,Py=a((e=>{Ih.log({name:"InvalidMediaFileBitrate",data:{mediaFile:e}})})),ky=a((e=>{Ih.log({name:"InvalidMediaFileCodec",data:{mediaFile:e}})})),Iy=a((e=>{Ih.log({name:"InvalidMediaFileHasAudio",data:{mediaFile:e}})})),Oy=a((e=>{Ih.log({name:"InvalidMediaFileWidthHeight",data:{mediaFile:e}})})),Dy=a((e=>{Ih.log({name:"InvalidMediaFileVmafAvg",data:{mediaFile:e}})})),Ny=a((e=>{Ih.log({name:"InvalidMediaFileTypeEmpty",data:{mediaFile:e}})})),Ry={bitratePriorityFactor:1e-6,mediaFileTypePriorities:{webm:1,mp4:2,unknown:3,unset:4,hls:1e4},canPlayType:f_,perfectVpr:1.3},xy=(e,t,i,n,r,o)=>{const a=e?n:t,s=e?i:r;return{width:a,height:s,top:(o.height-s)/2,left:(o.width-a)/2}},Vy=e=>{const{image:t,boundingRectangle:{width:i,height:n},scaleForHorizontal:r=1,scaleForVertical:o=1,pixelRatio:a,stretch:s}=e,l=t.width,d=t.height,c=l/d,u=c>i/n,h=c>1?r:o,p=h*(i<l||s?i:l),m=h*(n<d||s?n:d),v=l*(m/d),g=d*(p/l);return{width:u?p:v,height:u?g:m,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:xy(u,p,m,v,g,{width:i,height:n}),coeff:l*d/(i*n*a),isHorizontal:c>1,smartCenters:t.smartCenters}},Ly=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],n=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),r=[];for(const o of i)if(o.width&&o.height&&o.url){const t=Qn({},e,{pixelRatio:n,image:o});r.push(Vy(t))}r.sort(((e,t)=>e.coeff-t.coeff));for(const o of r)if(o.coeff>1)return o;return null!=(t=r[r.length-1])?t:{}},My=e=>{var t;return null==(t=function(e){let{size:t,images:i}=e;const{width:n,height:r}=t,o=sh(i,(e=>{if(tc(e)){const[t,i,n,r]=e;return{url:t,width:parseInt(i,10),height:parseInt(n,10),smartCenters:r?r["smart-centers"]:[]}}return e}));return Ly({boundingRectangle:{width:n,height:r},images:o,stretch:!0})}(e))?void 0:t.url};class By extends wh{constructor(e){super(),this.isCancelled=!1,this._isPreloaded=!1,this.preloaders=[];const{params:t,contentType:i,options:n,mediaAd:r,stats:o,secureMode:a}=e;this.parsedParams=function(e){const{videoSlot:t,viewMode:i="normal",preloadJS:n=!0,preloadVideo:r=!0}=e,{width:o=t.clientWidth,height:a=t.clientHeight}=e,s=Bt(e.desiredBitrate);let{preloadTimeout:l}=e;return("number"!==typeof l||l>bf)&&(l=bf),{preloadTimeout:l,width:o,height:a,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:n,preloadVideo:r}}(t),this.contentType=i,this.getMediaFiles=n.getMediaFiles,this.getJSMediaFile=n.getJSMediaFile,this.getVastAd=n.getVastAd,this.mediaAd=r,this.stats=o,this.secureMode=a}get isPreloaded(){return this._isPreloaded}get promise(){var e;if(!this._promise&&null!=(e=this._preloadingError)&&e.code){var t;const e=null==(t=this._preloadingError)?void 0:t.code;return this._preloadingError=void 0,Promise.resolve(e)}return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}get preloadedFirstFramePicture(){return this._preloadedFirstFramePicture}cancelPreloading(e){if(this.isCancelled)return;if(this.isCancelled=!0,this.isPreloaded)return;this._promise&&this.stats.log({name:"PreloadCancelled",data:{reason:e}}),this._promise=void 0,this._vpaidWindow=void 0,this._preloadedVpaidAdParameters=void 0,this._preloadedFirstFramePicture=void 0,this._preloadedAdCreativeInitFunction=void 0,$d(this.preloaders,(e=>e.cancel()));const{videoSlot:t}=this.parsedParams;if(this.isAvaliablePreloadForDashMimeType(t)&&m(this.prioritisedMediaFileUrl))try{t.yaspReleaseSrc(this.prioritisedMediaFileUrl)}catch(i){}}destroy(e){super.destroy(e),this.isCancelled||this.cancelPreloading("Destroy"),$d(this.preloaders,(e=>e.destroy())),this.preloaders.length=0}async preload(){const e=Ch(this.parsedParams.preloadTimeout,window),t=e.promise.then((()=>{this.cancelPreloading("Timeout"),this._preloadingError=new Qu({code:"CANNOT_PRELOAD_BECAUSE_TIMEOUT"})}));this._promise=this._preload().then((()=>{e.clear()})),await Promise.race([this._promise,t]),this._isPreloaded=!0}async _preload(){try{const{preloadJS:t,preloadVideo:i}=this.parsedParams,n=this.getVastAd();if(Ji(n)){var e;const{parsed:{videoMediaFiles:r,animationMediaFile:o,adParameters:a}}=cn(null!=(e=n.adParametersObject)?e:n.adParameters),s=[];if(i&&r.length>0){const e=this._preloadVideoFile(r,this.parsedParams);s.push(e)}if(t&&o){const e=this._preloadAdCreative(o);s.push(e)}const l=a?function(e){var t;const i=JSON.parse(e),n=void 0===(r=$n(i))?[]:sh(r,(e=>{var t;const[i,n,r,o]=e;return{url:i,width:parseInt(n,10),height:parseInt(r,10),smartCenters:null!=(t=null==o?void 0:o["smart-centers"])?t:[]}}));var r;const o=null==(t=sA(i))?void 0:t.multicardImages;return null!=o&&o.length?o.slice(0,2):null!=n&&n.length?[n]:[]}(a):void 0;if(l&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_PRELOADING_IMAGES")){const e=this._preloadImageFiles(l,this.parsedParams);s.push(e)}return void(await Promise.all(s))}if(i&&"video"===this.contentType)return await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams);if(t&&"js"===this.contentType)return await this._preloadVpaidCreative(this.parsedParams)}catch(cL){if(this.isCancelled)return;const t=ae(cL)?cL:new Qu(cL,{code:"CANNOT_PRELOAD"});this.stats.error({error:t}),an(cL),this._preloadingError=t,this.destroy("Error")}}async _preloadAdCreative(e){const t=new ey(e);this.preloaders.push(t);try{const e=await t.preload();this._preloadedAdCreativeInitFunction=e.initAdCreative}catch(cL){if(ae(cL))throw cL;throw new Qu(cL,{code:"CANNOT_PRELOAD_AD_CREATIVE"})}}async _preloadVpaidCreative(e){var t,i;const n=this.getJSMediaFile();if(!n)return;const r=new ny(e,n,this.getVastAd());let o;this.preloaders.push(r);try{o=await r.preload({secureMode:this.secureMode})}catch(cL){const t=ae(cL)?cL:new Qu(cL,{code:"CANNOT_PRELOAD_VPAID_CREATIVE"});return this.stats.error({error:t}),void an(cL)}void 0!==(null==(t=o)?void 0:t.vpaidPreloadError)&&this.stats.error({error:new Qu(o.vpaidPreloadError,{code:"CANNOT_PRELOAD_VPAID_CREATIVE"})}),this._vpaidWindow=o.vpaidWindow,this._preloadedVpaidAdParameters=null==(i=o.creativeData)?void 0:i.AdParameters}async _preloadVideoFile(e,t){const{adBreak:i}=this.mediaAd,n=this.mediaAd.getAdPodId(),{width:r,height:o,desiredBitrate:a,videoSlot:s}=t,{prioritisedMediaFile:l}=Zn(e,er({container:{width:r,height:o},desiredBitrate:a,videoSlot:s,isVideoADB:he(window)},Ry),{adBreak:i,adPodId:n,initiator:"PreloadingController"});if(!l)return;if(l.type===uy&&this.isAvaliablePreloadForDashMimeType(s)){const e=KA(l);this.prioritisedMediaFileUrl=e.url;const t=Date.now();this.stats.log({name:"MediaFileDashXmlPreload_Start",data:{url:e.url}});try{s.yaspPreloadSrc(e.url,{videoContentId:""}).then((()=>{this.stats.log({name:"MediaFileDashXmlPreload_Success",data:{url:e.url},values:{duration:Date.now()-t}})})).catch((()=>{this.stats.log({name:"MediaFileDashXmlPreload_Failed",data:{url:e.url},values:{duration:Date.now()-t}})})),this.addDestroyHandler((()=>{this.isAvaliablePreloadForDashMimeType(s)&&s.yaspReleaseSrc(e.url)}))}catch(cL){const n=$u(cL);this.stats.log({name:"MediaFileDashXmlPreload_ExecutionError",data:{url:e.url,message:n.message},values:{duration:Date.now()-t}})}return}if(pn(l.type))return;const d={width:t.width,height:t.height},c=new C_(this.mediaAd,l,d);let u;this.preloaders.push(c),this.preloaders.push(c);try{const e=await c.preload();u=e.mediaFile,this._preloadedFirstFramePicture=e.firstFrameImage}catch(cL){if(ae(cL))throw cL;throw new Qu(cL,{code:"CANNOT_PRELOAD_VIDEO_FILE"})}this._preloadedVideoFile=u}isAvaliablePreloadForDashMimeType(e){return Boolean(e)&&f(e.yaspPreloadSrc)&&f(e.yaspReleaseSrc)}async _preloadImageFiles(e,t){const{width:i,height:n}=t,r=[];$d(e,(e=>{const t=My({size:{width:i,height:n},images:e});if(!t)return;const o=new ry(t);this.preloaders.push(o),r.push(o.preload())}));try{await Promise.all(r)}catch(cL){if(ae(cL))throw cL;throw new Qu(cL,{code:"CANNOT_PRELOAD_IMAGE_FILE"})}}}const Fy={width:void 0,height:void 0};class Uy{constructor(){this.x=NaN,this.y=NaN,this.width=NaN,this.height=NaN}static fromVastIcon(e){const t=new Uy;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class Hy{get contentType(){return this.getIsConvertedFromVideoVast()?"video":this.getJSMediaFile()?"js":"video"}constructor(e,t,i,n){this.duration=0,this.getMediaFiles=()=>Ri(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getAdContentDimensions=()=>function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:n,adParameters:r,adParametersObject:o}=t;if(Ji(t)){const{parsed:{videoMediaFiles:e}}=cn(null!=o?o:r);return 0===e.length?Fy:tr(e)}const a=ir(n,i);return tr(a?[a]:Ri(n,i))}({vastAd:this.vastAd,secureMode:this.adConfig.secureMode}),this.getJSMediaFile=()=>ir(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getIsConvertedFromVideoVast=()=>{const{vastAd:{originallyConvertedFromVast:e}}=this;return void 0!==e&&xi({secureMode:this.adConfig.secureMode,vastAd:e})},this.getPreloadedAdCreativeInitFunction=()=>{var e;return null==(e=this.preloadingController)?void 0:e.preloadedAdCreativeInitFunction},this.adBreak=e,this.vastAd=t,this.adConfig=i,this.stats=n,this.icons=sh(this.vastAd.icons,(e=>Uy.fromVastIcon(e))),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}getAdPodId(){return or(this.vastAd)||""}trackError(e){qt(e,this.vastAd.trackingEvents.error)}hasMediaFiles(){var e;return(null==(e=this.getMediaFiles())?void 0:e.length)>0}cancelPreloading(e){if(this.preloadingController){if("Destroy"===e)return this.preloadingController.destroy("AdStoreDestroy"),void(this.preloadingController=void 0);this.preloadingController.isPreloaded||(this.preloadingController.cancelPreloading(e),this.preloadingController.destroy("CancelPreloading"),this.preloadingController=void 0)}}async preload(e){if(!this.preloadingController){const{secureMode:t}=this.adConfig;this.preloadingController=new By({params:e,contentType:this.contentType,options:{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd},mediaAd:this,stats:this.stats,secureMode:t}),await this.preloadingController.preload()}if(void 0!==this.preloadingController&&null!==this.preloadingController)return await this.preloadingController.promise}getIfIsRequiredHtmlControls(){return this.vastAd.adSystem===h_||this.vastAd.adSystem===p_&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_USE_NEW_DIRECT_AD_SYSTEM_VALUE")}getIsIndependentOnVideoElement(){return!!function(e){let{adParametersObject:t}=e;const i=null==t?void 0:t.mediaFiles,r=Array.isArray(i)?i[0]:void 0;return n(r)&&r.url===i_.url}(this.vastAd)||(this.getJSMediaFile(),!1)}getIsYandexCreative(){return nr(this.vastAd)}getIsAdFoxDirectSell(){return rr(this.vastAd)}getPreloadVpaidWindow(){var e;return null==(e=this.preloadingController)?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVideoFile}getPreloadedFirstFramePicture(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedFirstFramePicture}getPreloadedVpaidAdParameters(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(ah("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&!this.vastAd.imhoParams&&!Ji(this.vastAd)&&!Se(e.url)}}const zy=()=>iu.__VAS_TEST_UTILS_CONTEXT__,jy=()=>{if(!gu.isDebugEnabled)return;const e=zy();if(null==e||!e.getVast)return;const t=e.getVast();return Ih.log({name:"LoadInlineTestUtilsVast",data:{vast:t},probability:Hu}),t},Wy=3,Yy=0,Gy={impId:Yy,sessionId:""},qy={adTagURI:"",adFoxParameters:void 0,inlineVast:void 0},Xy=hr({adType:"inpage",replayMode:null,stick:!1},qy,Gy),Ky={bufferEmptyLimit:10,bufferFullTimeout:1e4,videoTimeout:1e4,vpaidTimeout:1e4},Jy=0,Zy=0,Qy=pr({adType:"midroll",broadcastReplace:!1},qy,{repeatAfter:Zy,maxRepeatCount:Jy,repeatNumber:0,timeOffset:10},Gy,Ky),$y=mr({adType:"postroll"},qy,Gy,Ky),eb=vr({adType:"preroll"},qy,Gy,Ky),tb={inpage:Xy,preroll:eb,midroll:Qy,postroll:$y,postPauseroll:$y,inroll:$y},ib=c(tb),nb=["width","height","type","codec","bitrate","minBitrate","maxBitrate","vmafAvg","hasAudio","url"];var rb,ob,ab,sb,lb,db,cb,ub,hb={},pb=[],mb=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;rb=pb.slice,ob={__e:function(e,t){for(var i,n,r;t=t.__;)if((i=t.__c)&&!i.__)try{if((n=i.constructor)&&null!=n.getDerivedStateFromError&&(i.setState(n.getDerivedStateFromError(e)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e),r=i.__d),r)return i.__E=i}catch(t){e=t}throw e}},ab=0,sb=function(e){return null!=e&&void 0===e.constructor},Tr.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ar({},this.state),"function"==typeof e&&(e=e(Ar({},i),this.props)),e&&Ar(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),Cr(this))},Tr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Cr(this))},Tr.prototype.render=Sr,lb=[],db="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pr.__r=0,ub=0;var vb,gb,fb,Ab=0,_b=[],yb=ob.__b,bb=ob.__r,Sb=ob.diffed,Tb=ob.__c,Eb=ob.unmount;ob.__b=function(e){gb=null,yb&&yb(e)},ob.__r=function(e){bb&&bb(e),vb=0;var t=(gb=e.__c).__H;t&&(t.__h.forEach($r),t.__h.forEach(eo),t.__h=[])},ob.diffed=function(e){Sb&&Sb(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==_b.push(t)&&fb===ob.requestAnimationFrame||((fb=ob.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(n),Cb&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(i,100);Cb&&(t=requestAnimationFrame(i))})(Qr)),gb=void 0},ob.__c=function(e,t){t.some((function(e){try{e.__h.forEach($r),e.__h=e.__h.filter((function(e){return!e.__||eo(e)}))}catch(cb){t.some((function(e){e.__h&&(e.__h=[])})),t=[],ob.__e(cb,e.__v)}})),Tb&&Tb(e,t)},ob.unmount=function(e){Eb&&Eb(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach($r)}catch(e){ob.__e(e,t.__v)}};var wb,Cb="function"==typeof requestAnimationFrame,Pb=Symbol.for("preact-signals"),kb=void 0,Ib=void 0,Ob=0,Db=0,Nb=0;oo.prototype.brand=Pb,oo.prototype.h=function(){return!0},oo.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},oo.prototype.U=function(e){if(void 0!==this.t){var t=e.e,i=e.x;void 0!==t&&(t.x=i,e.e=void 0),void 0!==i&&(i.e=t,e.x=void 0),e===this.t&&(this.t=i)}},oo.prototype.subscribe=function(e){var t=this;return go((function(){var i=t.value,n=kb;kb=void 0;try{e(i)}finally{kb=n}}))},oo.prototype.valueOf=function(){return this.value},oo.prototype.toString=function(){return this.value+""},oo.prototype.toJSON=function(){return this.value},oo.prototype.peek=function(){var e=kb;kb=void 0;try{return this.value}finally{kb=e}},Object.defineProperty(oo.prototype,"value",{get:function(){var e=ro(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(Db>100)throw new Error("Cycle detected");this.v=e,this.i++,Nb++,Ob++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{no()}}}}),(uo.prototype=new oo).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===Nb)return!0;if(this.g=Nb,this.f|=1,this.i>0&&!so(this))return this.f&=-2,!0;var e=kb;try{lo(this),kb=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return kb=e,co(this),this.f&=-2,!0},uo.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}oo.prototype.S.call(this,e)},uo.prototype.U=function(e){if(void 0!==this.t&&(oo.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},uo.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(uo.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=ro(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),vo.prototype.c=function(){var e=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},vo.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,ho(this),lo(this),Ob++;var e=kb;return kb=this,mo.bind(this,e)},vo.prototype.N=function(){2&this.f||(this.f|=2,this.o=Ib,Ib=this)},vo.prototype.d=function(){this.f|=8,1&this.f||po(this)},_o.displayName="_st",Object.defineProperties(oo.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:_o},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),fo("__b",(function(e,t){if("string"==typeof t.type){var i,n=t.props;for(var r in n)if("children"!==r){var o=n[r];o instanceof oo&&(i||(t.__np=i={}),i[r]=o,n[r]=o.peek())}}e(t)})),fo("__r",(function(e,t){Ao();var i,n=t.__c;n&&(n.__$f&=-2,void 0===(i=n.__$u)&&(n.__$u=i=function(e){var t;return go((function(){t=this})),t.c=function(){n.__$f|=1,n.setState({})},t}())),Ao(i),e(t)})),fo("__e",(function(e,t,i,n){Ao(),e(t,i,n)})),fo("diffed",(function(e,t){var i;if(Ao(),"string"==typeof t.type&&(i=t.__e)){var n=t.__np,r=t.props;if(n){var o=i.U;if(o)for(var a in o){var s=o[a];void 0===s||a in n||(s.d(),o[a]=void 0)}else i.U=o={};for(var l in n){var d=o[l],c=n[l];void 0===d?(d=yo(i,l,c,r),o[l]=d):d.o(c,r)}}}e(t)})),fo("unmount",(function(e,t){if("string"==typeof t.type){var i=t.__e;if(i){var n=i.U;if(n)for(var r in i.U=void 0,n){var o=n[r];o&&o.d()}}}else{var a=t.__c;if(a){var s=a.__$u;s&&(a.__$u=void 0,s.d())}}e(t)})),fo("__h",(function(e,t,i,n){(n<3||9===n)&&(t.__$f|=2),e(t,i,n)})),Tr.prototype.shouldComponentUpdate=function(e,t){var i=this.__$u;if(!(i&&void 0!==i.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var n in t)return!0;for(var r in e)if("__source"!==r&&e[r]!==this.props[r])return!0;for(var o in this.props)if(!(o in e))return!0;return!1};const Rb=e=>{try{const t=function(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}(e);return"display"in t}catch(hb){return!1}},xb=1,Vb=0,Lb=2,Mb=0,Bb={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},Fb={unpleasantContentAd:{reason:24,action:2},politicalAd:{reason:31,action:4},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},Ub={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},Hb=wo({},{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0},advertiserInfo:{reason:20,action:0},recommendationRules:{reason:28,action:0}},Bb,Fb,Ub),zb={abuseUrl:"",legalText:void 0},jb="https://"+cu+"/secure-ads",Wb="https://"+cu+"/ads/advertiser_info",Yb="https://"+cu+"/legal/recommendations/#index__direct",Gb="https://"+cu+"/legal/recommendations/#index__adfox",qb={isAvailable:!1},Xb=!1,Kb=!1,Jb=!1,Zb={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:-2,getAdVolume:0,getAdIcons:Kb,getAdExpanded:Xb,getAdHeight:0,getAdWidth:0,getAdLinear:!0,getAdSkippableState:Jb},Qb=Co({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),$b=Co({},Zb,Qb),eS={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},tS={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},iS={adVolume:"setAdVolume"},nS=null!==g_.onwaiting||Tc?(e,t)=>{let i=0,n=!1;return Dn((()=>{var r;const o=e.currentTime,a=e.duration,{currentTime:s}=e,l=1===(null==(r=e.buffered)?void 0:r.length)&&s>e.buffered.end(0);if(l&&!n)return n=!0,void t(n);if(l&&n)return;const d=1/K_;if(!e.paused){const e=i+d;n?o>e&&(t(!1),n=!1):o<e&&o!==a&&(t(!0),n=!0)}i=o}))}:(e,t)=>{let i=!1;const n=Ne({element:e,eventName:"pause",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),r=Ne({element:e,eventName:"waiting",listener:()=>{i||(i=!0,t(!0))},options:{passive:!0}}),o=Ne({element:e,eventName:"playing",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),a=Ne({element:e,eventName:"canplay",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}});return()=>{n(),r(),o(),a()}};class rS extends wh{constructor(){super(),this.isPlaying=new Yh(!1),this.isBuffering=new Yh(!1),this.bufferingTimeCount=new M_,this.addDestroyHandler((()=>{this.bufferingTimeCount.destroy()}))}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(nS(e,(e=>{this.isBuffering.dispatch(e)}))),this.addDestroyHandler(Po([this.isPlaying,this.isBuffering],((e,t)=>e&&t),(e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()})))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/L_}}const oS={AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdPaused:"pause",AdPlaying:"resume"},aS={adloox:"AdCreativeInitMeasurer_adloox",adriver:"AdCreativeInitMeasurer_adriver",moat:"AdCreativeInitMeasurer_moat",weborama:"AdCreativeInitMeasurer_weborama",adserving:"AdCreativeInitMeasurer_adserving"},sS=["impression"],lS={adloox:{impression:"TrackingEventWithMeasurer_impression_adloox"},weborama:{impression:"TrackingEventWithMeasurer_impression_weborama"},moat:{impression:"TrackingEventWithMeasurer_impression_moat"},adriver:{impression:"TrackingEventWithMeasurer_impression_adriver"},adserving:{impression:"TrackingEventWithMeasurer_impression_adserving"},yandexTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_yandexTestMeasurer"},externalTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_externalTestMeasurer"}},dS=c({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),cS=Boolean(eh),uS=e=>Math.round(e);class hS{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class pS{constructor(e){this.stopped=!0,this.lastNow=0,this.lastKnockTime=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0,this.distributionFunction=e,this.clock=new hS}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout((()=>{this.knock(this.lastNow+this.lastTimeout)}),this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout((()=>{this.knock(e+t)}),t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const mS={height:0,width:0},vS=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],gS={UNKNOWN:0,ETHERNET:1,WIFI:2,CELL_2G:3,CELL_3G:4},fS=e=>{const i=e.currentTime,n=function(e){const i=[];if(!Boolean(e))return i;if(!Boolean(e.buffered))return i;if(!t(e.buffered.length)||!f(e.buffered.start)||!f(e.buffered.end))return i;for(let t=0;t<e.buffered.length;t++)i.push({start:e.buffered.start(t),end:e.buffered.end(t)});return function(e){if(e.length<=1)return e;const t=sh(e,(e=>{let{start:t,end:i}=e;return{start:t,end:i}})).sort(((e,t)=>e.start-t.start)),i=[t[0]];for(let n=1;n<t.length;n++){const e=t[n],r=i[i.length-1];r.end<e.start?i.push(e):r.end<e.end&&(r.end=e.end)}return i}(i)}(e),r=(o=i,qc(n,(e=>{let{start:t,end:i}=e;return t<=o&&o<=i})));var o;return r?r.end-i:0},AS=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)}(),_S={PAGEURL:encodeURIComponent(ee(document).location),Y_DEVICE_TYPE:AS?"mobile":"desktop",Y_AD_SESSION_ID:wm()},yS=.5;class bS{constructor(){var e=this;this.events={},this.subscribe=(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let n=this.events[t];void 0===n&&(n=this.events[t]=[]),n.push({callback:e,context:i})},this.unsubscribe=(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=yu(i,(t=>{let{callback:i}=t;return e!==i})))},this.dispatch=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if("string"!==typeof t)throw new Error("Event name MUST be a string");const o=e.events[t];o&&$d(o,(e=>{let{callback:i,context:r}=e;try{i.apply(r,n)}catch(hb){Ih.error({error:new Qu(hb,{code:"VPAID_EVENT_BUS_CALLBACK_ERROR",details:{vpaidEventName:t,params:n}})})}}))}}}const SS="TRUE"===Tu.getFlagValueAndActivateTestId("VAS_ADLOOX_INIT_RU")?"https://pixel.adlooxtracking.ru/ads/ic.php":"https://pixel.adlooxtracking.com/ads/ic.php",TS={id1:"",id2:"",id5:"",id7:"",id9:""},ES="https://"+pu+"/verify_adloox?platformid=3&platform=206&plat=206",wS=xu.split("/"),CS=wS[wS.length-1],{initMoatTracking:PS}=e(9503),kS={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},IS="yandexhostedvideo786420153684",OS={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r}=e;const o=i.ownerDocument.defaultView,a=(e=>"https://"+hu+"/pcode-static/measurers/"+e+"/video/adriver.js")(r);await Sn({win:o,src:a}).promise,new o.AdriverViewabilityYandexVPAID(Fo({},n,{ya_custom:"ADSID="+fu}),i,t),ah("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:n,onMeasurerError:r,yastaticVersion:o,verifyLogAdditionalData:a=""}=e;const s=PS(i,Ho({},n,{zMoatADID:a,slicer1:CS,partnerCode:IS}),t.getAdDuration(),IS,o);$d(c(kS),(e=>{t.subscribe((()=>{try{s.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(cL){r(new Qu({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:cL,eventName:e}}))}}),e)}))},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:n,onMeasurerError:r,yastaticVersion:o,verifyLogAdditionalData:a=""}=e;var s;const l=Bo({},n,{targetelt:((s=i).id||(s.id=A(8)),s.id),urli:ES,urlv:ES,urle:ES},{id8:a}),d=bc(pe(l),((e,t,i)=>{let[n,r]=t;return"string"!==typeof r?e:e+(0===i?"#":"&")+n+"="+encodeURIComponent(r)}),"");t.subscribe((()=>{const e=""+(e=>"https://"+hu+"/pcode-static/measurers/"+e+"/video/adloox.js")(o)+d;var t;Yt((t=Bo({},TS,l),N(SS,(e=>{let{id1:t,id2:i,id5:n,id7:r,id9:o}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:n,id7:r,id9:o,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(t)))),Sn({win:i.ownerDocument.defaultView,src:e}).promise.catch((e=>{r(new Qu({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))}))}),"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r,verifyLogAdditionalData:o=""}=e;const a=i.ownerDocument.defaultView,s=(e=>"https://"+hu+"/pcode-static/measurers/"+e+"/video/weborama.js")(r);await Sn({win:a,src:s}).promise,new a.WBMeasurerV(i,t,JSON.stringify(zo({},n,{siteid:o}))),ah("weborama measurer loaded")},adserving:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r,verifyLogAdditionalData:o}=e;const a=i.ownerDocument.defaultView,s=(e=>"https://"+hu+"/pcode-static/measurers/"+e+"/video/adserving.js")(r);await Sn({win:a,src:s}).promise,a.initAdServingVerification({slot:i,vpaidAd:t,ids:Uo({},n,{session:o}),host:pu+"/verify_adserving"}),ah("adserving measurer loaded")},yandexTestMeasurer:async e=>{let{vpaidCreative:t,stats:i}=e;ah("start YandexTestMeasurer initialization"),$d(dS,(e=>{const n=a((()=>{var t;i.log({name:(t=e,"YandexTestMeasurerVpaidEvent_"+t)})}));t.subscribe((function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];ah("YandexTestMeasurer received VPAID event=["+e+"], args=["+Ai(i)+"]"),n()}),e)})),ah("complete YandexTestMeasurer initialization")},externalTestMeasurer:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n}=e;console.log("Test measurer initialization started"),$d(dS,(e=>{t.subscribe((function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];console.log("Test measurer received VPAID event=["+e+"], args=["+Ai(i)+"]")}),e)}));const r=i.ownerDocument.defaultView;await Sn({win:r,src:"https://s3.mds.yandex.net/stands/ad-sdk-js/measurers/test-stand/test-measurer-script.js"}).promise.then((()=>{console.log("Test measurer script was loaded successfully")})).catch((e=>{throw console.log("Test measurer script loading error"),e})),r.initVerification({slot:i,vpaidAd:t,measurerParameters:n}),console.log("Test measurer initialization was completed")}},DS=Wt(Tu.getFlagValue("VAS_MEASURER_VERSIONS_CONFIG"))||{moat:{actual:"71",unstable:"71"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"110",unstable:"110"},adriver:{actual:"28",unstable:"28"},adserving:{actual:"122",unstable:"122"},yandexTestMeasurer:{actual:"1",unstable:"2"},externalTestMeasurer:{actual:"1",unstable:"2"}},NS=c(OS),RS="omid",xS={1:[],2:[],3:[],5:[]},VS=["use_unstable_script"];class LS extends wh{constructor(e,t,i){var r;super(),r=this,this.userInteractionDispatchers={AdClickThru:e=>{let{url:t,clickSource:i,playerHandles:n}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),{dailySensors:{clickSource:i}}),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,void 0,n)},AdSkipped:()=>{this.onSkipped.dispatch(void 0)},AdStopped:()=>{this.onStopped.dispatch(void 0)},AdVideoComplete:()=>{this.onVideoComplete.dispatch(void 0)},AdUserClose:()=>{this.onUserClose.dispatch(void 0)},AdTimeToSkipChange:Y},this.playingStateValueSignal=new Yh(!1),this.shouldPlayTimeCounter=new M_,this.vpaidEventBus=new bS,this.vpaidCreativeProxyForMeasurersEventBus=new bS,this.isVisibilityConfirmed=!1,this.initializedMeasurers=void 0,this.initMeasurableParameters=a((e=>{const t=e[4];if(!n(t))throw new Qu({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:i}=t,r=e[5];if(!n(r)||!n(r.slot))throw new Qu({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{videoSlot:o}=r;this.bufferingTimeManager.start(o);const{parameters:a,errors:s,events:l}=function(e){if(!e)return{parameters:void 0,errors:[new Qu({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})],events:[]};let t={};try{t=JSON.parse(e)}catch(cL){return{parameters:void 0,errors:[new Qu({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})],events:[]}}const{viewability:i,encounters:n,dwell:r,start:o,trackingEvents:a,viewedComplete:s}=t,{measurers:l,errors:d,events:u}=function(e){const t=[],i=[],{rootField:n,bannerParametersField:r,unmoderatedBannerParametersField:o}=Yo(e,"measurers");Boolean(o)&&i.push({name:"AuctionDcParamsUnmoderatedMeasurersAreUsed",data:{rawAdParameters:e}});const{measurers:a,errors:s,events:l}=Go(o),{measurers:d,errors:u,events:h}=Go(r),{measurers:p,errors:m,events:v}=Go(n);return t.push(...s,...u,...m),i.push(...l,...h,...v),bc([a,d,p],((e,t)=>{const i=c(t).length>0;return e+Number(i)}),0)>1&&t.push(new Qu({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:qo({},a,d,p),errors:t,events:i}}(t);return{parameters:{measurers:l,viewability:Xo(i),dwell:Xo(r),trackingEvents:Mt(Lt(a),{encounters:jo(n),viewedComplete:jo(s),start:jo(o)}),skipAdSdkDetect:Ko(t)},errors:d,events:u}}(i);if($d(l,this.parameters.stats.log),$d(s,this.callbacks.onExecutionError),!a)throw new Qu({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:i}});this.vpaidInitParameters={videoSlot:o,adParameters:a},this.initMeasurers()})),this.initMeasurers=a((()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t,parameters:i}=this;if(!e)return this.callbacks.onExecutionError(new Qu({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:r}}=e,o=Qo({},r,{yandexTestMeasurer:{}});this.initializedMeasurers=o;const{slotsParameters:a}=i,{visibilitySlotParameters:s}=a,{element:l}=s;return Promise.all(sh(c(o),(async e=>{const i=o[e],r=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(i,VS),a=OS[e],s=((e,t)=>{const i=DS[e],r=t;return n(r)&&"use_unstable_script"in r&&Boolean(r.use_unstable_script)?i.unstable:i.actual})(e,i);try{await a({vpaidCreative:t,slot:l,measurerParameters:r,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:s,verifyLogAdditionalData:this.parameters.verifyLogAdditionalData,stats:this.parameters.stats}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:l,measurerParameters:r})}catch(cL){this.callbacks.onExecutionError(new Qu({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:r,error:new Qu(cL)}}))}})))})),this.trackRenderUndetermined=a((()=>{this.trackEvent("renderUndetermined",this.getTrackingUrlsByTrackingEventName("renderUndetermined"),{})})),this.trackEncounters=a((e=>{var t,i;this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{dailySensors:{reason:e}});const n=null!=(t=null==(i=this.vastAd)?void 0:i.trackingEvents.encounters)?t:[];n.length&&this.trackEvent("encounters",n,{dailySensors:{reason:e}}),this.trackImpression()})),this.trackImpression=a((()=>{this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),{}),this.trackImpressionWithVisibility()})),this.trackTrueView=a((e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{dailySensors:{reason:e}})})),this.startMeasurement=a((()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new Qu({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{adParameters:t}=e,{viewability:i,dwell:n}=t,{valueSignal:r,teardown:o}=Zo([this.parameters.slotsParameters.visibilitySlotParameters.size],(e=>ko(e,cS)));this.addDestroyHandler(o);const a=new Set,s=new pS((e=>{let{count:t}=e;const n=(r=t)>3?{eventName:"viewability5",intervalId:5}:1===r?{eventName:"viewability1",intervalId:1}:2===r?{eventName:"viewability2",intervalId:2}:3===r?{eventName:"viewability3",intervalId:3}:void 0;var r;return void 0!==n&&(a.add(n.eventName),this.trackEvent(n.eventName,i[n.intervalId],{})),Jo(t)})),l=new Set,d=new pS((e=>{let{count:t}=e;const i=(r=t)>3?{eventName:"dwell5",intervalId:5}:1===r?{eventName:"dwell1",intervalId:1}:2===r?{eventName:"dwell2",intervalId:2}:3===r?{eventName:"dwell3",intervalId:3}:void 0;var r;return void 0!==i&&(l.add(i.eventName),this.trackEvent(i.eventName,n[i.intervalId],{})),Jo(t)})),c=new pS((e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),c.destroy()),Jo(t)}));this.addDestroyHandler((()=>{null==s||s.destroy(),null==d||d.destroy(),c.destroy()})),this.addDestroyHandler(Po([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,r],((e,t,i)=>e&&t&&i),(e=>{e&&c.reset(),null==s||s.setEnabled(e),c.setEnabled(e)}))),this.addDestroyHandler(Po([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.parameters.slotsParameters.slotParameters.isHovered,r],((e,t,i,n)=>e&&t&&i&&n),(e=>{null==d||d.setEnabled(e)})))})),this.methodInterceptors={subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe},this.onSkipped=new _u,this.onStopped=new _u,this.onVideoComplete=new _u,this.onUserClose=new _u,this.eventInterceptors={AdLoaded:()=>{this.initMeasurers().then((()=>{this.vpaidEventBus.dispatch("AdLoaded")})).catch(Ue)},AdVideoStart:()=>{this.vpaidEventBus.dispatch("AdVideoStart"),"video"===this.parameters.intrinsicAdCreativeType&&this.trackImpression()},AdSkipped:()=>{var e;this.callbacks.onExecutionError(new Qu({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onSkipped.dispatch(void 0),this.vpaidEventBus.dispatch("AdSkipped")},AdUserClose:()=>{var e;this.callbacks.onExecutionError(new Qu({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onUserClose.dispatch(void 0),this.vpaidEventBus.dispatch("AdUserClose")},AdStopped:()=>{var e;this.callbacks.onExecutionError(new Qu({code:"VPAID_MEASURER_RECEIVED_AD_STOPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onStopped.dispatch(void 0),this.vpaidEventBus.dispatch("AdStopped")},AdVideoComplete:()=>{var e;this.callbacks.onExecutionError(new Qu({code:"VPAID_MEASURER_RECEIVED_AD_VIDEO_COMPLETE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onVideoComplete.dispatch(void 0),this.vpaidEventBus.dispatch("AdVideoComplete")}},this.vpaidWillSetProperty=(e,t)=>{this.vpaidCreative[e]=t},this.vpaidWillCallMethod=(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(cL){return this.vpaidEventBus.dispatch("AdError",cL),void this.destroy({error:cL})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodInterceptors[e];return i?i(...t):this.vpaidCreative[e].apply(this.vpaidCreative,t)},this.trackImpressionWithVisibility=()=>{const e="impressionDetermined";this.trackEvent(e,this.getTrackingUrlsByTrackingEventName(e),{})},this.updatePlayTimeCounter=e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}},this.trackEvent=function(e,t,i){if(void 0===t&&(t=[]),ah("Track VPAIDMeasurer event=["+e+"]"),!r.vpaidInitParameters)return void r.callbacks.onExecutionError(new Qu({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotsParameters:n}=r.parameters,{visibilitySlotParameters:o,slotParameters:{size:a}}=n,{visibilityRatio:s}=o,l=(d=a.getValue(),{width:uS(d.width),height:uS(d.height)});var d;const u={eventName:e,trackingEventDetails:i,trackingUrls:t,options:xo({win:window,slotSize:l,slotVisibilityRatio:s.getValue(),videoNode:r.vpaidInitParameters.videoSlot,bufferingTime:r.bufferingTimeManager.getBufferingTime(),adPodId:or(r.vastAd)}),pixelsSource:"adParameters"};Lo(u),r.callbacks.onTrackEvent(u),function(e,t){if(!t)return;if(!function(e){return R(sS,e)}(e))return;const i=c(t);for(const n of i){const t=lS[n][e];Ih.log({name:t,data:void 0})}}(e,r.initializedMeasurers)},this.vpaidCreative=e,this.parameters=t,this.callbacks=i;const{visibilityRatio:o}=t.slotsParameters.visibilitySlotParameters,{slotsParameters:{slotParameters:{size:s}}}=this.parameters;this.vastAd=t.vastAd,this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.addDestroyHandler(this.onSkipped.add((()=>{this.trackEvent("skip",this.getTrackingUrlsByTrackingEventName("skip"),{}),this.destroy({reason:"AdSkipped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdSkipped")}))),this.vpaidCreativeProxyForMeasurers.subscribe((()=>{const{adDuration:e,adRemainingTime:t}=this.vpaidCreativeProxyForMeasurers;e-t<30||this.trackTrueView("progress")}),"AdRemainingTimeChange"),this.addDestroyHandler(this.onUserClose.add((()=>{this.trackEvent("close",this.getTrackingUrlsByTrackingEventName("close"),{}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdUserClose")}))),this.onStopped.addOne((()=>{this.destroy({reason:"AdStopped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdStopped")})),this.addDestroyHandler(this.onVideoComplete.add((()=>{this.trackEvent("complete",this.getTrackingUrlsByTrackingEventName("complete"),{}),this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),{}),this.trackTrueView("complete"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdVideoComplete")}))),this.playingStateValueSignal.add(i.onPlayingStateChange);const{valueSignal:l,teardown:d}=Zo([o,s],((e,t)=>t.width*t.height>=242500&&"exp"===Tu.getFlagValueAndActivateTestId("VAS_USE_ANOTHER_RULE_TO_COUNT_IMPRESSION_FOR_LARGE_ADS")?e>=.3:e>=yS));this.addDestroyHandler(d),this.slotVisibilityStateValueSignal=l,this.bufferingTimeManager=new rS,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.addDestroyHandler((e=>{i.onStop(e),this.playingStateValueSignal.dispatch(!1),this.playingStateValueSignal.removeAll()})),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=Q(Qb,((e,t)=>()=>{ah("Measurer called VPAID action method=["+t+"]"),this.parameters.stats.log({name:"Measurer_VPAIDActionMethodCalled",data:{methodName:t},probability:Hu})})),n=Q(Zb,((t,i)=>function(){const t=e[i];for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(e,r)}));return $d(dS,(e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...n)}),e)})),Mo(Qo({},i,n,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;$d(dS,(t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.vpaidDidDispatchEvent(t,n)}),t)}))}vpaidDidDispatchEvent(e,t){const i=oS[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),{}),"AdVideoStart"===e&&this.onAdVideoStart(),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new Qu({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};ah("Track VPAIDMeasurer event=[error]"),Gt(i),this.callbacks.onAdError(i)}var n,r,o;if("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdImpression"===e&&this.callbacks.onExecutionError(new Qu({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null==(n=this.vpaidInitParameters)?void 0:n.adParameters}})),"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new Qu({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null==(r=this.vpaidInitParameters)?void 0:r.adParameters}})),"AdUserMinimize"===e&&this.callbacks.onExecutionError(new Qu({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null==(o=this.vpaidInitParameters)?void 0:o.adParameters}})),"AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=!!Array.isArray(t)&&Boolean(t[0]),i=this.vpaidCreative.getAdVolume();e||(0===i&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),{}),i>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),{})),this.lastVolume=i}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdError":this.destroy({reason:e})}const a=this.eventInterceptors[e];void 0===a?this.vpaidEventBus.dispatch(e,...t):a(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return tc(i)?i:[]}onAdVideoStart(){this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{values:{timeToStart:this.shouldPlayTimeCounter.getTime()}})}}const MS=["firstQuartile","midpoint","thirdQuartile","beforeComplete","complete"],BS=["trueView"],FS=["clickThrough","close","impression","mute","skip","unmute"],US=e=>"AdParametersTracking_"+e,HS=e=>"VastTracking_"+e,zS={},jS=1e3,WS=()=>0,YS=()=>Xb,GS=()=>Kb,qS=()=>"2.0";class XS{constructor(e){this.dispatch=a((e=>{this.value=e,this._isDispatched=!0,W(this.callbacks,e),this.callbacks.length=0})),this.callbacks=[],this._isDispatched=!1,f(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),Y):(this.callbacks.push(e),()=>{this.callbacks=yu(this.callbacks,(t=>t!==e))})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise((e=>{this.subscribe(e)}))}}const KS=2*K_/L_;class JS extends wh{constructor(e){super(),this.params=e,this.promise=this.loadAdCreative().catch((e=>{throw this.destroy(),e}))}async loadAdCreative(){const{adParametersString:e,surveyAdCreativeInitParameters:t,slot:i,externalLiveCycle:r,initAdCreative:o,stats:a}=this.params;if(!f(o))throw new Qu({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let s;try{s=o({adParametersString:e,surveyAdCreativeInitParameters:t,slot:i,externalLiveCycle:r,stats:a})}catch(hb){if(ae(hb))throw hb;throw new Qu(hb,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!n(s))throw new Qu({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_OBJECT",details:this.getAdCreativeErrorDetails()});const{promise:l,teardown:d}=s;if(!hp(l))throw new Qu({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});if(!f(d))throw new Qu({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_FUNCTION_TEARDOWN",details:this.getAdCreativeErrorDetails()});const c=()=>{d()};let u;this.addDestroyHandler(c);try{u=await l}catch(hb){if(c(),ae(hb))throw hb;throw new Qu(hb,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return u}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const ZS={startAd:()=>new Promise(Y),stopAd:Y};class QS extends wh{constructor(e){super(),this.vpaidEventBus=new bS,this.handshakeVersion=qS,this.subscribe=this.vpaidEventBus.subscribe,this.unsubscribe=this.vpaidEventBus.unsubscribe,this.resizeAd=Y,this.expandAd=Y,this.collapseAd=Y,this.getAdIcons=GS,this.getAdExpanded=YS,this.setAdVolume=Y,this.getAdVolume=WS,this.initAd=a((()=>{this.vpaidEventBus.dispatch("AdLoaded")})),this.videoStartedLatch=new XS,this.adCreativeLatch=new XS,this.completeLatch=new XS,this.isPackshotStarted=new XS,this.remainingTime=new Yh(-2),this.shouldPlay=new Yh(!1),this.isPlaying=new Yh(!1),this.shouldPlayTimeCounter=new M_,this.lifeCycleLatches=Q({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},((e,t)=>new XS(this.ignoreAfterDestroy((()=>{this.vpaidEventBus.dispatch(t)}),"AdCreativeWrapper.LatchVpaidEventBusDispatch")))),this.stopAnimation=Y,this.completeOrDestroyLatch=new XS,this.packshotCurrentTime=0,this.destroyReasonSniffers={complete:()=>{this.params.adCreativeUserInteractionCallbacks.AdVideoComplete()},skip:()=>{this.params.adCreativeUserInteractionCallbacks.AdSkipped()},close:()=>{this.params.adCreativeUserInteractionCallbacks.AdUserClose()},stopAd:Y},this.pauseAd=()=>{this.shouldPlay.dispatch(!1)},this.resumeAd=()=>{this.shouldPlay.dispatch(!0)},this.getAdHeight=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoHeight)?e:0},this.getAdWidth=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoWidth)?e:0},this.getAdLinear=()=>!1,this.getAdDuration=()=>this.getVideoDuration()||-1,this.getAdRemainingTime=()=>{const{videoParameters:e,videoNodeController:t,enableLoopVideo:n}=this.params;if(e){const e=this.getVideoDuration(),{currentTime:r}=t.getCurrentPosition();if(i(e)&&Jt(r)){if(this.isPackshotStarted.getValue()){const e=this.getPackshotBgVideoDuration();return Math.max(e-this.packshotCurrentTime,0)}return n&&this.completeLatch.getDispatched()?0:Math.max(e-r,0)}}return-1},this.getAdSkippableState=()=>!0,this.dispatchAdStartedOrPlaying=ui((()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),(()=>{this.vpaidEventBus.dispatch("AdPlaying")})),this.params=e,this.addDestroyHandler((()=>{this.completeOrDestroyLatch.dispatch(void 0)})),this.completeLatch.subscribe((()=>{this.completeOrDestroyLatch.dispatch(void 0)}));const{videoParameters:t,firstFrameParameters:n,videoNodeController:r,slot:o,slotSize:s,packshotParameters:l,adCreativeUserInteractionCallbacks:d,slotsParameters:c,stats:u}=e;if(n){const{posterImage:e,isPreloaded:i,backgroundSize:o}=n,{videoNode:a}=r,s=function(e,t,i,n){return void 0===i&&(i="contain"),e instanceof HTMLElement?(n.log({name:"FirstFrameImageLoading",data:{imageUrl:t.url}}),bo(e,{backgroundImage:'url("'+t.url+'")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:i})):(n.log({name:"FirstFrameImageInvalidElementForSlot"}),()=>{})}(a,e,o,u),l=Date.now();(t?this.videoStartedLatch:this.adCreativeLatch).subscribe((()=>{i&&u.log({name:"TimeBetweenFirstFrameImageAndVideoStart",values:{time:Date.now()-l}}),s()})),this.addDestroyHandler(s)}if(this.vpaidEventBus.subscribe((e=>{u.errorToStats(e)}),"AdError"),this.addDestroyHandler(a(d.AdStopped)),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.shouldPlay.add((e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()})),this.remainingTime.add((()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")})),this.addDestroyHandler((()=>{this.remainingTime.removeAll()})),t){this.getAdVolume=()=>r.getVolume(),this.setAdVolume=e=>{0===e?r.setMuted(!0):r.setVolume(e)};const e=()=>{const e="play"===r.playingState.getValue();this.isPlaying.dispatch(e)};this.completeOrDestroyLatch.subscribe(r.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(r.pause(),t){this.attachToVideoNode(t,r),this.addDestroyHandler(this.adCreativeLatch.subscribe((()=>{this.shouldPlay.getValue()&&r.play();const e=this.shouldPlay.add((e=>{e?r.play():r.pause()}));this.addDestroyHandler(e),this.addDestroyHandler(this.isPackshotStarted.subscribe(e))})));const{videoSlotClickUrl:e,animationParameters:i,videoNodeController:{videoNode:n}}=this.params;m(e)&&this.completeOrDestroyLatch.subscribe(this.shouldPlay.addOne((()=>{const t=t=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:e,playerHandles:!0,clickSource:t})};this.completeOrDestroyLatch.subscribe(r.onClick.add((()=>{oa({control:"AdCreativeWrapperVideoElement",purpose:"clickThru"}),t("AdCreativeWrapperVideoElement")}))),na(n)&&!cS&&this.completeOrDestroyLatch.subscribe(bo(n,{cursor:"pointer"})),void 0===i&&(this.completeOrDestroyLatch.subscribe(Ne({element:o,eventName:"click",listener:()=>{t("AdCreativeWrapperSlotElement")},ignoreBubbling:!0})),cS||this.completeOrDestroyLatch.subscribe(bo(o,{cursor:"pointer"})))})))}if(this.params.videoParameters&&this.videoStartedLatch.subscribe(this.dispatchAdStartedOrPlaying),this.adCreativeLatch.subscribe((e=>{const{getAdDuration:i,getAdRemainingTime:n,resizeAd:r}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add((t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)})),t||(f(i)&&(this.getAdDuration=()=>i.call(e)),f(n)&&(this.getAdRemainingTime=()=>n.call(e),this.addDestroyHandler(Dn((()=>{this.remainingTime.dispatch(this.getAdRemainingTime())}))))),this.stopAnimation=a((()=>{e.stopAd()})),this.addDestroyHandler(this.stopAnimation),this.completeOrDestroyLatch.subscribe(s.add((t=>{f(r)&&r.call(e,t)})))})),l){const e=o.ownerDocument.defaultView;if(e){const e="packshot"===l.type?l.packshotImageUrl:void 0;e&&this.lifeCycleLatches.AdVideoThirdQuartile.subscribe((()=>{hn(e)})),this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{if(c.visibilitySlotParameters.visibilityRatio.getValue()>=yS||"honeypot"===l.type)return this.destroyReasonSniffers.complete(),void this.isPackshotStarted.dispatch(l);this.stopAdAndDestroyWrapper("complete")}),"AdCreativeWrapper.completeLatchSubscribeForNotPlayPackshot"))}else u.error({error:new Qu({code:"AD_CREATIVE_PACKSHOT_WINDOW_NULL",details:{win:String(e)}})})}else this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{this.params.destroyAfterComplete?this.stopAdAndDestroyWrapper("complete"):this.destroyReasonSniffers.complete()}),"AdCreativeWrapper.completeLatchSubscribeForNoPackshot"));this.isPackshotStarted.subscribe((e=>{this.stopAnimation();const t="packshot"===e.type?e.renderLayoutComponent(e):e.renderLayoutComponent();this.shouldPlay.add((e=>{t.setPlaying(e)})),t.progress.add((t=>{"packshot"===e.type&&(this.packshotCurrentTime=Math.min(e.packshotDuration,e.packshotDuration*t))})),t.addDestroyHandler((t=>{let{reason:i,details:n}=t;"complete"!==i?("firstRenderError"!==i&&"runtimeError"!==i||(u.error({error:new Qu({code:"firstRenderError"===i?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:{type:e.type,error:n}})}),this.vpaidEventBus.dispatch("AdError",n)),this.destroy()):this.destroy()})),this.addDestroyHandler((()=>{t.destroy({reason:"stopAd",details:void 0})}))})),this.loadAndRenderAnimation().catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),"AdCreativeWrapper.vpaidEventBusDispatchAdError"))}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null==(e=this.params.videoParameters)?void 0:e.getStartStrategy();t&&"startPlaying"!==i?(ah("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),this.params.stats.log({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,startStrategy:i}})):(ah("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)),this.addDestroyHandler(this.shouldPlay.add((e=>{t&&!this.isPackshotStarted.getDispatched()||(e?this.dispatchAdStartedOrPlaying():this.vpaidEventBus.dispatch("AdPaused"))}))),this.addDestroyHandler((()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()}))}stopAd(){this.destroy()}skipAd(){this.stopAdAndDestroyWrapper("skip")}stopAdAndDestroyWrapper(e){this.destroyReasonSniffers[e](),this.destroy()}getVideoDuration(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{duration:e}=t.getCurrentPosition(),n=i(e)?e:void 0;if(n)return n+this.getPackshotBgVideoDuration()}}async loadAndRenderAnimation(){const{animationParameters:e,adCreativeWindow:t,slot:i,videoParameters:n,stats:r}=this.params;if(!e)return void this.adCreativeLatch.dispatch(ZS);const{animationMediaFile:o,getPreloadedAdCreativeInitFunction:a,adCreativeParameters:s,surveyAdCreativeParameters:l}=e;let d=a();try{if(f(d));else{const{promise:e,teardown:i}=kn({animationMediaFile:o,win:t});this.completeOrDestroyLatch.subscribe(i),d=await e}}catch(cL){if(ae(cL))throw cL;throw new Qu(cL,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:{adParametersString:s}})}if(this.isDestroyed)return;const c=new JS({slot:i,adParametersString:s,surveyAdCreativeInitParameters:l,externalLiveCycle:Boolean(n),initAdCreative:d,stats:r});this.addDestroyHandler((()=>{c.destroy()}));const u=await c.promise;this.isDestroyed||this.adCreativeLatch.dispatch(u)}attachToVideoNode(e,t){const{videoContentSize:n,videoMediaFile:r,videoMediaFiles:o,videoTimeout:s,bufferEmptyLimit:l,bufferFullTimeout:d,durationFallback:c,onVideoBufferingStateChange:u}=e,{videoNode:h}=t;t.onVolumeChange.add((()=>{const e=t.getMuteWithoutTrackingSend();return this.vpaidEventBus.dispatch("AdVolumeChange",e)}));const p=Date.now();this.addDestroyHandler(t.onCanPlay.addOne((()=>{this.params.stats.log({name:"MediaFileLoadedAndVideoCanBePlayed",values:{loadingTime:Date.now()-p}})}))),this.addDestroyHandler(t.onLoadedData.addOne((()=>{this.params.stats.log({name:"MediaFileLoadingTime",values:{loadingTime:Date.now()-p}})}))),t.setSrc(r),this.addDestroyHandler(t.onVolumeChange.add((()=>{this.vpaidEventBus.dispatch("AdVolumeChange")}))),this.addDestroyHandler(this.videoStartedLatch.subscribe((()=>{const e=t.onPlayAfterPause.add((()=>{this.videoStartedLatch.getDispatched()&&this.dispatchAdStartedOrPlaying()})),i=t.playingState.add((e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")}));this.completeOrDestroyLatch.subscribe(e),this.completeOrDestroyLatch.subscribe(i),this.isPackshotStarted.subscribe(e),this.isPackshotStarted.subscribe(i)})));const m=()=>{const e=this.adCreativeLatch.getValue();if(!e||!f(e.adjustAdPosition))return;const t=this.getAdDuration(),n=this.getAdRemainingTime();i(t)&&Jt(n)&&e.adjustAdPosition({adDuration:t,adRemainingTime:n})};this.completeOrDestroyLatch.subscribe(function(e){function t(){let{duration:e}=n.getCurrentPosition();return i(e)||(e=r()),e}let{videoNodeController:n,durationFallback:r,callbacks:{AdStarted:o,AdVideoFirstQuartile:s,AdVideoMidpoint:l,AdVideoThirdQuartile:d,AdVideoBeforeComplete:c,AdVideoComplete:u}}=e;const h=a(s),p=a(l),m=a(d),v=a(c);let g=0;const f=()=>{const e=t();if(!i(e))return;const{currentTime:r}=n.getCurrentPosition(),o=(r-g)/e;o>=.25&&h(),o>=.5&&p(),o>=.75&&m()},A=a((()=>{f(),u()})),_=[ra(n.videoNode,(()=>{g=n.getCurrentPosition().currentTime,o()})),n.currentPosition.add((e=>{let{currentTime:i}=e;const n=function(e){let{currentTime:t,duration:i}=e;return!(t>=i)&&t+KS>=i}({currentTime:i,duration:t()});n&&v()})),n.currentPosition.add(f),n.onEnd.add(A)];return()=>W(_)}({durationFallback:c,videoNodeController:t,callbacks:aa({},Q(this.lifeCycleLatches,(e=>()=>{e.dispatch(void 0)})),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),m()},AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}})}));const v=new Error;this.shouldPlayTimeCounter.addCallback(s,(()=>{if(this.videoStartedLatch.getDispatched())return;const e=new Qu(v,{code:"video"===this.params.intrinsicAdCreativeType?"VIDEO_TIMEOUT":"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:s,mediaFile:r,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{t.isBuffering.getValue()&&u(!0),this.addDestroyHandler(t.isBuffering.add((e=>{u(e)})))}))),this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{this.completeOrDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferEmptyLimit:n,callback:r}=e;if(!i(n))return Y;let o=0;const a=t.onBufferingAfterPlay.add((()=>{o++,ah("bufferEmptyCount=["+o+"] limit=["+n+"]"),o<=n||(a(),r())}));return a}({videoNodeController:t,bufferEmptyLimit:l,callback:()=>{const e=new Qu({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_EMPTY_LIMIT":"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:l,mediaFile:r,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.completeOrDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferFullTimeout:i,callback:n}=e,r=Y;const o=t.isBuffering.add((async e=>{if(r(),!e)return;const{promise:a,clear:s}=Ch(i,t.win);r=s,await a,r(),o(),n()}));return()=>{r(),o()}}({videoNodeController:t,bufferFullTimeout:d,callback:()=>{const e=new Qu({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_FULL_TIMEOUT":"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:d,mediaFile:r,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}}))}))),this.completeOrDestroyLatch.subscribe(t.onError.add((e=>{e=new Qu(e,{details:aa({},e.details,{selectedMediaFile:r,mediaFiles:o})}),this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}))),this.addDestroyHandler(t.currentPosition.add((()=>{m(),this.remainingTime.dispatch(this.getAdRemainingTime())}))),this.completeOrDestroyLatch.subscribe(n.add((e=>{const t=this.adCreativeLatch.getValue();t&&f(t.resizeVideoContent)&&t.resizeVideoContent(e)})))}startAdCreative(e){const{videoParameters:t,slotSize:i,shouldHideSkipButton:r,playerEnvironment:o}=this.params,a=i.getValue(),s=Q(this.lifeCycleLatches,(e=>t?Y:()=>e.dispatch(void 0))),l=e.startAd({callbacks:aa({AdClickThru:this.ignoreAfterDestroy((e=>{let{url:t,playerHandles:i,clickSource:n}=e;const r=m(t)?t:this.params.videoSlotClickUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,playerHandles:i,clickSource:n})}),"AdCreativeWrapper.startAdCallbackOnAdClickThru")},s,{AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}}),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},requestTimeToSkipChange:e=>{this.params.adCreativeUserInteractionCallbacks.AdTimeToSkipChange(e)},dispatchAdStarted:this.dispatchAdStartedOrPlaying,size:a,videoContentSize:null==t?void 0:t.videoContentSize.getValue(),playerEnvironment:o,shouldHideSkipButton:r,destroyAfterComplete:this.params.destroyAfterComplete});if(!hp(l))throw new Qu({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});l.then(this.ignoreAfterDestroy((e=>{if(t)return;let i="complete";if(n(e)){const t=e.reason;m(t)&&Boolean(this.destroyReasonSniffers[t])&&(i=t)}"complete"===i?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(i)}),"AdCreativeWrapper.awaitResolveOfStartAdPromise")).catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),"AdCreativeWrapper.awaitRejectOfStartAdPromise"))}pauseAdCreative(e){null==e.pauseAd||e.pauseAd()}resumeAdCreative(e){null==e.resumeAd||e.resumeAd()}getPackshotBgVideoDuration(){var e,t;return"packshot"!==(null==(e=this.params.packshotParameters)?void 0:e.type)?0:null!=(t=this.params.packshotParameters.packshotDuration)?t:0}}const $S=a(((e,t)=>{t.log({name:"IntersectionObserverMocked",data:{functionCode:v((()=>e.IntersectionObserver.toString()))},probability:Hu})})),eT=a((e=>{e.log({name:"DocumentHiddenMocked",probability:Hu})})),tT=a(((e,t)=>{t.log({name:"IframeIntersectionObserverMocked",data:{functionCode:v((()=>e.IntersectionObserver.toString()))},probability:Hu})})),iT=a((e=>{e.log({name:"IframeDocumentHiddenMocked",probability:Hu})})),nT=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],rT=1e3/60;class oT{constructor(e,t){this.time=0,this.startTime=0,this.id=0,this.started=!1,this.loop=()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()},this.callback=t,this.animationFrameFunctions=da(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}const aT=e=>{const[t]=Yr(new Yh({status:"initial"}));qr((()=>{const i=t.getValue();return"initial"!==i.status?(e.onFirstRender(i),Y):t.addOne((t=>{"initial"!==t.status&&e.onFirstRender(t)}))}),[t]),Gr((()=>{"initial"===t.getValue().status&&t.dispatch({status:"success"})}),[t]);const[i]=function(i){var n=Wr(vb++,10),r=Yr();return n.__=function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];const o=tc(n)&&1===n.length&&Qd(n[0])?n[0]:void 0,a=(e=>ae(e)?e:new Qu(e,{code:"PREACT_ERROR",details:{error:e}}))(null!=o?o:new Error("Preact error boundary error"));Ih.error({error:a});const{status:s}=t.getValue();"initial"===s?t.dispatch({status:"error",error:a}):e.onRuntimeError(a)},gb.componentDidCatch||(gb.componentDidCatch=function(e){n.__&&n.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}();return i||"error"===t.getValue().status?null:yr(Sr,null,e.children)},sT=e=>yr(Sr,null,bc(e.components,((t,i)=>i(ca({},e.componentsProps,{children:t}))),e.children)),lT=jr(Yd);lT.Provider.displayName="SlotSizeContext";const dT=e=>pa(e),cT=()=>Zr(lT),uT=jr(document.body);var hT;uT.Provider.displayName="SlotContext",Number(new Date),Boolean(null==(hT=window)?void 0:hT.document);class pT{constructor(){this.usingStylesByContainersMap=new WeakMap}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const n=i.get(t);return n?(i.set(t,n+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const n=i.get(t);return!n||(i.set(t,n-1),!(n>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}class mT{constructor(){this.stylesUsingCounter=new pT,this.styleElementsMap=new WeakMap}useStyleModule(e,t){const i=t,n=[];for(let r=0;r<i.length;r++){const[t,o]=i[r];if(o){if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=ma(e,o),n=this.styleElementsMap.get(e);n?n.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}n.push(t)}}return n.length?a((()=>{$d(n,(t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),n=this.styleElementsMap.get(e);i&&n&&(Re(n.get(t)),n.delete(t),0===n.size&&this.styleElementsMap.delete(e))}))})):Y}}const vT=new mT,gT=jr({buttonText:"",openClickThroughUrl:Y});gT.Provider.displayName="HoneypotContext";var fT=e(4263),AT=e.n(fT);const _T=e=>{let{children:t,onClick:i}=e;return va(AT()),yr("div",{className:fT.locals.HoneypotButton,onClick:i},yr("div",{className:fT.locals.HoneypotButton__content},t))};var yT=e(7610),bT=e.n(yT);const ST=e=>{let{width:t,height:i}=e;return va(bT()),yr("div",{className:yT.locals.HoneypotOverlay,style:{width:t+"px",height:i+"px"}})};var TT=e(7844),ET=e.n(TT);const wT=()=>{va(ET());const{width:e,height:t}=cT(),{buttonText:i,openClickThroughUrl:n}=Zr(gT);return yr("div",{onClick:i?void 0:n,className:ha(TT.locals.HoneypotScreen,{[TT.locals.HoneypotScreen_clickable]:!i}),style:{width:e+"px",height:t+"px"}},yr("div",{className:TT.locals.HoneypotScreen__honeypotOverlayWrapper},yr(ST,{width:e,height:t})),i&&yr("div",{className:TT.locals.HoneypotScreen__buttonWrapper},yr(_T,{onClick:n},i)))},CT=jr((e=>{Ih.log({name:"StatsDefaultContextLog",data:{initialLog:e}})}));CT.Provider.displayName="StatsLogContext";const PT=()=>Zr(CT),kT=[e=>yr(uT.Provider,{value:e.container,children:e.children}),e=>yr(lT.Provider,{value:dT(e.containerSize),children:e.children}),e=>yr(lT.Provider,{value:dT(e.containerSize),children:e.children}),e=>yr(CT.Provider,{value:e.logStatsEvent,children:e.children}),e=>yr(gT.Provider,{value:ga(e),children:e.children})];class IT extends wh{constructor(e){super(),this.honeypotProgress=new Yh(0),this.shouldPlay=new Yh(!0),this.progress=new Yh(0),this.props=e;const{win:t,onClick:i,videoNodeController:n,parent:r}=this.props;this.addDestroyHandler((t=>{ah("Honeypot: destroy honeypot reason=["+t.reason+"]"),e.logStatsEvent({name:"HoneypotDestroyed",data:{reason:t},probability:Hu})}));const o=t.document.createElement("div");r.appendChild(o);const a=function(e){const{container:t,onRuntimeError:i,onFirstRenderError:n}=e;return zr(yr(aT,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&n(e.error)}},yr(sT,{components:kT,componentsProps:e},yr(wT,null))),t),()=>{zr(null,t)}}(fa({},this.props,{container:o,containerSize:e.parentSize,onClick:()=>{e.logStatsEvent({name:"HoneypotButtonClicked",probability:Hu}),i()},onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})}}));this.addDestroyHandler((()=>{a(),Re(o)})),e.logStatsEvent({name:"HoneypotRendered",probability:Hu});const s=new oT(t,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.honeypotProgress.dispatch(i)}));if(this.addDestroyHandler((()=>{s.stop()})),s.start(),void 0!==n){const t=n.getMuted();if(!t){let e;n.setMuted(!0),this.addDestroyHandler(n.onVolumeChange.add((()=>{e=void 0!==e}))),this.addDestroyHandler((()=>{e||(n.setMuted(t),n.videoNode.dispatchEvent(new Event("volumechange",{bubbles:!1,cancelable:!0,composed:!1})))}))}n.setLoop(!0),n.play(),this.addDestroyHandler((()=>n.setLoop(!1))),e.logStatsEvent({name:"HoneypotBackgroundLoopedVideo"})}this.shouldPlay.add((e=>{e?s.start():s.stop(),void 0!==n&&(e?n.play():n.pause())}))}setPlaying(e){this.shouldPlay.dispatch(e)}}const OT="https://"+hu+"/pcode-static/measurers/75/omweb-js",DT=OT+"/Session-Client/omid-session-client-v1.js",NT=OT+"/Service/omweb-v1.js",RT=OT+"/Compliance-Script/omid-compliance-verification-script-v1.js",xT="verificationNotExecuted",VT=async e=>{const t=Rn(e.document.body,{sandbox:"allow-scripts allow-same-origin"});if(!t)throw new Qu({code:"OMSDK_ERROR",details:{reason:"Could not init IFrame for OM SDK script"}});const i=LT(t,DT),n=LT(t,NT),r=Promise.all([i,n]),o=Promise.race([r.then((()=>t)),Ch(3e3,window).promise.then((()=>{throw new Error("OMID scripts loading timeout")}))]);return t.setAttribute("data-vas-omsdk",""),o},LT=(e,t)=>{const{promise:i}=Sn({src:t,win:e.contentWindow});return i},MT=new Set;let BT,FT;const UT="0.0."+Xd;class HT extends wh{get videoNode(){return this.adPodViewer.adDisplayController.videoNode}get videoNodeController(){return this.adPodViewer.adDisplayController.videoNodeController}constructor(e,t){super(),this.omsdkServiceScriptIframe=new XS,this.omidSessionClient=new XS,this.onSessionFinish=new _u,this.onDestroy=new XS,this.addDestroyHandler((()=>this.onDestroy.dispatch(void 0))),this.adPodViewer=e,this.verificationScriptParametersList=t,(async e=>{void 0===BT&&(void 0===FT&&(FT=VT(e)),BT=await FT);const t=()=>{if(MT.has(t)&&(MT.delete(t),0===MT.size)){const t=BT;e.setTimeout((()=>{Re(t)}),3e3),BT=void 0,FT=void 0}};return MT.add(t),{omsdkFriendlyIFrame:BT,release:t}})(window).then((e=>{let{omsdkFriendlyIFrame:i,release:n}=e;this.omsdkServiceScriptIframe.dispatch(i),this.addDestroyHandler(n),Ih.log({name:"OmidVerifiersHasBeenSuccessfullyLoaded",data:{parameters:JSON.stringify(t)},probability:Hu})})).catch((e=>(ah("[OMSDK]: Could not register OMSDK on page"),this.destroy({reason:"Could not register OMSDK on page: "+e.message,isError:!0})))),this.addDestroyHandler(this.omsdkServiceScriptIframe.subscribe((e=>{const t=th(e.contentWindow,"OmidSessionClient.default");t?(ah("OmidSessionClient initialized, "+t),this.omidSessionClient.dispatch(t)):this.destroy({reason:"OmidSessionClient was not initialized",isError:!0})}))),this.addDestroyHandler((e=>{let{reason:t,isError:i}=e;ah("[OMSDKController]: destroy "+t),i&&Ih.error({error:new Qu({code:"OMSDK_ERROR",details:{reason:t}})})}))}async initSession(e){let{impressionType:i="unspecified",startStrategy:n}=e;if(this.isDestroyed)return;const r=await Promise.race([this.omidSessionClient.wait(),this.onDestroy.wait()]);if(void 0!==r)try{var o;const{Partner:e,VerificationScriptResource:a,Context:s,AdSession:l,AdEvents:d,MediaEvents:c,VastProperties:u}=r,h=String(window.location).split("?").shift(),p=new s(new e("Yandex",UT),sh(this.verificationScriptParametersList,(e=>{let{javaScriptResource:t,vendorKey:i,verificationParameters:n,accessMode:r}=e;return new a(t,i,n,r)})),h);p.setVideoElement(this.videoNode),gu.isDebugEnabled&&(p.underEvaluation=!0);const m=null==(o=this.omsdkServiceScriptIframe.getValue())?void 0:o.contentWindow;if(!m)throw new Error("OMSDK service script IFrame is unloaded");p.setServiceWindow(m);const v=new l(p);if(!v.isSupported())throw new Error("AdSession is not supported");v.setCreativeType("video"),v.setImpressionType(i);const g=new d(v),f=new c(v);v.start(),this.addDestroyHandler((e=>{let{reason:t}=e;"complete"===t&&f.complete(),"skip"===t&&f.skipped(),v.finish(),this.onSessionFinish.dispatch()}));const A=t(this.adPodViewer.adPodViewerPlaybackParams.skipDelay),_=new u(A,this.adPodViewer.adPodViewerPlaybackParams.skipDelay,"startPlaying"===n,function(e){switch(e.mediaAd.adBreak.adType){case"midroll":case"inroll":case"pauseroll":return"midroll";case"preroll":return"preroll";case"postroll":return"postroll";default:return"standalone"}}(this.adPodViewer));this.adPodViewer.addDestroyHandler((e=>{let{reason:t,details:i}=e;"error"===t&&void 0!==i&&v.error("generic",i.message)})),this.videoNodeController.onError.add((e=>v.error("video",e.message))),this.videoNodeController.onLoadedData.add((()=>{g.loaded(_)})),this.videoNodeController.isBuffering.add((e=>{e?f.bufferStart():f.bufferFinish()})),this.adPodViewer.isStarted.add((()=>{const{duration:e}=this.videoNodeController.getCurrentPosition(),t=this.videoNodeController.getVolume();f.start(e,t)})),this.adPodViewer.onImpression.add((()=>{g.impressionOccurred()})),this.adPodViewer.onFirstQuartile.add((()=>f.firstQuartile())),this.adPodViewer.onMidpoint.add((()=>f.midpoint())),this.adPodViewer.onThirdQuartile.add((()=>f.thirdQuartile())),this.adPodViewer.onClickThrough.add((()=>f.adUserInteraction("click"))),this.adPodViewer.onPause.add((()=>f.pause())),this.adPodViewer.onResume.add((()=>f.resume())),this.videoNodeController.onVolumeChange.add((()=>{f.volumeChange(this.adPodViewer.adDisplayController.getVolume())})),this.adPodViewer.adDisplayController.isFullscreen.add((e=>{f.playerStateChange(e?"fullscreen":"normal")}))}catch(hb){this.destroy({reason:"Session initialization failed: "+hb.message,isError:!0})}}}const zT=[pu,hu],jT=new Set;$d([...zT,"static.adsafeprotected.com","z.moatads.com"],(e=>{jT.add(e)}));class WT{constructor(e){this.position=0,this.offset=0,this.onAnimationFrame=e=>{let{diff:t}=e;const i=t/this.duration,n=1500/this.duration;if(Math.abs(this.offset)>=n){const e=this.position+i+this.offset;return void this.setPosition(e)}const r=i*(1+this.offset/n);this.position=Gn(this.position+r,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-r,this.params.callback(this.position)},this.params=e,this.duration=e.duration,this.onFinishOnce=a(e.onFinish),this.animationFramesController=new oT(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=Gn(e,0,1),this.offset=0,this.params.callback(e))}}const YT=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),GT=(e,t,i,n)=>{Xe(t)?(n=Boolean(i),b(t,((t,i)=>{Ea(e,i,t,n)}))):Ea(e,t,i,n)},qT=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));class XT extends wh{constructor(e){var t;super(),this.progress=new Yh(0),this.shouldPlay=new Yh(!0),this.props=e;const{duration:n,win:r}=e;this.isInfiniteDuration=!i(n),this.destroyAfterComplete=null==(t=e.destroyAfterComplete)||t,this.isInfiniteDuration?this.animationController=new oT(r,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.progress.dispatch(i)})):this.animationController=new WT({win:r,duration:n*L_,callback:e=>{this.progress.dispatch(e)},onFinish:()=>{this.destroyAfterComplete&&this.destroy({reason:"complete",details:void 0})}})}setPlaying(e){this.shouldPlay.dispatch(e)}show(){const{win:e,imageUrl:t,videoNodeController:i,parent:n,logStatsEvent:r}=this.props,o=!t;if(t&&wa(n,Ca({},op,{backgroundImage:"url("+t+")",backgroundPosition:"center",backgroundSize:"cover"})),this.addDestroyHandler((()=>{this.animationController.stop(),this.progress.removeAll(),this.shouldPlay.removeAll()})),this.progress.add((e=>{e>=1&&this.animationController.stop()})),this.animationController.start(),o&&void 0!==i){const e=i.getMuted();if(!e){let t;i.setMutedWithoutTrackingSend(!0),this.addDestroyHandler(i.onVolumeChange.add((()=>{t=void 0!==t}))),this.addDestroyHandler((()=>{var n;t||(i.setMutedWithoutTrackingSend(e),f(null==i||null==(n=i.videoNode)?void 0:n.dispatchEvent)?i.videoNode.dispatchEvent(new Event("volumechange",{bubbles:!1,cancelable:!0,composed:!1})):r({name:"VideoNodeControllerMissVideoNode",probability:ju}))}))}i.setLoop(!0),i.play(),this.addDestroyHandler((()=>i.setLoop(!1))),r({name:"PackshotBackgroundLoopedVideo",probability:ju})}this.shouldPlay.add((e=>{e?this.animationController.start():this.animationController.stop(),o&&void 0!==i&&(e?i.play():i.pause())}));const a=e.document.createElement("div");a.style.height="100%",n.appendChild(a);const s=this.renderPackshotContent(Ca({},this.props,{parent:a}));this.addDestroyHandler((()=>{s(),Re(a)}))}setProgress(e){this.animationController instanceof WT&&this.animationController.setPosition(e)}}const KT=jr(void 0),JT=e=>{let{bannerFlags:t}=e;return pa(t)},ZT=()=>Zr(KT),QT=jr({clickThrough:Y,clickUrl:void 0,videoSlotClickUrl:void 0});QT.Provider.displayName="ClickUrlDataContext";const $T=e=>{const t=pa(e.currentVastAd),i=pa(e.videoSlotClickUrl);return Kr((()=>({clickThrough:e.clickThrough,clickUrl:null==t?void 0:t.clickUrlData.tgaOfferClickUrl,videoSlotClickUrl:i})),[t])},eE=()=>Zr(QT),tE=jr({});tE.Provider.displayName="ControlsVisibilityContext";const iE=e=>pa(e),nE=()=>Zr(tE),rE=jr(void 0);rE.Provider.displayName="FaviconSrcContext";const oE=e=>{const t=pa(e);return null==t?void 0:t.url},aE=()=>Zr(rE),sE=jr({lang:Nf,bannerLang:Nf});sE.Provider.displayName="I18NContext";const lE=e=>{let{lang:t,bannerLang:i}=e;return{lang:t,bannerLang:i}},dE=()=>{const e=uE();return(t,i)=>Ff(t,e,i)},cE=()=>{const e=hE();return(t,i)=>Ff(t,e,i)},uE=()=>Zr(sE).lang,hE=()=>Zr(sE).bannerLang,pE=e=>{const t=e.getCurrentLang(),i=e.getCurrentBannerLang();return Kr((()=>({lang:t,bannerLang:i})),[t,i])},mE=e=>{const[t,i]=Yr(e),[n,r]=Yr(null);return e!==t&&(r(t),i(e)),n},vE=e=>{const[t,i]=Yr(Mf(e)?e:null),n=mE(t);return Gr((()=>{let t=!1;if(!Mf(e))return Bf(e).then((e=>{t||i(e)})).catch((e=>{t||i(n||e)})),()=>{t=!0};i(e)}),[e,n]),t},gE=e=>{let{value:t,children:i}=e;const n=vE(t.lang),r=vE(t.bannerLang);return n&&r?yr(sE.Provider,{value:{lang:n,bannerLang:r}},i):null},fE=-1,AE=jr({timeToSkip:fE,skipCallback:Y});AE.Provider.displayName="SkipContext";const _E=e=>{let{timeToSkipSignal:t,skipCallback:i}=e;return{timeToSkip:pa(t),skipCallback:i}},yE=()=>Zr(AE),bE=jr({themeEmptyParameters:void 0,clickThrough:Y});bE.Provider.displayName="ThemeEmptyContext";const SE=e=>{let{themeEmptyParameters:t,clickThrough:i}=e;return{themeEmptyParameters:pa(t),clickThrough:i}},TE=()=>Zr(bE);var EE=e(8208),wE=e.n(EE);const CE=["className","url","children","onClick","onFocus","onBlur","pointerEvents","innerRef","tooltip"],PE=e=>{const{className:t,url:i,children:n,onClick:r,onFocus:o,onBlur:a,pointerEvents:s,innerRef:l,tooltip:d}=e,c=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(e,CE);return va(wE()),yr("a",Pa({},c,{className:ha(EE.locals.ClickThroughLink,t),ref:l,onClick:e=>{e.preventDefault(),Wm||f(r)&&r()},onFocus:o,onBlur:a,"data-pointer-events":s,href:i,target:"_blank",rel:"nofollow noreferrer",title:d}),n)},kE=["isClickDisabled","children","clickThruUrl","onClickThru","className","innerRef"],IE=e=>{const{isClickDisabled:t,children:i,clickThruUrl:n,onClickThru:r,className:o,innerRef:a}=e,s=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(e,kE);return t?yr(Sr,null,i):yr(PE,ka({},s,{onClick:r,url:n,className:o,innerRef:a}),i)};(Oa.prototype=new Tr).isPureReactComponent=!0,Oa.prototype.shouldComponentUpdate=function(e,t){return Ia(this.props,e)||Ia(this.state,t)};var OE=ob.__b;ob.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),OE&&OE(e)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var DE=ob.__e;ob.__e=function(e,t,i){if(e.then)for(var n,r=t;r=r.__;)if((n=r.__c)&&n.__c)return null==t.__e&&(t.__e=i.__e,t.__k=i.__k),n.__c(e,t);DE(e,t,i)};var NE=ob.unmount;ob.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),NE&&NE(e)},(Da.prototype=new Tr).__c=function(e,t){var i=t.__c,n=this;null==n.t&&(n.t=[]),n.t.push(i);var r=Na(n.__v),o=!1,a=function(){o||(o=!0,i.__R=null,r?r(s):s())};i.__R=a;var s=function(){if(! --n.__u){if(n.state.__e){var e=n.state.__e;n.__v.__k[0]=function e(t,i,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,i,n)})),t.__c&&t.__c.__P===i&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}(e,e.__c.__P,e.__c.__O)}var t;for(n.setState({__e:n.__b=null});t=n.t.pop();)t.forceUpdate()}},l=!0===t.__h;n.__u++||l||n.setState({__e:n.__b=n.__v.__k[0]}),e.then(a,a)},Da.prototype.componentWillUnmount=function(){this.t=[]},Da.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,i,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=function(e,t){for(var i in t)e[i]=t[i];return e}({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=i),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,i,n)}))),t}(this.__b,i,n.__O=n.__P)}this.__b=null}var r=t.__e&&yr(Sr,null,e.fallback);return r&&(r.__h=null),[yr(Sr,null,t.__e?null:e.children),r]};var RE=function(e,t,i){if(++i[1]===i[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(i=e.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;e.u=i=i[2]}};(Ra.prototype=new Tr).__e=function(e){var t=this,i=Na(t.__v),n=t.o.get(e);return n[0]++,function(r){var o=function(){t.props.revealOrder?(n.push(r),RE(t,e,n)):r()};i?i(o):o()}},Ra.prototype.render=function(e){this.u=null,this.o=new Map;var t=Or(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var i=t.length;i--;)this.o.set(t[i],this.u=[1,0,this.u]);return e.children},Ra.prototype.componentDidUpdate=Ra.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,i){RE(e,i,t)}))};var xE="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,VE=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,LE=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};Tr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(Tr.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ME=ob.event;ob.event=function(e){return ME&&(e=ME(e)),e.persist=xa,e.isPropagationStopped=Va,e.isDefaultPrevented=La,e.nativeEvent=e};var BE={configurable:!0,get:function(){return this.class}},FE=ob.vnode;ob.vnode=function(e){var t=e.type,i=e.props,n=i;if("string"==typeof t){for(var r in n={},i){var o=i[r];"value"===r&&"defaultValue"in i&&null==o||("defaultValue"===r&&"value"in i&&null==i.value?r="value":"download"===r&&!0===o?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+t)&&!LE(i.type)?r="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(r)?r=r.toLowerCase():VE.test(r)?r=r.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),n[r]=o)}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=Or(i.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),"select"==t&&null!=n.defaultValue&&(n.value=Or(i.children).forEach((function(e){e.props.selected=n.multiple?-1!=n.defaultValue.indexOf(e.props.value):n.defaultValue==e.props.value}))),e.props=n}t&&i.class!=i.className&&(BE.enumerable="className"in i,null!=i.className&&(n.class=i.className),Object.defineProperty(n,"className",BE)),e.$$typeof=xE,FE&&FE(e)};var UE=ob.__r;ob.__r=function(e){UE&&UE(e),e.__c};var HE=e(4834),zE=e.n(HE);const jE=["fn"];class WE{get currentPosition(){return this._currentPosition}set currentPosition(e){(e=Gn(e,0,this.maxPosition))!==this._currentPosition&&(this._scroller.scrollLeft=e,this._currentPosition=e)}get maxPosition(){const{clientWidth:e,scrollWidth:t}=this._scroller;return Math.max(0,t-e)}get scroller(){return this._scroller}constructor(e,t,i){this._currentPosition=0,this.animationSettings={},this.container=e,this._scroller=t,this.animationQueue=i,this.updateMask()}runAnimation(e){this.clearTimer();const t=e(this),{fn:i}=t,n=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(t,jE),r=()=>{this.lastTickTime=Date.now(),this.animationSettings=n,i(),void 0!==this.targetPosition&&(this.initialDiff=this.targetPosition-this.currentPosition),this.rerunTask()};null!=n&&n.delay?this.timer=setTimeout((()=>{r()}),n.delay):r()}resetPosition(){this.targetPosition=void 0,this.currentPosition=0,this.runningTask=void 0}isMaxRightPosition(){return this.currentPosition===this.maxPosition}isMaxLeftPosition(){return this.currentPosition<1}stopAnimation(){this.runningTask&&this.animationQueue.remove(this.runningTask),this.clearTimer()}updateMask(){this.container.dataset.left="false",this.container.dataset.right="false",this.container.dataset.container_mask="false",this.maxPosition&&(this.container.dataset.container_mask="true",this.isMaxLeftPosition()?this.container.dataset.left="true":this.isMaxRightPosition()&&(this.container.dataset.right="true"))}onFinish(){this.runningTask=void 0,this.animationSettings.finishCb&&this.animationSettings.finishCb()}startTask(){const e={onStart:t=>{if(void 0===this.targetPosition)return void t();const i=this.targetPosition-this.currentPosition;Math.abs(i)<1?(this.currentPosition=this.targetPosition,this.onFinish()):(this.animationSettings.duration&&this.initialDiff?this.currentPosition+=this.initialDiff*this.getDeltaTimeCof():this.currentPosition+=this.useEasingFn(i),this.animationQueue.push(e)),this.lastTickTime=Date.now(),t()},onStop:e=>{e()}};this.animationQueue.push(e),this.runningTask=e}rerunTask(){this.runningTask||this.startTask()}clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=void 0)}getDeltaTimeCof(){return this.lastTickTime&&this.animationSettings.duration?(Date.now()-this.lastTickTime)/this.animationSettings.duration:0}useEasingFn(e){return this.animationSettings.easingFn?this.animationSettings.easingFn(e):(e=>.057*e)(e)}}const YE=function(e,t){return void 0===e&&(e=1e3),void 0===t&&(t=5e3),i=>({fn:()=>{i.targetPosition=i.maxPosition},delay:e,duration:t,finishCb:()=>{i.runAnimation((e=>({fn:()=>{e.targetPosition=0},duration:1e3,delay:1e3})))}})},GE=jr({isTouchScreenDevice:!1});GE.Provider.displayName="IsTouchScreenDeviceContext";const qE=e=>{let{adDisplayController:t}=e;return{isTouchScreenDevice:de(t.slotParameters.window)}},XE=()=>Zr(GE),KE=jr(void 0);KE.Provider.displayName="VisibilitySlotParameters";const JE=e=>{let{adDisplayController:t}=e;return t.visibilitySlotParameters},ZE=()=>Zr(KE),QE=5e3;class $E{constructor(e){void 0===e&&(e={}),this.queue=[],this.timer=null,this.runningTask=null;const{delay:t=QE}=e;this.delay=t}push(e){-1===Th(this.queue,(t=>t===e))&&(this.queue.push(e),this.start())}remove(e){const t=Th(this.queue,(t=>t===e));if(t>-1)this.queue.splice(t,1),0===this.queue.length&&this.stop();else if(this.isRunningTask(e)){const t=this.runningTask.next;this.runningTask=null,e.onStop(t)}}isRunningTask(e){return this.runningTask&&e===this.runningTask.task}start(){null===this.runningTask&&null===this.timer&&this.sleep()}stop(){this.timer&&clearTimeout(this.timer),this.runningTask=null,this.timer=null}sleep(){this.runningTask=null,this.timer=setTimeout(this.run.bind(this),this.delay,this)}run(){this.timer=null,this.runningTask=null;const e=this.queue.shift();e&&(this.runningTask={task:e,next:a((()=>this.sleep()))},e.onStart(this.runningTask.next))}}new $E;const ew=function(e,t){function i(e){var i=this.props.ref,n=i==e.ref;return!n&&i&&(i.call?i(null):i.current=null),t?!t(this.props,e)||!n:Ia(this.props,e)}function n(t){return this.shouldComponentUpdate=i,yr(e,t)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}((e=>{va(zE());const{children:t,className:i,autoplay:n=!0,autoplayDelay:r=1e3,autoplayDuration:o=5e3,scrollerClassName:a}=e,s=n,l=Xr(null),{isTouchScreenDevice:d}=XE(),{visibilityRatio:c}=ZE()||{};return Gr((()=>{const e=l.current;if(!e)return;const t=new $E({delay:16.66}),i=new WE(e,e,t);e.addEventListener("mousemove",(e=>{i.runAnimation((e=>t=>{const{clientWidth:i,scrollWidth:n}=t.scroller,r=t.scroller.getBoundingClientRect(),o=Math.max(20,i*i/n),a=i-o,s=e.clientX-r.left-o/2,l=Math.max(0,Math.min(1,s/a)),d=t.maxPosition*l;return{fn:()=>{t.targetPosition=d}}})(e))})),e.addEventListener("mouseleave",(()=>{s&&i.runAnimation(YE(r,o))})),e.addEventListener("scroll",(e=>{d&&(i.currentPosition=e.currentTarget.scrollLeft),i.updateMask()}));let n=!1;!n&&s&&(i.runAnimation(YE(r,o)),n=!0);const a=e=>{l.current&&s&&(0!==e?n||(i.runAnimation(YE(r,o)),n=!0):(i.resetPosition(),n=!1))};return null==c||c.add(a),()=>{null==c||c.remove(a)}}),[l]),yr("div",{className:ha(HE.locals.container,i)},yr("div",{ref:l,className:ha(HE.locals.scroller,a)},t))}));var tw=e(7845),iw=e.n(tw);const nw=e=>{let{greenUrl:t,domainSize:i,hasFixedWidth:n=!0}=e;return va(iw()),yr("div",{className:ha(tw.locals.InfoBlock,{[tw.locals.InfoBlock_domain_s]:"s"===i,[tw.locals.InfoBlock_domain_m]:"m"===i,[tw.locals.InfoBlock_fixed]:n})},t?yr("div",{className:tw.locals.InfoBlock__greenUrl},yr(ew,{autoplayDelay:3e3},t)):null)};var rw=e(5084),ow=e.n(rw),aw=e(9879),sw=e.n(aw);const lw=e=>Wb+e.slice(e.lastIndexOf("/")),dw=e=>{const t=pa(e.currentVastAd);return Kr((()=>{var i,n;const{tgaOfferClickUrl:r,vastClickUrl:o,serializablePlaybackParametersClickUrl:a}=null!=(i=null==t?void 0:t.clickUrlData)?i:{},s=null!=(n=null!=r?r:o)?n:a;return void 0===s?void 0:N(s,{[Up]:fu,[nm]:e.getAdPlacementOptions().adPodId})}),[t])},cw=jr({isAbuseSupported:!1,abuseButtonClickHandler:Y,abuseDisplayStatus:"hidden",abuseScreenCloseHandler:Y,abuseVariantChooseHandler:Y,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:Y,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:Y,isAbuseSubmitted:!1,setAbuseSubmitted:Y,abuseSubmitType:void 0,setAbuseSubmitType:Y,previousDisplayType:"default",setPreviousDisplayType:Y,destroyCurrentViewer:Y,abuseScaleRate:void 0,setAbuseScaleRate:Y,legalText:void 0,onAbuseCopyLinkToClipboardClick:Y,resetAbuseVisualState:Y,abusePlaceholderHint:"",abusePlaceholderText:"",clientTin:void 0,clientName:void 0,clientId:void 0,clientAlternativeTin:void 0,clientType:void 0,nroaInform:void 0});cw.Provider.displayName="AbuseContext";const uw=e=>{let{adDisplayController:t}=e;const i=pa(t.pauseByOpenAbuseScreen),n=pa(t.abuseDisplayStatus),r=pa(t.clientInfo),o=pa(t.nroaInform),{abuseParameters:a,playingState:s}=t,{abuseUrl:l,legalText:d}=pa(a),c=lw(l),[u,h]=Yr(""),[p,m]=Yr("default"),[v,g]=Yr(!1),[f,A]=Yr(void 0),[_,y]=Yr("default"),[b,S]=Yr(void 0);Gr((()=>{"play"===s.getValue()&&"hidden"!==n&&t.handleAbuseScreenCloseByResumeError()}),[n,s]);const T=dw(t),E=T?()=>{t.onAbuseCopyLinkToClipboardClick(T)}:void 0,w=Jr((()=>{g(!1),A(void 0),m("default")}),[g,A,m]),C=dE();let P="",k="";switch(f){case"complaint":P=C("ABUSE_PLACEHOLDER_TEXT_COMPLAINT"),k=C("ABUSE_PLACEHOLDER_HINT_COMPLAINT");break;case"hide":P=C("ABUSE_PLACEHOLDER_TEXT_HIDE"),k=C("ABUSE_PLACEHOLDER_HINT_HIDE")}return Ma({isAbuseSupported:Boolean(l),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseDisplayStatus:n,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i,destroyCurrentViewer:t.destroyCurrentViewer,onAbuseCopyLinkToClipboardClick:E,abuseCustomReasonText:u,abuseCustomReasonTextHandler:h,abuseActiveDisplayType:p,setAbuseActiveDisplayType:m,resetAbuseVisualState:w,abuseSubmitType:f,setAbuseSubmitType:A,isAbuseSubmitted:v,setAbuseSubmitted:g,previousDisplayType:_,setPreviousDisplayType:y,abuseScaleRate:b,setAbuseScaleRate:S,legalText:d,abusePlaceholderHint:k,abusePlaceholderText:P,advertiserInfoUrl:c},null!=r?r:{},{nroaInform:o})},hw=()=>Zr(cw),pw=jr(void 0);pw.displayName="AdFoxTuneContext";const mw=e=>{let{adDisplayController:t}=e;const i=PT(),n=pa(t.adFoxAdTuneParameters);if(!n||void 0===n||!1===n.show)return;const{advertiserInfo:r,token:o}=n;return{token:o,copyToken:()=>{i({name:"AdFoxAdTuneCopiedToken",probability:Hu}),Ba(o)},advertiserInfo:r}},vw=()=>Zr(pw),gw=e=>!1!==e.abuse;let fw=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.LEGAL=1]="LEGAL",e[e.PHYSICAL=2]="PHYSICAL",e[e.INDIVIDUAL=3]="INDIVIDUAL",e[e.FOREIGN_LEGAL=4]="FOREIGN_LEGAL",e[e.FOREIGN_PHYSICAL=5]="FOREIGN_PHYSICAL",e}({});const Aw=e=>{let{clientName:t,clientTin:i,clientId:n,useVat:r,translate:o}=e;const a=null==n?void 0:n.toString();let s="";return t&&i&&a&&(s=o(r?"ADVERTISER_FULL_INFO_WITH_VAT":"ADVERTISER_FULL_INFO_WITH_TIN")),t&&i&&!a&&(s=o(r?"ADVERTISER_NAME_WITH_VAT":"ADVERTISER_NAME_WITH_TIN")),t&&a&&!i&&(s=o("ADVERTISER_NAME_WITH_ERID")),!t||a||i?(!t&&a&&i&&(s=o(r?"ADVERTISER_ERID_WITH_VAT":"ADVERTISER_ERID_WITH_INN")),t||i||!a||(s=o("ADVERTISER_ERID")),t||a||!i||(s=o(r?"VAT":"TIN")),s.replace("{clientId}",a).replace("{tin}",i).replace("{name}",t)):t},_w=()=>{const{clientId:e,clientTin:t,clientType:i,clientAlternativeTin:n,clientName:r}=hw();return((e,t)=>{let{clientId:i,clientTin:n,clientType:r,clientAlternativeTin:o,clientName:a}=e;return r===fw.PHYSICAL||r===fw.FOREIGN_PHYSICAL||r===fw.UNKNOWN?(e=>{let{clientId:t,translate:i}=e;return Boolean(t)?i("ADVERTISER_ERID").replace("{clientId}",String(t)):""})({translate:t,clientId:i}):r===fw.LEGAL||r===fw.INDIVIDUAL?Aw({clientName:a,clientTin:n,clientId:i,useVat:!1,translate:t}):r===fw.FOREIGN_LEGAL?Aw({clientName:a,clientTin:o,clientId:i,useVat:!0,translate:t}):""})({clientId:e,clientTin:t,clientType:i,clientAlternativeTin:n,clientName:r},dE())},yw=()=>{const{isAbuseSupported:e,legalText:t}=hw(),i=vw(),n=nE(),r=gw(n),o=_w();return!(!r&&!Wm)&&!!(e||i||m(o)||m(t))},bw=()=>{const e=nE();return yw()&&Boolean(e.abuseInCtaButton)};var Sw=e(7273),Tw=e.n(Sw);const Ew=jr(!1);Ew.Provider.displayName="IsModernInstreamSurveyContext";const ww=()=>Zr(Ew),Cw=e=>{let{isActive:t,hideBackground:i}=e;va(Tw());const n=i?0:.1,r=ww()?"#2527297D":"#fff";return yr("svg",{className:ha(Sw.locals.AbuseAnimationIcon,{[Sw.locals.AbuseAnimationIcon_cross]:t,[Sw.locals.AbuseAnimationIcon_background_none]:i}),width:"24",height:"24",fill:r,xmlns:"http://www.w3.org/2000/svg"},yr("g",{className:Sw.locals.AbuseAnimationIcon__lines},yr("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:r,class:ha(Sw.locals.AbuseAnimationIcon__line,Sw.locals.AbuseAnimationIcon__line_left)}),yr("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:r,class:ha(Sw.locals.AbuseAnimationIcon__line,Sw.locals.AbuseAnimationIcon__line_right)})),yr("g",null,yr("rect",{width:"24",height:"24",rx:"12","fill-opacity":n}),yr("g",null,yr("circle",{class:ha(Sw.locals.AbuseAnimationIcon__dot,Sw.locals.AbuseAnimationIcon__dot_top),fill:r,cx:"12",cy:"6",r:"1.5"}),yr("circle",{class:Sw.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),yr("circle",{class:ha(Sw.locals.AbuseAnimationIcon__dot,Sw.locals.AbuseAnimationIcon__dot_bottom),fill:r,cx:"12",cy:"18",r:"1.5"}))))},Pw=450,kw=300,Iw=1080,Ow=Iw-kw,Dw=40,Nw=70,Rw=Nw-Dw,xw=e=>e.width<Pw||e.height<300,Vw=e=>{let{width:t,height:i}=e;const n=bw(),r=xw(cT());return!(!n||!r)||t<=240||i<=280};var Lw=e(7804),Mw=e.n(Lw);const Bw=e=>{let{onClickHandler:t,isActive:i,hideBackground:n,position:r,size:o}=e;va(Mw());const a=Vw(cT()),s=bw(),l=xw(cT()),d=s&&(m(o)?"small"===o:l);return yr("div",{onClick:t,className:ha(Lw.locals.AbuseBurgerButton,{[Lw.locals.AbuseBurgerButton_inFullSize]:a,[Lw.locals.AbuseBurgerButton_inCta]:s,[Lw.locals.AbuseBurgerButton_inCtaSmall]:d}),style:r},yr(Cw,{isActive:i,hideBackground:(!a||!i)&&n}))},Fw=e=>"selection"===e,Uw=e=>{let{className:t,size:i,hideBackground:n=!0}=e;va(sw());const r=yw(),{abuseScreenCloseHandler:o,abuseButtonClickHandler:a,abuseDisplayStatus:s}=hw(),l=bw(),d=xw(cT()),c=Fw(s);if(!r)return null;if(!l)return null;const u=m(i)?"small"===i:d;return yr("div",{className:ha(aw.locals.AbuseInCta,{[aw.locals.AbuseInCta_small]:u},t)},yr(Bw,{onClickHandler:e=>(e.preventDefault(),e.stopPropagation(),oa({control:c?"AdTuneScreenClose":"AdTuneScreenKebab",purpose:"adTune"}),c?o():a()),isActive:!1,hideBackground:n,size:i}))},Hw={ys:(zw=e(2010),"string"===typeof zw?JSON.parse(zw):zw)};var zw;const jw="m",Ww=e=>{const{width:t="1em",height:i="1em",style:n={}}=e,{margin:r="0 -0.1em"}=n;return yr("svg",{width:t,height:i,style:za({fontSize:"0.6em",width:"0.87em",height:"1em",margin:r},n),viewBox:"14 14 38 38"},yr("g",{"fill-rule":"nonzero",fill:"currentcolor"},yr("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var Yw=e(1961),Gw=e.n(Yw);const qw=e=>null===e&&void 0===e?{}:{"data-name":e};let Xw=function(e){return e.TOP_GREEN_URL="top-green-url",e.MUTE_UNMUTE="mute-unmute",e.AD_LABEL="ad-label",e.TIMELINE="timeline",e.CTA_PANEL="cta-panel",e.CTA_BUTTON="cta-button",e.PACKSHOT="packshot",e.PACKSHOT_TITLE="packshot-title",e.PACKSHOT_BUTTON_WRAPPER="packshot-button-wrapper",e.PACKSHOT_BACKGROUND="packshot-background",e.ECOM_ITEM_PRICE="ecom-item-price",e.ECOM_ITEM_NAME="ecom-item-name",e.ECOM_ITEM_IMG="ecom-item-img",e.ECOM_ITEM_CARD="ecom-item-card",e.ECOM_DOMAIN_FAVICON="ecom-domain-favicon",e.ECOM_DOMAIN_TITLE="ecom-domain-title",e.ECOM_DOMAIN_TEXT="ecom-domain-text",e}({});const Kw=e=>{let{size:t,children:i}=e;return va(Gw()),yr("div",ja({className:ha(Yw.locals.ActionButton,{[Yw.locals.ActionButton__content_small]:"small"===t})},qw(Xw.CTA_BUTTON)),yr("div",{className:Yw.locals.ActionButton__textWrapper},i),yr(Ww,{style:{width:"2em",height:"2em",padding:"0 0.2em",flexShrink:"0",margin:"0 0 0 "+(Boolean(i)?"0.3em":"0")}}))};var Jw=e(765),Zw=e.n(Jw);const Qw=e=>{let{className:t,style:i}=e;return yr(Wa,{className:t,style:i})},$w=3360/72,eC=jr({isPackshotPlaying:!1});eC.Provider.displayName="SkinPackshotContext";const tC=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:pa(t)}},iC=()=>Zr(eC),nC=jr({ecomShopState:{ecomShop:void 0,isVisible:!1,isCtaEnabled:!1,isDomainEnabled:!1},setShopVisibility:Y});nC.Provider.displayName="SkinEcomShopStateContext";const rC=()=>Zr(nC),oC=jr("middle");oC.Provider.displayName="SkinSizeNameContext";const aC=()=>Zr(oC),sC=jr("default");sC.Provider.displayName="SkinVariantContext";const lC=()=>Zr(sC),dC=jr({shouldShowSkipButton:!0});dC.Provider.displayName="SkipButtonContext";const cC=e=>{let{adDisplayController:t}=e;return pa(t.shouldShowSkipButton)},uC=.1,hC=.05,pC=Math.max(uC,hC),mC=jr({videoInComboNewPackshotVisibility:void 0});mC.Provider.displayName="SkinPackshotContext";const vC=e=>{let{videoInComboNewPackshotVisibility:t}=e;return{videoInComboNewPackshotVisibility:pa(t)}},gC=()=>Zr(mC),fC={S:{min:0,max:450},M:{min:450,max:720},L:{min:720,max:960},XL:{min:960,max:Number.POSITIVE_INFINITY}},AC=c(fC),_C=jr("S");_C.Provider.displayName="SkinWidthBreakpointsNameContext";const yC=jr(!1);yC.Provider.displayName="KeepControlsAfterVideoEndContext";const bC=()=>Zr(yC),SC=e=>EC(e)&&("TRUE"===sy("VAS_USE_NEW_RMP_DESIGN_INSTREAM_V1")||"TRUE"===sy("VAS_USE_NEW_RMP_DESIGN_INSTREAM_V2")),TC=()=>"TRUE"===sy("VAS_USE_NEW_RMP_DESIGN_INSTREAM_V1"),EC=e=>{const{app:t,appIcon:i}=e||{};return n(t)&&m(t.name)&&m(null==i?void 0:i.url)},wC=e=>function(e){const t=parseFloat(e.fontSize),i=4*t*280/48+20,n=10*t,r=e.faviconSrc?32:0,o=e.isAbuseInCtaButton?30:10,a=m(e.panelLabel)?Ha({chars:e.panelLabel,settings:{fontSize:t}}):0,s=m(e.greenUrl)?Ha({chars:e.greenUrl,settings:{fontSize:.8*t}}):0,l=Math.min(n,Math.max(a,s)),d=i-20-(e.faviconSrc?$w:10)-o-r-l-13-t- -.1*t-(e.buttonLabel?.3*t:0)-2*t-.4*t,c=Ha({chars:e.buttonLabel,settings:{fontSize:t}}),u="TRUE"===Tu.getFlagValueAndActivateTestId("VAS_RENDER_SMALL_ACTION_BUTTON_IF_NOT_ENOUGH_SPACE_FOR_TEXT");return c>=d&&u?(e=>{let{size:t="s"}={size:"m"};return va(Zw()),yr("div",{className:ha(Jw.locals.RoundActionButton,{[Jw.locals.RoundActionButton_size_m]:"m"===t,[Jw.locals.RoundActionButton_size_s]:"s"===t})},yr(Qw,{className:ha({[Jw.locals.RoundActionButton__Icon]:"s"===t})}))})():Kw({children:"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_DISABLE_CTA_LABEL_TEXT")?null:e.buttonLabel,size:"big"})}(e),CC=e=>{va(ow());const t=cE()("THEME_EMPTY_ACTION_BUTTON_LABEL"),i=bw(),{greenUrl:n,onClickThrough:r,buttonLabel:o=t,faviconSrc:a,targetUrl:s,useDefaultButtonLabel:l=!1,domainSize:d="s",hasFixedWidth:c=!0}=e,{fontSize:u}=qa(),h={fontSize:u,buttonLabel:l?t:o,faviconSrc:a,greenUrl:n,isAbuseInCtaButton:i,panelLabel:void 0};return yr("div",{className:ha(rw.locals.ActionPanel__clickableLayer,c&&rw.locals.ActionPanel__clickableLayer_fixed)},yr("div",Xa({className:rw.locals.ActionPanel},qw(Xw.CTA_PANEL)),yr("div",{className:rw.locals.ActionPanel__content},yr(PE,{url:s,onClick:()=>{r({clickSource:"ActionPanel",playerHandles:!0,url:void 0})}},yr("div",{className:ha(rw.locals.ActionPanel__mask,{[rw.locals.ActionPanel__mask_withoutOffsetLeft]:i,[rw.locals.ActionPanel__mask_fixed]:c})},yr(Uw,{size:"big"}),a?yr("div",{className:ha(rw.locals.ActionPanel__favicon)},yr("img",{src:a,alt:"favicon"})):null,yr("div",{className:rw.locals.ActionPanel__wrapper},n&&yr(nw,{greenUrl:n,domainSize:d,hasFixedWidth:c}),yr(wC,h)))))))};var PC=e(3780),kC=e.n(PC);const IC=e=>{va(kC());const t=nE(),i=cE(),{themeEmptyParameters:n}=TE(),r=cT(),{clickUrl:o,clickThrough:a}=eE(),{greenUrl:s,targetUrl:l}=n||{},d=Jr((()=>{a({url:o,playerHandles:!0,clickSource:"SkinActionButton"})}),[a,o]),{showLabelOnButton:c,faviconSrc:u,hasFixedWidth:h=!0}=e,p=i("THEME_EMPTY_ACTION_BUTTON_LABEL"),m=i("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),v=null!=s?s:m;let g=r.width>=260;g&&!1===t.ctaDomain&&(g=!1);const f=ha(PC.locals.ActionPanelSmall__label,h&&PC.locals.ActionPanelSmall__label_fixed);return yr(PE,{url:l,onClick:d,className:ha(PC.locals.ClickThrough,h&&PC.locals.ClickThrough_fixed)},yr("div",{className:PC.locals.ActionPanelSmall__clickableContainer},yr("div",Ka({className:PC.locals.ActionPanelSmall},qw(Xw.CTA_PANEL)),yr(Uw,{size:"small"}),u?yr("div",{className:PC.locals.ActionPanelSmall__favIconContainer},yr("img",{className:PC.locals.ActionPanelSmall__favIcon,src:u,alt:"favicon"})):void 0,g&&yr("span",{className:f},yr(ew,{autoplay:!0},v)),yr("div",{style:{paddingRight:4}},yr(Kw,{size:"small"},c&&"TRUE"!==Tu.getFlagValueAndActivateTestId("VAS_DISABLE_CTA_LABEL_TEXT")?p:void 0)))))};var OC=e(711),DC=e.n(OC);const NC=e=>{let{children:t}=e;return va(DC()),yr("div",{className:OC.locals.PackshotButton},yr("div",{className:OC.locals.PackshotButton__content},t))};var RC=e(3317),xC=e.n(RC);const VC=e=>{let{width:t,height:i}=e;return va(xC()),yr("div",{className:RC.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})};var LC=e(333),MC=e.n(LC);const BC={"App Store":{icon:()=>yr("svg",{width:"18",height:"16",xmlns:"http://www.w3.org/2000/svg"},yr("path",{d:"M2.43 12.874c.027-.053.08-.08.133-.106.212-.053.424-.106.636-.106.583 0 1.113.212 1.537.583a.163.163 0 0 1 .026.185l-1.086 1.855c-.212.371-.61.583-1.007.583-.239 0-.477-.08-.689-.238-.477-.345-.583-1.034-.292-1.537l.742-1.22Zm14.124-2.835c.61 0 1.14.45 1.192 1.033.053.689-.477 1.272-1.14 1.272h-1.404l1.034 1.775c.291.504.185 1.193-.292 1.537-.212.16-.45.239-.689.239-.397 0-.794-.212-1.006-.583l-2.491-4.32-1.961-3.391c-.027-.027-.027-.053-.027-.106 0-.133-.026-.265-.026-.398 0-.927.212-1.855.636-2.597.053-.079.185-.079.238 0l3.233 5.512h2.703v.027Zm-6.095.053c.583.344.954 1.006.954 1.748 0 .16-.026.292-.053.45 0 .027-.053.054-.08.054H1.398a1.15 1.15 0 0 1-1.14-1.272c.054-.61.584-1.033 1.193-1.033h2.623L7.651 3.89l-.98-1.67A1.13 1.13 0 0 1 7.2.606c.556-.238 1.192 0 1.51.504l.291.503.318-.53C9.664.5 10.433.314 10.99.712c.503.344.609 1.033.29 1.563l-4.557 7.764h3.551c.08 0 .132.026.185.053Z"})),width:18,color:"#3D7BF5"},"Google Play":{icon:()=>yr("svg",{width:"16",height:"18",xmlns:"http://www.w3.org/2000/svg"},yr("path",{d:"m2.993 1.078 8.75 4.684-2.67 2.67L1.62.977c.427-.155.92-.143 1.374.1ZM12.485 6.16l2.52 1.349c1.193.638 1.193 2.348 0 2.986l-2.52 1.35-2.842-2.843 2.842-2.842ZM.936 1.438A1.67 1.67 0 0 0 .5 2.574v12.863c0 .45.169.842.436 1.136l7.567-7.567L.936 1.438ZM2.992 16.922a1.672 1.672 0 0 1-1.374.1l7.455-7.454 2.67 2.67-8.75 4.684Z"})),width:16,color:"#3D8F66"}},FC=e=>R(["App Store","Google Play"],e)?e:"App Store",UC=e=>BC[FC(e)].color;var HC=e(8602),zC=e.n(HC);const jC=()=>yr("svg",{width:"13",height:"16",xmlns:"http://www.w3.org/2000/svg"},yr("path",{d:"M6.5 0a1 1 0 0 0-1 1v6.79c0 .473.034.945.1 1.414l.138.958-.047.046-.464-.741a10 10 0 0 0-1.405-1.765L3.41 7.29a1 1 0 1 0-1.413 1.413l3.8 3.8a1 1 0 0 0 1.414-.001l3.793-3.799A1 1 0 0 0 9.59 7.29l-.407.407a10 10 0 0 0-1.402 1.76l-.472.752-.046-.046.136-.96c.067-.468.101-.94.101-1.414V1a1 1 0 0 0-1-1Zm-6 15a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2h-10a1 1 0 0 1-1-1Z",fill:"#fff"})),WC=e=>{let{storeName:t,mode:i,fullWidth:n,styleVars:r}=e;va(zC());const{fontSize:o=12,height:a=32,smallWidth:s=56,gap:l=20,maxWidth:d="unset",borderRadius:c=8}=r||{},u={storeName:t,fullWidth:n};return yr("div",{style:{"--vas-rmp-cta-btn-bg":UC(t),"--vas-rmp-cta-btn-fs":o+"px","--vas-rmp-cta-btn-h":a+"px","--vas-rmp-cta-btn-w":s+"px","--vas-rmp-cta-btn-mw":""+("unset"===d?d:d+"px"),"--vas-rmp-cta-btn-top-gap":l+"px","--vas-rmp-cta-btn-br":c+"px"},className:ha(n&&HC.locals.rmpCta__wrapper)},"big"===i?yr(Qa,u):yr(Za,null))},YC=function(e,t,i){void 0===e&&(e="google play");const n="en"===t?"the App Store":"App Store",r="google play"===e.toLowerCase()?e:n;return i("INSTALL_FROM_STORE").replace("{store}",r)};var GC=e(3875),qC=e.n(GC);class XC extends wh{constructor(e){var t;super(),this.resizeObserverCallback=e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})},this.getElementWindow=e=>{var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||null};const i=qh(e);this.onResize=new Yh({width:i.width,height:i.height},((e,t)=>{let{width:i,height:n}=t;return e.width===i&&e.height===n})),this.addDestroyHandler((()=>{this.onResize.removeAll()}));const n=this.getElementWindow(e),r=null!=(t=null==n?void 0:n.ResizeObserver)?t:window.ResizeObserver;if("undefined"!==typeof r&&l(ResizeObserver))try{const t=new r(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler((()=>{t.disconnect()}))}catch(cL){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return $a({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=qh(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Ne({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(Dn(i))}}const KC=25,JC=e=>{va(qC());const{children:t,scrollSpeed:i=KC,classNames:n,disableNegativeMargins:r}=e,o=Xr(null),a=Xr(null),{visibilityRatio:s}=ZE()||{},{width:l}=es(o)||{width:0},[d,c]=Yr(0),[u,h]=Yr(!1),[p,m]=Yr(1);qr((()=>{if(!a.current)return;const{width:e}=a.current.getBoundingClientRect();d!==e&&c(e)}),[a.current]),qr((()=>{if(0===l||0===d)return;const e=l<d-3;var t;e&&(()=>{const e=(d-l)/i;m((e=>e+1+1+.3)(Math.max(1,e)))})(),(t=e)!==u&&h(t)}),[l,d]),Gr((()=>{const e=e=>{o.current&&(0===e?o.current.dataset.paused="":delete o.current.dataset.paused)};return null==s||s.add(e),()=>{null==s||s.remove(e)}}),[]);const v=u?{style:{"--scroll-animation-duration":p+"s","--scroll-animation-name":"scrollElement"}}:{},{startScrollPercent:g,stopScrollPercent:f,startScrollBackPercent:A,scrollLength:_}=((e,t,i)=>({startScrollPercent:1/e*100+"%",stopScrollPercent:(e-1-.3)/e*100+"%",startScrollBackPercent:(e-.3)/e*100+"%",scrollLength:t-i+"px"}))(p,l,d);return yr(Sr,null,yr("div",ts({className:ha(GC.locals.AnimatedScrolling,n,{[GC.locals.AnimatedScrolling_animation]:u,[GC.locals.AnimatedScrolling_margin_negative]:!r})},v,{ref:o}),yr("span",{ref:a,className:GC.locals.AnimatedScrolling__content},t)),u&&yr("style",null,"@keyframes scrollElement {\n                            0%,\n                            "+g+" {\n                                transform: translateX(0%);\n                            }\n\n                            "+f+",\n                            "+A+" {\n                                transform: translateX("+_+");\n                            }\n\n                            100% {\n                                transform: translateX(0%);\n                            }\n                        }"))};var ZC=e(2068),QC=e.n(ZC);const $C=e=>{let{label:t,buttonEl:i,faviconSrc:n,clickThroughSource:r,styleVariables:o}=e;va(QC());const{clickUrl:a,clickThrough:s}=eE(),{themeEmptyParameters:l}=TE(),{targetUrl:d}=l||{},c=Jr((()=>{s({url:a,playerHandles:!0,clickSource:r})}),[s,a]),u=m(t),h=m(n);return yr("div",{className:ZC.locals.BaseSmallActionPanel__clickableContainer,style:o},yr(PE,{url:d,onClick:c},yr("div",{className:ZC.locals.BaseSmallActionPanel},yr(Uw,{size:"small"}),h&&yr("div",{className:ZC.locals.BaseSmallActionPanel__favIconContainer},yr("img",{className:ZC.locals.BaseSmallActionPanel__favIcon,src:n,alt:"favicon"})),u&&yr(JC,{classNames:ZC.locals.BaseSmallActionPanel__label},t),i)))},eP=e=>{let{isVideInComboRmp:t=!1,__version__:i=0}=e;const{themeEmptyParameters:n}=TE(),{appIcon:r,app:o}=n||{},a=aE(),s=cT(),l=dE(),d=uE(),c=void 0===i?t||TC():!Boolean(i),u=YC(null==o?void 0:o.store_name,d,l),h=c?u:null==o?void 0:o.name,p=c?a:null==r?void 0:r.url,m=s.width>=260,v=!c&&s.width>=200,g=yr(WC,{styleVars:{height:25,smallWidth:40,borderRadius:4},storeName:null==o?void 0:o.store_name,mode:v?"big":"small",fullWidth:!1});return yr($C,{buttonEl:g,clickThroughSource:"RmpActionPanel",styleVariables:{"--base-small-action-panel-border-radius":"9px","--base-small-action-panel-favicon-size":"20px","--base-small-action-panel-padding":"0 4px","--base-small-action-panel-clickable-container-max-width":"unset","--base-small-action-panel-label-max-width":"90px","--base-small-action-panel-label-font-weight":"bold"},label:m?h:void 0,faviconSrc:p})};var tP=e(4641),iP=e.n(tP);const nP=e=>{let{infoBlockEl:t,buttonEl:i,faviconSrc:n,clickSources:r,styleVariables:o}=e;va(iP());const{themeEmptyParameters:a}=TE(),{targetUrl:s}=a||{},l=bw(),{clickThrough:d,clickUrl:c}=eE(),u=m(n),h=ha(tP.locals.BaseActionPanel__mask,l&&tP.locals.BaseActionPanel__mask_withoutOffsetLeft),p=ha(tP.locals.BaseActionPanel,l&&tP.locals.BaseActionPanel_flex),v=ha(tP.locals.BaseActionPanel__favicon,l&&tP.locals.BaseActionPanel__favicon_offsetLeft),g=Jr((e=>()=>{d({url:s,playerHandles:!0,clickSource:e})}),[d,c]);return yr("div",{className:tP.locals.BaseActionPanel__clicableLayer,style:o},yr("div",is({className:p},qw(Xw.CTA_PANEL)),yr("div",{className:tP.locals.BaseActionPanel__content},yr(PE,{url:s,onClick:g(r.panel)},yr("div",{className:h},yr(Uw,{size:"big"}),yr("div",{className:ha(tP.locals.BaseActionPanel__wrapper,!u&&tP.locals.BaseActionPanel__wrapper_wide)},t,i)),u&&yr("div",{className:v},yr("img",{src:n,alt:"favicon"}))))))},rP=e=>{let{className:t}=e;return yr("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},yr("path",{d:"M8 12.57l-3.85 2.34a.6.6 0 01-.9-.64L4.3 9.88.88 6.94a.6.6 0 01.34-1.05l4.49-.37 1.74-4.15a.6.6 0 011.1 0l1.74 4.16 4.49.36a.6.6 0 01.34 1.05L11.7 9.88l1.04 4.39a.6.6 0 01-.9.64L8 12.57z",fill:"currentColor"}))};var oP=e(2791),aP=e.n(oP);const sP=e=>{let{label:t}=e;va(aP());const{themeEmptyParameters:i}=TE(),{app:n}=i||{},r=Jt(null==n?void 0:n.rating);return t?yr("div",{className:oP.locals.RmpInfoBlock},yr(JC,{classNames:oP.locals.RmpInfoBlock__label},t),r&&yr("div",{className:oP.locals.RmpInfoBlock__ratingContainer},yr("span",{className:oP.locals.RmpInfoBlock__ratingStar},yr(rP,null)),yr("span",{className:oP.locals.RmpInfoBlock__ratingText},null==n?void 0:n.rating))):null},lP=e=>{let{compactMode:t,__version__:i,isVideInComboRmp:n}=e;const{themeEmptyParameters:r}=TE(),{app:o,appIcon:a}=r||{},s=aE(),{skinWidthBreakpoint:l}=qa(),d=dE(),c=uE(),u=void 0===i?n||TC():!Boolean(i);if(t)return yr(eP,{isVideInComboRmp:n,__version__:i});const h=YC(null==o?void 0:o.store_name,c,d),p=u?h:null==o?void 0:o.name,m=u?s:null==a?void 0:a.url,v=yr(sP,{label:p}),g={height:u?24:void 0,smallWidth:u?40:void 0},f=yr(WC,{storeName:null==o?void 0:o.store_name,mode:u?"small":"big",styleVars:g});return yr(nP,{infoBlockEl:v,buttonEl:f,clickSources:{icon:"RmpActionPanelIconImage",panel:"RmpActionPanel"},styleVariables:{"--base-action-panel-favicon-border-radius":"0px","--base-action-panel-favicon-image-border-radius":"8px","--base-action-panel-border-radius":"12px","--base-action-panel-height":"48px","--base-action-panel-width":"255px","--base-action-panel-max-width":"255px","--base-action-panel-font-size":"12px","--base-action-panel-wrapper-margin-left":"40px"},skinWidthBreakpoint:l,faviconSrc:m})},dP=e=>{va(MC());const t=cE(),i=cT(),{timeToSkip:n}=yE(),{skip:r}=nE(),o=function(e){let t;const{width:i}=e;let n;return t=i<360?14:i>=1024?32:Math.max(16,Math.min(14+2*Math.floor((i-240)/80),30)),n=i<560?13:i<720?14:16,{title:{fontSize:t,lineHeight:t+4},body:{fontSize:t-2,lineHeight:t+4},textBlock:{fontSize:n},ctaButton:{fontSize:Ua(e)}}}(i),a=function(e){const{width:t}=e;return t<640?.1*t:t<960?.15*t:.2*t}(i),{descriptionText:s,openClickThroughUrl:l,disableOverlay:d=!1,disableTitle:c=!1,disableButton:u=!1,clickUrl:h,title:p,packshotNewDesignMode:v,showAnimationDuration:g,shouldUseRmpActionPanel:f}=e,{themeEmptyParameters:A}=TE(),_=f||SC(A),y=void 0===A&&!0!==c&&!0!==u,b=void 0!==A&&!0!==u,S=ha(LC.locals.PackshotScreen,{[LC.locals.PackshotScreen_clickable]:y,[LC.locals.PackshotScreen_withAnimation]:"number"===typeof g}),T=!0===c?void 0:null!=p?p:t("LEARN_MORE_ON_ADVERTISERS_WEBSITE"),{greenUrl:E,label:w,targetUrl:C}=null!=A?A:{},P=aE(),k="OFF"!==v,I=!1!==r&&n>=0,O=i.width<=400&&k&&I&&i.width>i.height,D=i.width<=400,N=k?yr("div",{className:LC.locals.PackshotScreen__content},yr(IE,{isClickDisabled:y,clickThruUrl:h,onClickThru:()=>{l({clickSource:"PackshotTitle",playerHandles:!0,url:void 0})}},T&&yr("div",{style:{fontSize:o.title.fontSize+"px",lineHeight:o.title.lineHeight+"px",padding:"0 "+a+"px"}},yr("div",ns({className:LC.locals.PackshotScreen__title},qw(Xw.PACKSHOT_TITLE)),T))),b&&yr("div",ns({className:ha(LC.locals.PackshotScreen__buttonWrapper_newDesign,{[LC.locals.PackshotScreen__buttonWrapper_newDesign_float_left]:O}),style:{fontSize:o.ctaButton.fontSize+"px"}},qw(Xw.PACKSHOT_BUTTON_WRAPPER)),_?yr(lP,{compactMode:D,isVideInComboRmp:f}):O?null:D?yr(IC,{showLabelOnButton:!0,faviconSrc:P,hasFixedWidth:!1}):yr(CC,{useDefaultButtonLabel:O,greenUrl:E,buttonLabel:w,targetUrl:C,onClickThrough:y?Y:l,faviconSrc:O?void 0:P,domainSize:"s",hasFixedWidth:!1}))):A&&yr("div",{className:LC.locals.PackshotScreen__buttonWrapper},yr(PE,{url:h,onClick:()=>{l({url:void 0,playerHandles:!0,clickSource:"PackshotButton"})}},yr(NC,null,w||t("LEARN_MORE")))),{width:R,height:x}=i,V=yr("div",ns({className:S,style:{width:R+"px","--cp-show-animation-duration":"number"===typeof g?g+"s":"unset"}},qw(Xw.PACKSHOT)),!d&&yr("div",ns({className:LC.locals.PackshotScreen__packshotOverlayWrapper},qw(Xw.PACKSHOT_BACKGROUND)),yr(VC,{width:R,height:x})),N,m(s)&&yr("div",{className:k?LC.locals.PackshotScreen__textBlock_newDesgin:LC.locals.PackshotScreen__textBlock,style:{fontSize:o.textBlock.fontSize+"px"}},s));return y?(e=>yr(PE,{url:h,onClick:()=>{l({clickSource:"PackshotContainer",url:void 0,playerHandles:!0})}},e))(V):V};var cP=e(3507),uP=e.n(cP);const hP=e=>{let{disableBackground:t,disableBlur:i,theme:n="dark"}=e;return va(uP()),yr("div",{className:ha(cP.locals.PackshotOverlay,{[cP.locals.PackshotOverlay_theme_light]:"light"===n,[cP.locals.PackshotOverlay_theme_dark]:"dark"===n})},!t&&yr("div",{className:ha(cP.locals.PackshotOverlay__background,cP.locals.PackshotOverlay__fullsize)}),!i&&yr("div",{className:ha(cP.locals.PackshotOverlay__fullsize,cP.locals.PackshotOverlay__blur)}))};var pP=e(6457),mP=e.n(pP);const vP=jr({socialAdvertising:!1});vP.Provider.displayName="SocialAdvertisingContext";const gP=e=>{let{adDisplayController:t}=e;return{socialAdvertising:pa(t.socialAdvertising)}},fP=()=>Zr(vP);var AP=e(3654),_P=e.n(AP);const yP=e=>{let{size:t,tooltipText:i,label:n,dspLabel:r,ageRestriction:o,domain:a,onClick:s}=e;if(va(_P()),!m(n)&&!m(o))return null;const l=m(n);return yr("div",{className:ha(AP.locals.AdLabel,{[AP.locals.AdLabel_fullSize]:"small"!==t,[AP.locals.AdLabel_clickable]:l}),title:m(i)?i:void 0,onClick:l?s:void 0,"data-testid":"adLabel"},n,r?yr(Sr,null,m(n)&&yr("span",{className:AP.locals.AdLabel__delimiter},"|"),yr("span",null,r)):null,o?yr(Sr,null,m(n)&&yr("span",{className:AP.locals.AdLabel__delimiter},"|"),yr("span",{className:AP.locals.AdLabel__ageLabel},o)):null,a?yr(Sr,null,m(n)&&yr("span",{className:AP.locals.AdLabel__delimiter},"|"),yr("span",{className:AP.locals.AdLabel__domain},a)):null)},bP=jr({adSystemType:void 0,dspLabel:void 0,openAdSystemWebsite:Y});bP.Provider.displayName="AdSystemContext";const SP=e=>{let{adDisplayController:t}=e;const i=pa(t.currentVastAd);return{adSystemType:pa(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite,dspLabel:null==i?void 0:i.dspLabel}},TP=jr({creativeType:void 0});TP.Provider.displayName="CreativeTypeContext";const EP=e=>{let{adDisplayController:t}=e;return{creativeType:pa(t.creativeType)}},wP=()=>Zr(TP),CP=jr(void 0);CP.Provider.displayName="VideoSlotClickUrlContext";const PP=jr({domain:void 0});PP.Provider.displayName="AdTitleContext";const kP=e=>{var t;let{adDisplayController:i}=e;return{domain:null==(t=pa(i.adTitleParameters))?void 0:t.domain}},IP=jr(void 0);IP.Provider.displayName="NroaInformContext";const OP=e=>{let{adDisplayController:t}=e;return pa(t.nroaInform)},DP=()=>{const e=dE(),{socialAdvertising:t}=fP(),{openAdSystemWebsite:i,dspLabel:n}=Zr(bP),{clickThrough:r,clickUrl:o}=eE(),a=Zr(CP),{domain:s}=Zr(PP),{url:l}=Zr(IP)||{},d="TRUE"===Tu.getFlagValueAndActivateTestId("DISABLE_AD_LABEL_CLICK_GOTO_ADVERTISER_INFO_FOR_EXTERNAL_DSP")?void 0:l,{creativeType:c}=wP(),u="survey"===c;let h;return h=e(u?"SURVEY_AD_LABEL":t?"SOCIAL_ADVERTISING_AD_LABEL":"AD_TITLE"),{onClick:()=>{var e;if(t)return i();if(u)return r({url:"https://surveys.yandex.ru/landing/?from=direct_adlabel&utm_source=direct_adlabel",playerHandles:!0,clickSource:"SurveyAdLabel"});const n=null!=(e=null!=d?d:o)?e:a;return r({url:n,playerHandles:!0,clickSource:"SkinAdLabel"})},label:h,dspLabel:n,tooltipText:h,domain:s}};var NP=e(4011),RP=e.n(NP);const xP=jr({containerElement:void 0,setContainerElement:Y});xP.Provider.displayName="TooltipContainerContext";const VP=e=>{let{containerElement:t,setContainerElement:i}=e;return{containerElement:pa(t),setContainerElement:i}},LP=()=>Zr(xP),MP=jr({tooltipContent:void 0,setTooltipContent:Y});MP.Provider.displayName="TooltipContentContext";const BP=e=>{let{tooltipContent:t,setTooltipContent:i}=e;return{tooltipContent:pa(t),setTooltipContent:i}},FP=()=>Zr(MP),UP=e=>{var t,i;let{isSmall:n,theme:r="dark",position:o="top",showTooltipArrow:a=!0}=e;va(RP());const s=dE(),l=nE(),d=null!=(t=null==(i=ZT())?void 0:i.businessUnit)&&t,c=Xr(null),u="dark"===r?rs:os;return function(e){let{targetElementRef:t,content:i,arrowPosition:n,showArrow:r=!0}=e;const o=Zr(uT).ownerDocument.defaultView,{containerElement:a}=LP(),{setTooltipContent:s}=FP(),l=PT();qr((()=>{const e=t.current;if(!e)return;const d=new XS,c=de(o),u=()=>{if(!a)return void Ih.error({error:new Qu({code:"NO_CONTAINER_ELEMENT_TO_DRAW_TOOLTIP",details:{content:i}})});const t=e.getBoundingClientRect(),o=a.getBoundingClientRect(),d={top:t.top-o.top,left:t.left-o.left,winWidth:o.width,winHeight:o.height,width:t.width,height:t.height};l({name:"ShowTooltip",sensors:{isTouch:c}});const u={content:i,targetElementCoordinates:d,onClickClose:c?()=>{s(void 0)}:void 0,arrowPosition:n,showArrow:r};s(u)},h=()=>{s(void 0)};return d.subscribe(h),c?d.subscribe(Ne({element:e,eventName:"click",listener:u})):(d.subscribe(Ne({element:e,eventName:"mouseenter",listener:u})),d.subscribe(Ne({element:e,eventName:"mouseleave",listener:h}))),()=>{d.dispatch(void 0)}}),[t.current,i])}({targetElementRef:c,content:s("BU_LABEL_TOOLTIP_TEXT"),arrowPosition:o,showArrow:a}),!1===l.businessUnitAdLabel?null:d?yr("div",{ref:c,className:ha(NP.locals.BusinessUnitAdLabel,{[NP.locals.BusinessUnitAdLabel_small]:n})},yr(u,null)):null};var HP=e(1049),zP=e.n(HP);const jP=jr({playingState:"idle",isStarted:!1,isSlowStart:!1,play:Y,pause:Y});jP.Provider.displayName="PlayingStateContext";const WP=e=>{let{adDisplayController:t}=e;const[i,n]=Yr(!1),r=pa(t.playingState),o=pa(t.adSlowStart);return Gr((()=>{const e=t.onAdStart.addOne((()=>{n(!0)}));return()=>{e()}}),[]),{playingState:r,isStarted:i,isSlowStart:o,play:()=>{t.resume()},pause:()=>{t.pause()}}},YP=()=>Zr(jP),GP=e=>{let{show:t}=e;va(zP());const i=nE(),{playingState:n}=YP(),r=aC(),{socialAdvertising:o}=fP(),{themeEmptyParameters:a}=TE(),{ageRestriction:s}=a||{},l=!1!==i.ageLabel,d=!1!==i.socialAdLabel,{tooltipText:c,label:u,domain:h,onClick:p,dspLabel:m}=DP(),v=!1!==i.adLabel&&"idle"!==n,g=(t||o&&d||v)&&yr(yP,{size:r,label:u,tooltipText:c,dspLabel:m,ageRestriction:l?s:void 0,domain:h,onClick:p});return yr("div",{class:HP.locals.AdLabelsPanel},g,yr(UP,{isSmall:"small"===r}))},qP=e=>{let{onRepeatButtonClick:t,alternativeVersion:i}=e;va(mP());const n=cE(),r=cT().width>250;return yr("div",{class:pP.locals.VideoInComboPackshotScreen__PackshotHeader},!i&&yr("div",{className:pP.locals.VideoInComboPackshotScreen__adlabelContainer},yr(GP,{show:!0})),t&&yr("div",{class:ha(pP.locals.VideoInComboPackshotScreen__RepeatButton,i&&pP.locals.VideoInComboPackshotScreen__RepeatButton_alternative),onClick:t},r&&n("REPEAT"),yr("div",{className:ha(pP.locals.VideoInComboPackshotScreen__RepeatIconContainer,r&&pP.locals.VideoInComboPackshotScreen__RepeatIconContainer_paddingLeft)},yr(as,{className:pP.locals.VideoInComboPackshotScreen__RepeatIcon}))))},XP=e=>{const{onRepeatButtonClick:t}=e;return t?30:36};var KP=e(5379),JP=e.n(KP);const ZP=e=>{let{text:t,textLength:i,viewBox:n}=e;return va(JP()),yr("svg",{className:ha(KP.locals.DisclaimerSvg),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:n},yr("text",{className:KP.locals.DisclaimerSvg_text,lengthAdjust:"spacing",textLength:i,y:"85%"},t))};var QP=e(7629),$P=e.n(QP);const ek=((e,t,i,n)=>{const r=e=>.65*e-60,o=e=>Math.max(5,Math.min(e,330));return e=>{const t=r(e);return o(t)}})(),tk=e=>{let{text:t,heightPortion:i}=e;const n=cT();va($P());const{textLength:r,viewBox:o,fontSize:a}=function(e,t){const{width:i,height:n}=e,r=n,o=Math.min(r,ek(i)),a=Math.max(i,t.length*o/1.2);return{fontSize:o,textLength:a,textPositionOffset:(r+o/2)/2,viewBox:"0 0 "+a+" "+r}}({width:n.width,height:n.height*i},t);return yr("div",{className:QP.locals.Disclaimer,style:{height:n.height*i,fontSize:a}},yr(ZP,{text:t,textLength:r,viewBox:o}))},ik={S:{titleTextSizes:{fontSize:18,lineHeight:21},bodyTextSizes:{fontSize:14,lineHeight:18},buttonSizes:{fontSize:16,height:28,horizontalPaddings:28,maxWidth:224},containerPaddings:{top:8,right:12,bottom:12,left:12},gaps:{small:4,big:12}},M:{titleTextSizes:{fontSize:20,lineHeight:24},bodyTextSizes:{fontSize:14,lineHeight:18},buttonSizes:{fontSize:14,height:32,horizontalPaddings:25.5,maxWidth:256},containerPaddings:{top:12,right:16,bottom:16,left:16},gaps:{small:4,big:16}},L:{titleTextSizes:{fontSize:24,lineHeight:28},bodyTextSizes:{fontSize:16,lineHeight:20},buttonSizes:{fontSize:16,height:40,horizontalPaddings:28,maxWidth:224},containerPaddings:{top:12,right:16,bottom:16,left:16},gaps:{small:6,big:20}}},nk={S:{max:64,min:60},M:{max:70,min:60},L:{max:80,min:60}},rk={S:250,M:401,L:0},ok=["S","M","L"],ak=e=>qc(ok,(t=>e<(rk[t]||Number.POSITIVE_INFINITY)))||ok[ok.length-1],sk=e=>{const{width:t}=e,i=ak(t);return ik[i]},lk=e=>{const{faviconSrc:t,domain:i,title:n,body:r,label:o,disclaimerInfo:a,clickUrl:s,openClickThroughUrl:l,alternativeVersion:d}=e;va(mP());const c=cT(),u=sk(c),h=Xr(null),p=Xr(null),m=Xr(null),v=Xr(null),g=Xr(null),{titleTextSizes:f,bodyTextSizes:A,gaps:_,buttonSizes:y,containerPaddings:b}=u,{top:S,right:T,bottom:E,left:w}=b,C={"--vic-pc-title-font-size":f.fontSize+"px","--vic-pc-title-line-height":f.lineHeight+"px","--vic-pc-body-font-size":A.fontSize+"px","--vic-pc-body-line-height":A.lineHeight+"px","--vic-pc-container-paddings":S+"px "+T+"px "+E+"px "+w+"px","--vic-pc-container-gap-small":_.small+"px","--vic-pc-container-gap-big":_.big+"px","--vic-pc-cta-horizontal-paddings":y.horizontalPaddings+"px","--vic-pc-cta-height":y.height+"px","--vic-pc-cta-width":c.width-w-T<y.maxWidth?"100%":"fit-content","--vic-pc-cta-font-size":y.fontSize+"px"},P=e=>()=>{l({clickSource:e,playerHandles:!0,url:void 0})},[k,I]=Yr({title:!1,body:!1,button:!1});Gr((()=>{var e,t,i,n,r;if(k.title||k.body||k.button)return;if(!h.current)return;const o=(null==(e=h.current)?void 0:e.getBoundingClientRect().height)||0,a=(null==(t=p.current)?void 0:t.getBoundingClientRect().height)||0,s=(null==(i=m.current)?void 0:i.getBoundingClientRect().height)||0,l=(null==(n=v.current)?void 0:n.getBoundingClientRect().height)||0,d=(null==(r=g.current)?void 0:r.getBoundingClientRect().height)||0,c=o-S-E-(s&&_.small)-(l&&_.small)-(d&&_.big);let u=a+s+l+d;if(c>=u)return;const f={title:!1,body:!1,button:!1};u>c&&(f.body=!0,u-=l+_.small),u>c&&(f.button=!0,u-=d+_.big),u>c&&(f.title=!0,u-=s+_.small),I(f)}),[]);const{label:O}=DP();return yr("div",{className:pP.locals.VideoInComboPackshotScreen__PackshotMain,style:C},yr("div",{className:ha(pP.locals.VideoInComboPackshotScreen__PackshotMainContainer,d&&pP.locals.VideoInComboPackshotScreen__PackshotMainContent_horizontalPaddings,d&&pP.locals.VideoInComboPackshotScreen__PackshotMainContent_verticalPaddings,d&&pP.locals.VideoInComboPackshotScreen__PackshotMainContainer_justify_center),ref:h},yr("div",{className:ha(pP.locals.VideoInComboPackshotScreen__PackshotMainContent,pP.locals.VideoInComboPackshotScreen__area_gap_big,d&&pP.locals.VideoInComboPackshotScreen__PackshotMainContent_blur)},yr("div",{className:pP.locals.VideoInComboPackshotScreen__area_gap_small},yr(IE,{clickThruUrl:s,onClickThru:P("VideoInComboPackshotLogoAndUrl"),isClickDisabled:!1,className:pP.locals.VideoInComboPackshotScreen__logoAndUrl,innerRef:p},t&&yr("img",{src:t,class:pP.locals.VideoInComboPackshotScreen__favicon}),yr("div",{class:pP.locals.VideoInComboPackshotScreen__domainAndAdLabelContainer},i&&yr("div",{class:pP.locals.VideoInComboPackshotScreen__domain},i),d&&yr(Sr,null,yr("div",{class:pP.locals.VideoInComboPackshotScreen__adLabelInMain},O),yr(UP,{isSmall:!0})))),n&&!k.title&&yr(IE,{clickThruUrl:s,onClickThru:P("VideoInComboPackshotTitle"),isClickDisabled:!1,className:pP.locals.VideoInComboPackshotScreen__title,innerRef:m},n),r&&!k.body&&yr(IE,{clickThruUrl:s,onClickThru:P("VideoInComboPackshotBody"),isClickDisabled:!1,className:pP.locals.VideoInComboPackshotScreen__body,innerRef:v},r)),o&&!k.button&&yr("div",{className:pP.locals.VideoInComboPackshotScreen__footer},yr("div",{className:pP.locals.VideoInComboPackshotScreen__CTAbutton,ref:g},o,yr(IE,{clickThruUrl:s,onClickThru:P("VideoInComboPackshotButton"),isClickDisabled:!1},yr("div",{className:pP.locals.VideoInComboPackshotScreen__fullsize})))))),a&&yr(tk,{heightPortion:a.mandatoryHeightPortion,text:a.text}))},dk=e=>{va(mP());const{openClickThroughUrl:t,title:i,body:n,onHideCallback:r,disableAnimations:o}=e,a="TRUE"===Tu.getFlagValueAndActivateTestId("VAS_NEW_PACKSHOT_USE_ALTERNATIVE_VERSION"),s=a&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_NEW_PACKSHOT_LIGHT_THEME_FOR_ALTERNATIVE_VERSION"),l=cE(),d=uE(),c=aE(),{width:u}=cT(),{themeEmptyParameters:h}=TE(),p=Ga(ZT(),d),v=ha(pP.locals.VideoInComboPackshotScreen,pP.locals.VideoInComboPackshotScreen__content,pP.locals.VideoInComboPackshotScreen_withAnimation,s&&pP.locals.VideoInComboPackshotScreen_theme_light),g=u>=500?"big":"small",f=null!=i?i:l("LEARN_MORE_ON_ADVERTISERS_WEBSITE"),A=m(n)?n:void 0,_=(null==h?void 0:h.label)||l("MOTION_BTN"),[y,b]=Yr(!1),S=r?()=>{b(!0),r()}:void 0;return yr("div",{className:v,style:o?{"--cp-show-animation-duration":"0s"}:{},"data-hidden":y},yr("div",{className:pP.locals.VideoInComboPackshotScreen__packshotOverlayWrapper,onClick:S},yr(hP,{theme:a?"light":"dark"})),!a&&yr(qP,{onRepeatButtonClick:S}),yr(lk,{faviconSrc:c,domain:null==h?void 0:h.greenUrl,title:f,body:A,label:_,paddingsStyle:g,disclaimerInfo:p,clickUrl:null==h?void 0:h.clickUrl,openClickThroughUrl:t,alternativeVersion:a}))};var ck=e(7177),uk=e.n(ck),hk=e(8861),pk=e.n(hk);const mk=e=>{va(pk());const{rating:t}=e;if(!Number(t))return null;const i=Math.round(t/5*1e3)/10,n=[];for(let r=0;r<5;r++)n.push(yr(rP,{className:hk.locals.star}));return yr("div",{className:ha(hk.locals.starContainer)},yr("div",{className:hk.locals.starsEmpty},n),yr("div",{className:hk.locals.starsFilled,style:{width:i+"%"}},n))},vk=e=>{va(uk());const{disableAnimations:i,openClickThrough:n,store_name:r,name:o,review_count:a,rating:s,icons:l,body:d}=e,{themeEmptyParameters:c}=TE(),u=aE(),h=cE(),p=cT(),v=Xr(null),g=Xr(null),[f,A]=Yr("horizontal"),[_,y]=Yr(0),[b,S]=Yr("S"),[T,E]=Yr(!0),{titleTextSizes:w,bodyTextSizes:C,gaps:P,buttonSizes:k,containerPaddings:{top:I,right:O,bottom:D,left:N}}=sk(p),{max:R}=(e=>{const{width:t}=e,i=ak(t);return nk[i]})(p);Gr((()=>{var e,t;const{height:i}=(null==(e=v.current)?void 0:e.getBoundingClientRect())||{};let n=60,r=!1;i&&i>w.lineHeight&&(S("L"),n=R),i&&i>2*w.lineHeight&&(A("vertical"),y(1),r=!0);const o=r?(null!=i?i:0)+20:0,a=p.height-I-D-30-n-o-16-2*P.small-k.height-P.big,{height:s}=(null==(t=g.current)?void 0:t.getBoundingClientRect())||{};a<(null!=s?s:0)&&E(!1)}),[]);const x=e=>()=>{n({clickSource:e,playerHandles:!0,url:void 0})},V=t(a)?a.toLocaleString("ru"):void 0,L=(e=>{let{icons:t,iconSize:i}=e;if(!t)return;const n=tc(t)?t:zt(t);return bc(n,((e,t)=>Math.abs(t.width-i)<Math.abs(e.width-i)?t:e))})({iconSize:60,icons:l}),M=ss({},i&&{"--cp-show-animation-duration":"0s"},{"--vic-rmp-cta-color":UC(r),"--vic-pc-title-font-size":w.fontSize+"px","--vic-pc-title-line-height":w.lineHeight+"px","--vic-pc-body-font-size":C.fontSize+"px","--vic-pc-body-line-height":C.lineHeight+"px","--vic-pc-container-paddings":I+"px "+O+"px "+D+"px "+N+"px","--vic-pc-container-gap-small":P.small+"px","--vic-pc-container-gap-big":P.big+"px","--vic-pc-cta-horizontal-paddings":k.horizontalPaddings+"px","--vic-pc-cta-height":k.height+"px","--vic-pc-cta-width":p.width-N-O<k.maxWidth?"100%":"fit-content","--vic-pc-cta-font-size":k.fontSize+"px","--vic-pc-app-icon-max-side":R+"px"}),B=ha(ck.locals.RmpPackshot__app,"vertical"===f&&ck.locals.RmpPackshot__app_vertical,"horizontal"===f&&ck.locals.RmpPackshot__app_horizontal),F=ha(ck.locals.RmpPackshot__store,_&&ck.locals.RmpPackshot__store_ordered),U=ha(ck.locals.RmpPackshot__icon,"L"===b&&ck.locals.RmpPackshot__icon_large),H=ha(ck.locals.RmpPackshot__body,!T&&ck.locals.RmpPackshot__hidden);return yr("div",{className:ha(ck.locals.RmpPackshot__container,ck.locals.RmpPackshot__root),style:M},yr("div",{className:ck.locals.RmpPackshot__overlayWrapper},yr(hP,null)),yr("div",{className:ck.locals.RmpPackshot__header},yr("div",{className:ck.locals.RmpPackshot__adLabelContainer},yr(GP,{show:!0}))),yr("div",{className:ck.locals.RmpPackshot__contentContainer},yr("div",{className:ck.locals.RmpPackshot__content},yr("div",{className:ck.locals.RmpPackshot__info},yr("div",{className:F},yr(IE,{clickThruUrl:null==c?void 0:c.clickUrl,onClickThru:x("VideoInComboRmpPackshotDomain"),isClickDisabled:!1,className:ck.locals.RmpPackshot__storeIconWrapper},yr("img",{src:u,className:ck.locals.RmpPackshot__storeIcon,alt:"favicon"})),yr(IE,{clickThruUrl:null==c?void 0:c.clickUrl,onClickThru:x("VideoInComboRmpPackshotDomain"),isClickDisabled:!1,className:ck.locals.RmpPackshot__storeNameWrapper},yr("span",{className:ck.locals.RmpPackshot__storeName},r))),yr("div",{className:B},yr("div",null,yr(IE,{isClickDisabled:!1,onClickThru:x("VideoInComboRmpPackshotAppIcon"),clickThruUrl:null==c?void 0:c.clickUrl},yr("img",{className:U,src:null==L?void 0:L.url,alt:"Application image"}))),yr("div",null,yr(IE,{isClickDisabled:!1,onClickThru:x("VideoInComboRmpPackshotAppName"),clickThruUrl:null==c?void 0:c.clickUrl},yr("div",{className:ha(ck.locals.RmpPackshot__name,s&&ck.locals.RmpPackshot__name_withRating),ref:v},o)),s&&yr("div",null,yr(mk,{rating:s}),V&&yr("span",{className:ck.locals.RmpPackshot__reviews},V)))),m(d)&&yr("div",{className:H,ref:g},yr(IE,{clickThruUrl:null==c?void 0:c.clickUrl,onClickThru:x("VideoInComboRmpPackshotBody"),isClickDisabled:!1},d))),yr("div",{className:ck.locals.RmpPackshot__footer},yr("div",{className:ck.locals.RmpPackshot__cta},h("INSTALL"),yr(IE,{clickThruUrl:null==c?void 0:c.clickUrl,onClickThru:x("VideoInComboRmpPackshotButton"),isClickDisabled:!1},yr("div",{className:ck.locals.RmpPackshot__link})))))))};class gk extends XT{constructor(e){super(e),this.addDestroyHandler((t=>{ah("Packshot: destroy Packshot reason=["+t.reason+"]"),e.logStatsEvent({name:"PackshotDestroyed",data:{isInfiniteDuration:this.isInfiniteDuration,reason:t},probability:ju})}))}renderPackshotContent(e){const{onPackshotShowCallback:t,onPackshotHideCallback:i}=e,n=yr(aT,{onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})},onFirstRender:e=>{"error"===e.status&&this.destroy({reason:"firstRenderError",details:e.error})}},yr(sT,{components:fk,componentsProps:e},(e=>{const{appAssets:t,isVideoInComboNewPackshot:i,title:n,body:r,descriptionText:o,onPackshotHideCallback:a,disableOverlay:s,disableTitle:l,disableButton:d,clickUrl:c,showAnimationDuration:u,shouldUseRmpActionPanel:h,packshotNewDesignMode:p,openClickThroughUrl:m,isRmpPackshot:v}=e,g=t=>{e.logStatsEvent({name:"PackshotButtonClicked",probability:Hu}),m(t)};return v?yr(vk,ls({},t,{body:r,openClickThrough:g})):i?yr(dk,{title:n,body:r,openClickThroughUrl:g,onHideCallback:a}):yr(dP,{title:n,descriptionText:o,openClickThroughUrl:g,disableOverlay:s,disableTitle:l,disableButton:d,clickUrl:c,showAnimationDuration:u,packshotNewDesignMode:p,shouldUseRmpActionPanel:h})})(e)));return zr(n,e.parent),null==t||t(),e.logStatsEvent({name:"PackshotRendered",data:{isInfiniteDuration:this.isInfiniteDuration},probability:ju}),()=>{null==i||i(),zr(null,e.parent)}}}const fk=[e=>yr(uT.Provider,{value:e.parent,children:e.children}),e=>yr(lT.Provider,{value:dT(e.parentSize),children:e.children}),e=>yr(CT.Provider,{value:e.logStatsEvent,children:e.children}),e=>yr(gE,{value:lE(e),children:e.children}),e=>yr(bE.Provider,{value:{themeEmptyParameters:e.themeEmptyParameters,clickThrough:e.openClickThroughUrl},children:e.children}),e=>yr(QT.Provider,{value:{clickThrough:e.openClickThroughUrl,clickUrl:e.clickUrl,videoSlotClickUrl:e.clickUrl},children:e.children}),e=>yr(AE.Provider,{value:_E({timeToSkipSignal:e.timeToSkip,skipCallback:Y}),children:e.children}),e=>yr(tE.Provider,{value:iE(e.controlsVisibility),children:e.children}),e=>yr(rE.Provider,{value:oE(e.favicon),children:e.children}),e=>yr(KT.Provider,{value:JT({bannerFlags:e.bannerFlags}),children:e.children})],Ak={duration:NaN,remainingTime:0};let _k;const yk=c({portion:"portion",seconds:"seconds"});class bk{constructor(e){this.trackingUrls={portion:[],seconds:[]},$d(e,(e=>{let{urls:t,offset:{unit:i,value:n}}=e;this.trackingUrls[i].push({urls:[...t],offset:n})}))}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!Jt(i))return[];const n=t-i,r={portion:n/t,seconds:n},o=[];return $d(yk,(e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,r[e]);o.push(...t)})),o}getTrackingUrlsByUnitAndOffset(e,t){const[i,n]=sn(this.trackingUrls[e],(e=>{let{offset:i}=e;return t>=i}));return this.trackingUrls[e]=n,At(sh(i,(e=>{let{urls:t}=e;return t})))}}const Sk="2.0",Tk=c({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0}),Ek=["slot","videoSlot"];class wk extends wh{static getVpaidAd(e){return Mo(new wk({outsideApi:e}))}handshakeVersion(){return Sk}stopAd(){ah("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),_s(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,n,r,o){if(this.isDestroyed)return void Ih.error({error:new Qu({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:r,environmentVars:o}})});const a=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(o,Ek);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:r,environmentVars:ys({},a,{videoSlot:void 0,slot:void 0})}]).then(Y).catch((e=>{this.destroy({reason:"fatal",details:e})}))}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.unsubscribe=Y,this.getAdIcons=GS,this.getterValues=ze(sh(Tk,(e=>[e,Zb[e]]))),this.subscribe=(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,((t,n)=>{e.apply(i,n)}))},this.params=e;const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy(((e,t)=>{this.getterValues[e]=t}),"OutsideApiRemoteVpaid.listenRemoteVpaidGetterValueChangeOnDestroy"))),this.addDestroyHandler((e=>{"fatal"===e.reason&&Ih.error({error:new Qu({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})}))}callRemoteMethod(e,t){this.isDestroyed?Ih.error({error:new Qu({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(Y).catch((e=>{this.destroy({reason:"fatal",details:e})}))}}const Ck=e=>{if(!n(e))return;const t=sA(e);return Boolean(null==t?void 0:t.app)&&Boolean(null==t?void 0:t.icon)?bs({},null==t?void 0:t.app,{icons:null==t?void 0:t.icon}):void 0},Pk=["idle","load","init","start","play"],kk=e=>{var t;const{adConfig:{secureMode:i}}=e,n=null!=(t=gu.hardcodedParams.adsdksecuremode)?t:i;if(!n)return!1;const r=e.getJSMediaFile();if(!r)return!1;const o=r.url;if(yh(o))return!0;switch(n){case"ForceSafe":return!0;case"Safe":return!_h(o);default:return!1}},Ik=a((()=>{Ih.log({name:"AdCreativeVideoBannerVastUnmoderatedInsideText"})})),Ok=a((()=>{Ih.log({name:"AdCreativeVideoBannerVastHasBooleanFields"})})),Dk=e=>{const t=ei(e);return Boolean(t)},Nk=e=>{if(!n(e))return[];const{sitelinks:t,addInfo:i,telNum:r,workingTime:o,metro:a,region:s}=e;if(xk(t)){const e=yu(t,(e=>m(e.title)&&m(e.url)));if(e.length)return sh(e,(e=>({type:"sitelink",text:e.title,url:e.url})))}const l=null==i?void 0:i.callouts_list;if(Rk(l)){const e=yu(l,m);if(e.length)return sh(e,(e=>({type:"callout",text:e})))}const d=yu([r,o,a,s],m);return sh(d,(e=>({type:"contact",text:e})))},Rk=e=>Array.isArray(e)&&IA(e,s),xk=e=>Array.isArray(e)&&IA(e,n),Vk=e=>m(e)?e:void 0,Lk=e=>"boolean"===typeof e?e:void 0,Mk=new Map([["1","ru"],["2","uk"],["3","en"],["4","be"],["5","kk"],["6","tr"],["ru","ru"],["uk","uk"],["en","en"],["by","be"],["kz","kk"],["tr","tr"]]),Bk=e=>{var t;return null!=(t=Mk.get(e))?t:"ru"},Fk=e=>{var t;const{adParametersObject:i}=e;if(!n(i))return;return{parsedParameters:(e=>{if(!Dk(e))return;const{AGE_BACKGROUND_COLOR:t,AGE_TEXT_COLOR:i,BODY_BACKGROUND_COLOR:r,BODY_TEXT_COLOR:o,BUTTON_BORDER_COLOR:a,BUTTON_COLOR:s,BUTTON_TEXT_COLOR:l,DISCLAIMER_BACKGROUND_COLOR:d,DISCLAIMER_TEXT_COLOR:c,DOMAIN_BACKGROUND_COLOR:u,DOMAIN_TEXT_COLOR:h,HAS_AGE:p,HAS_DISCLAIMER:v,HAS_LEGAL:g,LEGAL_BACKGROUND_COLOR:f,LEGAL_TEXT:A,LEGAL_TEXT_COLOR:_,TITLE_BACKGROUND_COLOR:y,TITLE_TEXT_COLOR:b,BUTTON_POSITION:S,BUTTON_LABELS:T}=e;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_AGE"in e)&&Ok();const E=ei(e);if(!E)return;const{domain:w,green_url_text_prefix:C,green_url_text_suffix:P,age:k,lang:I,iconUrl:O}=E,D=ii({domain:w,greenUrlTextPrefix:C,greenUrlTextSuffix:P}),N=ri(e)||{},{punyDomain:R}=N,x=Vt(e);N===E.unmoderated&&Ik();const V=(e=>{if(void 0!==(null==e?void 0:e.secondTitle)&&m(null==e?void 0:e.secondTitle))return e.secondTitle})(N),{title:L,body:M,hasTitle:B,hasBody:F}=ti(e);return{title:L,body:M,titleExtension:Vk(V),domain:Vk(w),greenUrl:D,punyDomain:Vk(R),iconUrl:O,domainBackgroundColor:Vk(u),domainTextColor:Vk(h),ageRestriction:Vk(k),hasAgeRestriction:Lk(p),extraLinks:Nk(N),images:$n(e),clickThruUrl:li(e),ageBackgroundColor:Vk(t),ageTextColor:Vk(i),bodyBackgroundColor:Vk(r),bodyTextColor:Vk(o),buttonBorderColor:Vk(a),buttonColor:Vk(s),buttonTextColor:Vk(l),hasDisclaimer:Lk(v),disclaimerBackgroundColor:Vk(d),disclaimerTextColor:Vk(c),hasBody:F,hasLegal:Lk(g),hasTitle:B,legalBackgroundColor:Vk(f),legalText:Vk(A),legalTextColor:Vk(_),titleBackgroundColor:Vk(y),titleTextColor:Vk(b),buttonPosition:Vk(S),buttonLabels:(U=T,n(U)&&IA(zt(U),(e=>"string"===typeof e))?U:void 0),assets:sA(e),targetUrl:we(e),productType:x,lang:Bk(I)};var U})(null!=(t=i.adParameters)?t:i),adParametersObject:i}},Uk=e=>{if(!n(e))return;const{icon:t}=e;if(!t||!n(t)&&!tc(t))return;const i=n(t)?zt(t):t;return qc(i,(e=>{let{width:t,height:i}=e;return 32===t&&32===i}))};var Hk=e(6081),zk=e.n(Hk);const jk=pe({TEST:"test_vpaid",MOEVIDEO:"moevideo.biz",VIDEONOW:"videonow.ru",ADLOOK:"adlook.me",BUZZOOLA:"buzzoola.com",PUNCHMEDIA:"punchmedia.ru",BETWEENDIGITAL:"betweendigital.com",ADHIGH:"adhigh.net",ADRIVER:"adriver.ru",MRADX:"mradx.net",RUTARGET:"rutarget.ru",DSSERVING:"ds.serving-sys.ru",SAPE:"sape.ru"});var Wk=e(346),Yk=e.n(Wk);const Gk=["text","minWordLength","className"],qk=(e,t,i)=>e>=t&&e<=i,Xk=e=>{const t=e.charAt(0).toLowerCase().charCodeAt(0);switch(!0){case(e=>qk(e,1072,1103)||1025===e)(t):return"ru";case(e=>qk(e,97,122))(t):return"en";default:return}},Kk=e=>{va(Yk());const{text:t,minWordLength:i,className:n}=e,r=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(e,Gk),o=Kr((()=>{const e=t.split(" "),n=[];for(let t=0;t<e.length;t++){const r=e[t],o=t===e.length-1,a=r.length>=i,s=a?Xk(r):void 0;if(a&&s)n.push(yr("span",{className:Wk.locals.HyphenedText__auto,lang:s},r)),o||n.push(" ");else{const e=n.length-1,t=r+(o?"":" ");e>=0?n[e]+=t:n.push(t)}}return n}),[t,i]);return yr("div",ks({},r,{className:ha(Wk.locals.HyphenedText,n)}),o)};let Jk=!0;var Zk=e(5284),Qk=e.n(Zk);const $k=e=>{va(Qk());const{product:t,isHorizontalFormat:i,imageSize:n,onProductClick:r}=e,{priceInfo:o,image:a}=t,s=ha(Zk.locals.EcomProductCard,{[Zk.locals.EcomProductCard_horizontal]:i,[Zk.locals.EcomProductCard_withPrice]:o}),l=hE(),d=Kr((()=>{const e=n*gn(window);return oA(a,e)}),[n,a]);return yr("div",Os({className:s},qw(Xw.ECOM_ITEM_CARD)),yr("img",Os({className:Zk.locals.EcomProductCard__Image,src:d},qw(Xw.ECOM_ITEM_IMG))),yr("div",{className:Zk.locals.EcomProductCard__Details},o&&yr("div",{className:Zk.locals.EcomProductCard__pricesContainer},yr("span",Os({className:Zk.locals.EcomProductCard__price},qw(Xw.ECOM_ITEM_PRICE)),Is(o.price,o.currency,l,0)),o.oldPrice&&o.oldPrice>o.price&&yr("span",{className:Zk.locals.EcomProductCard__oldPrice},yr("span",{className:Zk.locals.EcomProductCard__discount},(c=o.price,u=o.oldPrice,"\u2212"+Math.floor((u-c)/u*100)+"%")),yr("span",{className:Zk.locals.EcomProductCard__oldPriceValue},Is(o.oldPrice,o.currency,l,0)))),yr(Kk,Os({className:Zk.locals.EcomProductCard__Text,text:t.text,minWordLength:10},qw(Xw.ECOM_ITEM_NAME)))),yr(PE,{onClick:r,url:t.link}));var c,u};var eI=e(3648),tI=e.n(eI);const iI=150,nI=3,rI=e=>{var t,i,n,r;va(tI());const{products:o,maxItemsPerView:a=nI,onProductClick:s,minWidthForVerticalCards:l=iI}=e,d=Xr(null),c=Xr(null),u=es(c),{itemsPerView:h,carouselItemWidth:p,isHorizontalCardsFormat:m}=function(e,t,i,n){if(void 0===e)return{itemsPerView:0,carouselItemWidth:n,isHorizontalCardsFormat:!1};const r=e.width<e.height;if(1===t&&!r)return{itemsPerView:1,carouselItemWidth:Math.floor(e.width),isHorizontalCardsFormat:!0};const o=5*e.height/7;if(e.width>n&&o<n)return{itemsPerView:1,carouselItemWidth:Math.floor(e.width),isHorizontalCardsFormat:!0};const a=Math.max(Math.min(Math.floor(e.width/n),t,i),1);return{itemsPerView:a,carouselItemWidth:Math.min(Math.floor(e.width/a),Math.floor(5*e.height/7)),isHorizontalCardsFormat:!1}}(u,a,o.length,l),[v,g]=function(e,t,i){const[n,r]=Yr(!1);let o=!1,a=!1;return e&&(o=t>i,o&&!n?r(!0):a=!0),[o,a]}(u,o.length,h),A=o.length,_=o.length,[y,b]=Yr(A),S=Kr((()=>{if(!v)return sh(o,((e,t)=>xs({},e,{key:t,originIndex:t})));const e=o.length+A+_,t=new Array(e);for(let i=-A,n=0;i<o.length+_;i++,n++){let e=i%o.length;e<0&&(e+=o.length);const r=o[e];t[n]=xs({},r,{key:i,originIndex:e})}return t}),[o,v,h,A,_]),T=(e,t)=>{if(null===t)return;const i=S[e];if(void 0===i)return;const n=Math.round((A+i.originIndex)*p);Math.abs(n-t.scrollLeft)<=1||(t.style.scrollBehavior="auto",t.scrollLeft=n,t.style.scrollBehavior="smooth")},E=e=>{T(A,e)},[w,C]=Yr(null!=(t=e.autoScrollDelay)?t:0),P=t=>{f(e.onUserAction)&&e.onUserAction(t),e.autoScrollDelay&&C(0)};Gr((()=>{if(!e.autoScrollDelay||null===d.current)return;if(e.autoScrollDelay!==w){const t=setTimeout((()=>{var t;C(null!=(t=e.autoScrollDelay)?t:0)}),1e3*e.autoScrollDelay);return()=>{clearTimeout(t)}}const t=setInterval((()=>{k("forward")}),1e3*w);return()=>{clearInterval(t)}}),[e.autoScrollDelay,w,d.current,p]);const k=e=>{if(null===d.current||void 0===p)return;const t="forward"===e?1:-1,i=d.current.scrollLeft+p*t;f(d.current.scroll)?d.current.scroll({behavior:"smooth",left:i}):d.current.scrollLeft=i},I=e=>()=>{k(e),P(0)},O=Kr((()=>{if(!c.current||!u)return{};const e=Number.parseFloat(getComputedStyle(c.current).fontSize),t=1.67*e,i=1.2*t,n=m?(p-8)/2:2*(p-8),r=Math.max(u.height-n-8,0),o=u.height-r,a=m?.025*o:.03*(p-20),s=a*(m?2:3),l=m?0:p-20,d=m?1.6:1.2,h=Math.min(e*d,17),v=1.2*h,g=o-l-20-s,f=g-i,A=Math.floor(g/v)||1,_=Math.floor(f/v)||1;let y=p-8-12;return m&&(y/=2),{verticalGap:a,priceFontSize:t,fontSize:h,linesCount:A,wPriceLinesCount:_,imageSize:y}}),[c.current,p,m,null==u?void 0:u.height]),D={"--pc-visible-items":h,"--pc-area-width":(null!=(i=null==u?void 0:u.width)?i:l)+"px","--pc-card-width":p+"px","--pc-card-outer-gap":"4px","--pc-card-inner-gap":"6px","--pc-card-image-size":O.imageSize+"px","--pc-card-vertical-gap":O.verticalGap+"px","--pc-card-price-font-size":O.priceFontSize+"px","--pc-card-text-font-size":O.fontSize+"px","--pc-card-text-lines-count":""+O.linesCount,"--pc-card-w-price-text-lines-count":""+O.wPriceLinesCount,"--pc-card-line-height":1.2},N=Jr(function(e,t,i,n){function r(){null!==o&&clearTimeout(o),o=null}3===arguments.length&&"boolean"!==typeof i&&(n=i,i=!1);let o=null;const a=function(){const a=arguments;n=n||this,i&&null===o&&e.apply(n,a),r(),o=window.setTimeout((function(){i||e.apply(n,a),o=null}),t)};return a.cancel=r,a}((e=>{0!==e.deltaX&&P(0)}),200),[P]);Gr((()=>{null!==d.current&&E(d.current)}),[d.current]);const R=dE(),x=ha(eI.locals.EcomProductsCarousel__productCards,{[eI.locals.EcomProductsCarousel__productCards_noScroll]:!v});return 0===o.length?null:yr("div",{className:eI.locals.EcomProductsCarousel,style:D},v&&yr("div",{className:eI.locals.EcomProductsCarousel__slideToContainer},yr("button",{type:"button",onClick:I("backward"),className:eI.locals.EcomProductsCarousel__slideToLeft,title:R("PREV_ECOM_PRODUCT")},0===(null==(n=S[y])?void 0:n.originIndex)?yr(Rs,{className:eI.locals.EcomProductsCarousel__slideToIcon}):yr(Ds,{className:eI.locals.EcomProductsCarousel__slideToIcon}))),yr("div",{className:eI.locals.EcomProductsCarousel__productCardsArea,ref:c},yr("div",{className:x,ref:d,onScroll:e=>{const t=e.target,i=Math.round(t.scrollLeft/p);b(i);const{scrollLeft:n,scrollWidth:r,clientWidth:o}=t;if(n<1&&n>=0)return void E(t);const a=n+o;r-a<1&&a<=r&&T(i,t)},onWheel:N,onMouseMove:e=>{null!==e.target&&"onpointermove"in e.target||P(2)},onPointerMove:()=>{P(2)}},g&&sh(S,(e=>yr("div",{className:eI.locals.EcomProductsCarousel__productCardContainer,key:e.key,"data-key":e.key},yr($k,{product:e,isHorizontalFormat:m,imageSize:O.imageSize,onProductClick:()=>{P(1),s(e)}})))))),v&&yr("div",{className:eI.locals.EcomProductsCarousel__slideToContainer},yr("button",{type:"button",onClick:I("forward"),className:eI.locals.EcomProductsCarousel__slideToRight,title:R("NEXT_ECOM_PRODUCT")},(null==(r=S[y+h-1])?void 0:r.originIndex)===o.length-1?yr(Rs,{className:eI.locals.EcomProductsCarousel__slideToIcon}):yr(Ns,{className:eI.locals.EcomProductsCarousel__slideToIcon}))))};var oI=e(880),aI=e.n(oI);const sI=e=>{va(aI());const t=cT(),i=t.height>t.width,{products:n,openClickThroughUrl:r,isProductsVisible:o,onUserAction:a,showCloseButton:s,onCloseClick:l}=e,d=i?1:3,c=ha(oI.locals.EcomProductsPackshotScreen__closeButton,{[oI.locals.EcomProductsPackshotScreen__closeButton_hidden]:!s}),u=nE().abuseInCtaButton,{showAnimationDuration:h}=e.classicPackshotProps,p=ha(oI.locals.EcomProductsPackshotScreen,{[oI.locals.EcomProductsPackshotScreen_withAnimation]:"number"===typeof h,[oI.locals.EcomProductsPackshotScreen_padBottomForCta]:u}),m={fontSize:Ua(t),"--epc-show-animation-duration":"number"===typeof h?h+"s":"unset"},[v,g]=Yr(!1);return Gr((()=>{g(o)}),[o]),yr(Sr,null,o&&v&&yr("div",{className:p,style:m},yr("div",{className:oI.locals.EcomProductsPackshotScreen__closeButtonContainer},yr("button",{type:"button",className:c,onClick:l},yr(Vs,{className:oI.locals.EcomProductsPackshotScreen__closeIcon}))),yr(rI,{products:n,maxItemsPerView:d,autoScrollDelay:3,onProductClick:e=>{r(e.clickThruUrl)},onUserAction:a})),!o&&yr(dP,e.classicPackshotProps))},lI=500,dI=e=>{const{faviconSrc:t,domain:i,title:n,body:r,disclaimerInfo:o,clickUrl:a,openClickThroughUrl:s,isProductVisible:l,onOpenProduct:d,products:c,slotSize:u,disableAnimations:h,alternativeVersion:p}=e;va(mP());const m=cT(),v=null!=u?u:m,g=sk(v),f=((e,t,i)=>{const n=(e=>e.width<250||e.height<250?10:e.width>=lI?13:10+3*e.width/lI)(e),r={width:e.width-t.containerPaddings.left-t.containerPaddings.right,height:e.height-16-t.gaps.big-t.containerPaddings.top-t.containerPaddings.bottom};i&&(r.height-=.14*e.height);const o=r.width<250;if(e.height<250)return{carouselFontSize:n,height:Math.max(r.height,90),cardPerView:1,minWidthForVerticalCards:o?90:void 0};if(e.height>e.width&&o&&e.height<350)return{carouselFontSize:n,height:Math.max(r.height,90),cardPerView:1,minWidthForVerticalCards:90};let a=Math.max(.7*r.height,90);const s=r.width;let l=3;a>s&&(l=2),o&&(l=1);const d=a/s;if(d>.65&&d<.9&&e.width<lI){const e=Math.floor(s/2);e>=90&&(a=e)}return{carouselFontSize:n,height:a,width:s,cardPerView:l,minWidthForVerticalCards:e.width<lI&&e.height<250?90:void 0}})(v,g,p),A=Xr(null),_=Xr(null),y=Xr(null),b=Xr(null),{titleTextSizes:S,bodyTextSizes:T,gaps:E,containerPaddings:w}=g,{top:C,right:P,bottom:k,left:I}=w,O={"--vic-pc-title-font-size":S.fontSize+"px","--vic-pc-title-line-height":S.lineHeight+"px","--vic-pc-body-font-size":T.fontSize+"px","--vic-pc-body-line-height":T.lineHeight+"px","--vic-pc-container-paddings":C+"px "+P+"px "+k+"px "+I+"px","--vic-pc-container-gap-small":E.small+"px","--vic-pc-container-gap-big":E.big+"px","--vic-pc-carousel-font-size":f.carouselFontSize+"px"},D=e=>()=>{s({clickSource:e,playerHandles:!0,url:void 0})},[N,R]=Yr({title:!1,body:!1,carousel:!1});Gr((()=>{var e,t,i,n;if(N.title||N.body||N.carousel)return;if(!A.current)return;const r=(null==(e=A.current)?void 0:e.getBoundingClientRect().height)||0,o=(null==(t=_.current)?void 0:t.getBoundingClientRect().height)||0,a=(null==(i=y.current)?void 0:i.getBoundingClientRect().height)||0,s=(null==(n=b.current)?void 0:n.getBoundingClientRect().height)||0,l=r-C-k-(a&&E.small)-(s&&E.small);let d=o+a+s+f.height;const c={title:!1,body:!1,carousel:!1};d>l&&(c.body=!0,d-=s+E.small),d>l&&(c.title=!0,d-=a+E.small),d>l&&(c.carousel=!0,d-=f.height),R(c)}),[]);const{label:x}=DP();return yr("div",{className:pP.locals.VideoInComboPackshotScreen__PackshotMain,style:O},yr("div",{className:ha(pP.locals.VideoInComboPackshotScreen__PackshotMainContainer,p&&pP.locals.VideoInComboPackshotScreen__PackshotMainContent_horizontalPaddings,p&&pP.locals.VideoInComboPackshotScreen__PackshotMainContent_verticalPaddings,p&&pP.locals.VideoInComboPackshotScreen__PackshotMainContainer_justify_center),ref:A},yr("div",{className:ha(pP.locals.VideoInComboPackshotScreen__PackshotEcomMainContent,pP.locals.VideoInComboPackshotScreen__area_gap_small,pP.locals.VideoInComboPackshotScreen__Block_align_center,p&&pP.locals.VideoInComboPackshotScreen__PackshotMainContent_blur)},yr(IE,{clickThruUrl:a,onClickThru:D("VideoInComboPackshotLogoAndUrl"),isClickDisabled:!1,className:ha(pP.locals.VideoInComboPackshotScreen__logoAndUrl,pP.locals.VideoInComboPackshotScreen__logoAndUrl_justifyContent_center),innerRef:_},t&&yr("img",{src:t,class:pP.locals.VideoInComboPackshotScreen__favicon}),yr("div",{class:pP.locals.VideoInComboPackshotScreen__domainAndAdLabelContainer},i&&yr("div",{class:pP.locals.VideoInComboPackshotScreen__domain},i),p&&yr(Sr,null,yr("div",{class:pP.locals.VideoInComboPackshotScreen__adLabelInMain},x),yr(UP,{isSmall:!0})))),n&&!N.title&&yr(IE,{clickThruUrl:a,onClickThru:D("VideoInComboPackshotTitle"),isClickDisabled:!1,className:ha(pP.locals.VideoInComboPackshotScreen__title,pP.locals.VideoInComboPackshotScreen__text_center),innerRef:y},n),r&&!N.body&&yr(IE,{clickThruUrl:a,onClickThru:D("VideoInComboPackshotBody"),isClickDisabled:!1,className:ha(pP.locals.VideoInComboPackshotScreen__body,pP.locals.VideoInComboPackshotScreen__text_center),innerRef:b},r),l&&!N.carousel&&yr("div",{className:pP.locals.VideoInComboPackshotScreen__carouselSlot,style:{height:f.height+"px"}},yr(rI,{products:c,autoScrollDelay:h?void 0:3,onProductClick:d})))),o&&yr(tk,{heightPortion:o.mandatoryHeightPortion,text:o.text}))},cI=e=>{va(mP());const{openClickThroughUrl:t,disableTitle:i=!1,disableBody:n=!1,title:r,body:o,products:a,isProductsVisible:s,onHideCallback:l,disableAnimations:d}=e,c="TRUE"===Tu.getFlagValueAndActivateTestId("VAS_NEW_PACKSHOT_USE_ALTERNATIVE_VERSION"),u=c&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_NEW_PACKSHOT_LIGHT_THEME_FOR_ALTERNATIVE_VERSION"),h=cE(),p=uE(),v=aE(),{width:g}=cT(),{themeEmptyParameters:f}=TE(),A=Ga(ZT(),p),_=ha(pP.locals.VideoInComboPackshotScreen,pP.locals.VideoInComboPackshotScreen__content,pP.locals.VideoInComboPackshotScreen_withAnimation,u&&pP.locals.VideoInComboPackshotScreen_theme_light),y=g>=500?"big":"small",b=!0===i?void 0:null!=r?r:h("LEARN_MORE_ON_ADVERTISERS_WEBSITE"),S=!n&&m(o)?o:void 0,T=d?{"--cp-show-animation-duration":"0s"}:{},[E,w]=Yr(!1),C=l?()=>{w(!0),l()}:void 0,P=Xr(null),k=cT();return yr("div",{className:_,"data-hidden":E,ref:P,style:T},yr("div",{className:pP.locals.VideoInComboPackshotScreen__packshotOverlayWrapper,onClick:C},yr(hP,{theme:c?"light":"dark"})),!c&&yr(qP,{onRepeatButtonClick:C}),yr(dI,{faviconSrc:v,domain:null==f?void 0:f.greenUrl,title:b,body:S,paddingsStyle:y,disclaimerInfo:A,clickUrl:null==f?void 0:f.clickUrl,openClickThroughUrl:t,onOpenProduct:e=>{t({clickSource:"EcomProduct",playerHandles:!0,url:e.clickThruUrl})},products:a,isProductVisible:s,slotSize:Ls({},k,{height:k.height-XP({onRepeatButtonClick:C})}),disableAnimations:d,alternativeVersion:c}))};class uI extends XT{constructor(e){super(e),this.isProductsVisible=new Yh(!1),this.addDestroyHandler((t=>{ah("ProductsPackshot: destroy Productspackshot reason=["+t.reason+"]"),e.logStatsEvent({name:"EcomProductsPackshotDestroyed",data:{isInfiniteDuration:this.isInfiniteDuration,reason:t},probability:ju})}))}setProductsVisibility(e){this.isProductsVisible.dispatch(e)}renderPackshotContent(e){var t;const i=e=>{"error"===e.status&&this.destroy({reason:"firstRenderError",details:e.error})},n=e=>{this.destroy({reason:"runtimeError",details:e})},r=t=>{e.logStatsEvent({name:"EcomProductsPackshotButtonClicked",probability:Hu}),e.openClickThroughUrl(t)},o={clickUrl:null==(t=e.themeEmptyParameters)?void 0:t.clickUrl,descriptionText:void 0,openClickThroughUrl:()=>{void 0!==e.themeEmptyParameters&&e.openClickThroughUrl(e.themeEmptyParameters.clickUrl)},packshotNewDesignMode:"ONLY_ELEMENTS_CLICKABLE",title:e.title,disableOverlay:e.disableOverlay,disableTitle:e.disableTitle,disableButton:e.disableButton,showAnimationDuration:e.showAnimationDuration},a=()=>{const{duration:t,userActionIncreaseDuration:i}=e,n=Gn(this.progress.getValue()-i/t,0,1);this.setProgress(n)},s=()=>{this.destroy({reason:"complete",details:void 0})};return zr(yr((()=>{const t=pa(this.isProductsVisible),l=pa(e.abuseDisplayStatus),d=pa(e.controlsVisibility),c=pa(e.timeToSkip),u=!1!==d.skip&&c>=0,{isVideoInComboNewPackshot:h}=e,p=!u&&"hidden"===l&&this.destroyAfterComplete;return yr(aT,{onRuntimeError:n,onFirstRender:i},yr(sT,{components:hI,componentsProps:e},h?yr(cI,{title:e.title,body:e.body,products:e.ecomShop.products,openClickThroughUrl:e.onAssetsClickThroughUrl,isProductsVisible:t,onHideCallback:e.onPackshotHideCallback}):yr(sI,{classicPackshotProps:o,products:e.ecomShop.products,openClickThroughUrl:r,isProductsVisible:t,showCloseButton:p,onUserAction:a,onCloseClick:s})))}),null),e.parent),null==e.onPackshotShowCallback||e.onPackshotShowCallback(),e.logStatsEvent({name:"EcomProductsPackshotRendered",data:{isInfiniteDuration:this.isInfiniteDuration},probability:ju}),()=>{null==e.onPackshotHideCallback||e.onPackshotHideCallback(),zr(null,e.parent)}}}const hI=[e=>yr(uT.Provider,{value:e.parent,children:e.children}),e=>yr(lT.Provider,{value:dT(e.parentSize),children:e.children}),e=>yr(CT.Provider,{value:e.logStatsEvent,children:e.children}),e=>yr(bE.Provider,{value:{themeEmptyParameters:e.themeEmptyParameters,clickThrough:()=>{void 0!==e.themeEmptyParameters&&e.openClickThroughUrl(e.themeEmptyParameters.clickUrl)}},children:e.children}),e=>yr(tE.Provider,{value:iE(e.controlsVisibility),children:e.children}),e=>yr(rE.Provider,{value:oE(e.favicon),children:e.children}),e=>yr(KT.Provider,{value:JT({bannerFlags:e.bannerFlags}),children:e.children})],pI=Vi({videoCreativeReach:"video-creative-reach",direct:"direct",autoVideoDirect:"auto-video-direct",videoCreativeReachNonSkippable:"video-creative-reach-non-skippable",videoMotion:"video-motion",directActionCharged:"direct-action-charged",videoCreativeSurvey:"video-creative-survey"}),mI=!0,vI=a((e=>{e({name:"UsingInteractiveViewerThemeAsFullyClickableCreativeIndicator",probability:Wu})}));class gI extends wh{constructor(e){super(),this.onAdSkippableStateChange=new _u,this.vpaidCreativeAdStartedSignal=new _u,this.vpaidCreativeAdErrorSignal=new _u,this.adSkippableState=!1,this.canUseMediaAfterPlayback=!1,this.isInfinityPackshotEnabled=!1,this.isLoopVideoEnabled=!1,this.styleModulesManager=new mT,this.lifeCycleStage=new Yh("idle",((e,t)=>{const i=Pk.indexOf(e);return Pk.indexOf(t)-i!==1&&this.stats.error({error:new Qu({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:Hs({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),this.startVpaidCreative=a((e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),ah("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();this.vpaidCreativeAdStartedSignal.addOne((()=>{ah("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),this.stats.log({name:"VpaidCreativeStarted",data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e}})}))})),this.creativeAdStartedCallback=ui((()=>{if(this.isDestroyed)return void this.stats.error({error:new Qu({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||this.stats.error({error:new Qu({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=a((()=>{this.isStarted.dispatch(!0)})),t=this.playingState.getValue();ah("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"===t?e():this.playingState.subscribeValueConditionOnce((e=>"play"===e),e)}),(()=>{this.stats.error({error:new Qu({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),this.createContainerNode=a((()=>{const{creativesLayoutContainer:e,slotParameters:t}=this.adDisplayController,i=t.document.createElement("div");this.addDestroyHandler(Ne({element:i,eventName:"click",listener:()=>{oa({control:"AdCreativeWrapperSlotElement",purpose:"unknown"})}})),i.classList.add(Hk.locals.AdPodContainer),this.styleModulesManager.useStyleModule(i,zk()),this.isCreativeStartRequested.addOne((()=>{xe(i,{visibility:"visible"})})),this.addDestroyHandler((()=>{Re(i)})),e.appendChild(i);const n=us(i);return n&&xe(n,op),n||i})),this.prepareVpaidCreative=a((async e=>{let{startStrategy:t}=e;this.omsdkController&&await this.omsdkController.initSession({impressionType:"viewable",startStrategy:t});const i=await this.initCreative();if(!i||this.isDestroyed)throw new Qu({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});if(this.vpaidCreativeAdErrorSignal.add((e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAID_PLAYING_ERROR")})})),this.creative=i,this.addDestroyHandler((()=>{this.creative=void 0})),this.onReady.dispatch(void 0),this.sizeOfCreativeToTriggerResizeOnCreativeInit){const{width:e,height:t,viewMode:n}=this.sizeOfCreativeToTriggerResizeOnCreativeInit;i.resizeAd(e,t,n),this.sizeOfCreativeToTriggerResizeOnCreativeInit=void 0}"play"===this.playingState.getValue()?this.startVpaidCreative(i):this.startAndPauseVpaidCreative(i),this.updateAdSkippableState()})),this.updatePosition=this.ignoreAfterDestroy((()=>{var e,t,i,n;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!=(e=null==(t=this.creative)?void 0:t.getAdRemainingTime())?e:-1}),ah("[AdPodViewer]: updated position [duration = ["+this.getDuration()+"], adRemainingTime = ["+(null!=(i=null==(n=this.creative)?void 0:n.getAdRemainingTime())?i:-1)+"]]")}),"AdPodViewer.updatePosition"),this.isAdPlayingCalled=!1,this.sentTrackings={impression:0,creativeView:0,firstQuartile:0,midpoint:0,thirdQuartile:0,beforeComplete:0,complete:0,clickThrough:0},this.getVPAIDLogDetails=()=>({adPodId:this.mediaAd.getAdPodId(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:Eo(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}),this.playbackPosition=new Yh(Ak,hs),this.packshotStartLatch=new XS,this.videoInComboNewPackshotVisibility=new Yh(void 0),this.adVideoIsBuffering=new Yh(!1),this.prioritizedVideoMediaFile=new Yh(void 0),this.playingState=new Yh("idle",((e,t)=>"idle"===t?(this.stats.error({error:new Qu({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&this.stats.error({error:new Qu({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),this.isCreativeStartRequested=new Yh(!1),this.onReady=new _u,this.onBeforeDestroy=new _u,this.isStarted=new Yh(!1),this.onResume=new _u,this.onPause=new _u,this.onVolumeChange=new _u,this.onImpression=new _u,this.onFirstQuartile=new _u,this.onMidpoint=new _u,this.onThirdQuartile=new _u,this.onComplete=new _u,this.onBeforeComplete=new _u,this.completeLatch=new XS((e=>{let{isInfinityPackshotEnabled:t,isLoopVideoEnabled:i}=e;this.trackVastEvent("complete",{}),this.onComplete.dispatch({isInfinityPackshotEnabled:t,isLoopVideoEnabled:i})})),this.onClickThrough=new _u,this.onAdInteraction=new _u,this.playingTimeCounter=new M_,this.shouldPlayTimeCounter=new M_,this.getAdParametersTrackingUrls=e=>{var t,i;return null==(t=this.mediaAd.vastAd.adParametersObject)||null==(i=t.trackingEvents)?void 0:i[e]},this.subscribeFullscreenForLogs=()=>{const{videoNodeController:e}=this.adDisplayController,t=a((()=>{this.stats.error({error:new Qu({code:"VIDEOTAG_FULLSCREEN",details:void 0})})}));e.isFullscreen()?t():this.onBeforeComplete.addOne((()=>{e.isFullscreen()&&t()}))};const{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:n,enableInfinityPackshot:r,stats:s,ecomShopState:l}=e;this.isStarted.add(ui((()=>{this.isDestroyed&&s.log({name:"AdPodViewerStartedAfterDestroy"})}),(()=>{s.log({name:"AdPodViewerStartedTwice"})}))),this.userInteractionDispatchers=(e=>({AdClickThru:t=>{e.error({error:new Qu({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:t})})},AdSkipped:()=>{e.error({error:new Qu({code:"CALL_USER_INTERACTION_DISPATCHER_AD_SKIPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdStopped:()=>{e.error({error:new Qu({code:"CALL_USER_INTERACTION_DISPATCHER_AD_STOPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdUserClose:()=>{e.error({error:new Qu({code:"CALL_USER_INTERACTION_DISPATCHER_AD_USER_CLOSE_WITHOUT_AD_CREATIVE",details:void 0})})},AdVideoComplete:()=>{e.error({error:new Qu({code:"CALL_USER_INTERACTION_DISPATCHER_AD_VIDEO_COMPLETE_WITHOUT_AD_CREATIVE",details:void 0})})},AdTimeToSkipChange:()=>{e.error({error:new Qu({code:"CALL_USER_INTERACTION_DISPATCHER_AD_TIME_TO_SKIP_CHANGE_WITHOUT_AD_CREATIVE",details:void 0})})}}))(s),this.stats=s,this.ecomShopState=l;const d=Ta(i.vastAd,i.adConfig);if(d){ah("[OMSDK] Initializing OMSDKController with parameters: "+JSON.stringify(d));const e=new HT(this,d);this.addDestroyHandler((t=>{let{reason:i}=t;e.destroy({reason:i,isError:!1})})),this.omsdkController=e}this.addDestroyHandler((e=>{const i=t.getAdPlacementOptions(),{devicePixelRatio:n,videoPixelRatio:r}=i,a=Boolean(this.getVideoSlotClickUrl()),l=de(this.adDisplayController.slotParameters.window),{adBreakType:d,adFormatType:c,productType:u}=i,{sentTrackings:h}=this;var p;s.log({name:"ViewerDestroy",data:{destroyReason:e,adBreakType:d,adFormatType:c,wasViewerStarted:this.isStarted.getValue(),sentTrackings:h},values:Fs({shouldPlayTime:this.shouldPlayTimeCounter.getTime(),playingTime:this.playingTimeCounter.getTime(),bufferingTime:this.bufferingTimeManager.getBufferingTime()*L_,duration:this.getDuration()*L_,remainingTime:this.getAdRemainingTime()*L_,videoFramesInfo:o(this.adDisplayController.videoNode),videoPixelRatio:r,devicePixelRatio:n}),sensors:{reason:e.reason},dailySensors:Hs({},Q(h,(e=>Number(e)>0)),{videoSlotIsClickable:a,touchScreen:l,skinVariant:this.adDisplayController.skinVariant,reason:e.reason,productType:(p=u,pI[p])})}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)})),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=n,this.enableInfinityPackshot=null!=r&&r,this.isStarted.add((()=>{this.trackVastEvent("creativeView",{})})),this.onResume.add((()=>{this.trackVastEvent("resume",{})})),this.onPause.add((()=>{this.trackVastEvent("pause",{})})),this.packshotStartLatch.subscribe((()=>{this.trackVastEvent("packshotStart",{})}));let c=0===this.getVolume();this.onVolumeChange.add((()=>{const e=0===this.getVolume();c!==e&&(t.videoNodeController.getMuteWithoutTrackingSend()||this.trackVastEvent(e?"mute":"unmute",{}),c=e)})),this.onImpression.addOne((()=>{this.trackVastEvent("impression",{})}));const u=new bk(i.vastAd.progressTrackings);this.playbackPosition.add((e=>{let{remainingTime:t,duration:i}=e;const n=u.getTrackingUrlsByPosition({duration:i,remainingTime:t});n.length&&vs({eventName:"progress",trackingEventDetails:{},trackingUrls:n,options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"vast"})})),this.onFirstQuartile.add((()=>{this.trackVastEvent("firstQuartile",{})})),this.onMidpoint.add((()=>{this.trackVastEvent("midpoint",{})})),this.onThirdQuartile.add((()=>{this.trackVastEvent("thirdQuartile",{})})),this.bufferingTimeManager=new rS,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add((e=>{"play"===e?(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume()):(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause())}))})),this.isStarted.addOne((()=>{const e=(this.getDuration()+20)*L_;this.playingTimeCounter.addCallback(e,(()=>{s.log({name:"TooLongPlaying",data:{mediaFile:this.mediaAd.getJSMediaFile(),adFormatType:ps(this.mediaAd),adParameters:this.mediaAd.vastAd.adParametersObject}})})),this.playingTimeCounter.start(),this.onPause.add((()=>{this.playingTimeCounter.stop()})),this.onResume.add((()=>{this.playingTimeCounter.start()})),this.addDestroyHandler((()=>{this.playingTimeCounter.stop()}))})),this.onPause.add((()=>{this.playingState.dispatch("pause")})),this.onResume.add((()=>{this.playingState.dispatch("play")})),this.addDestroyHandler((()=>{this.playingState.dispatch("end")})),this.onBeforeComplete.add((()=>{this.trackVastEvent("beforeComplete",{})})),this.addDestroyHandler((e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackVastEvent(t,{})})),this.vpaidCreativeAdStartedSignal.add((()=>{this.creativeAdStartedCallback()})),this.addDestroyHandler((()=>{this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll(),this.prioritizedVideoMediaFile.removeAll(),this.vpaidCreativeAdStartedSignal.removeAll(),this.vpaidCreativeAdErrorSignal.removeAll()})),this.addDestroyHandler(Ne({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne(this.subscribeFullscreenForLogs);const h=new Error,{vpaidTimeout:p}=n;this.shouldPlayTimeCounter.addCallback(p,(()=>{const e=this.getScriptSrc(),t=this.lifeCycleStage.getValue(),{videoNodeController:i}=this.adDisplayController,{videoNode:r}=i,o={adPodId:this.mediaAd.getAdPodId(),timeout:p,src:e,config:this.adDisplayController.playbackParameters,viewerPlaybackParams:n,liveCycleStage:t,videoNodeSrc:r.src,adMediaState:this.adDisplayController.adMediaState.getValue(),networkState:r.networkState,readyState:r.readyState,downlink:this.adDisplayController.getAdPlacementOptions().downlink};this.isDestroyed?s.error({error:new Qu({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:o})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&s.error({error:new Qu({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:o})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new Qu(h,{code:Es({creativeLifeCycleStage:t,isYandexCreative:_h(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:o})}))})),this.completeLatch.subscribe((()=>{this.playingTimeCounter.stop()})),this.addDestroyHandler((()=>{this.onAdSkippableStateChange.removeAll()}))}startCreative(e){let{startStrategy:t}=e;this.isDestroyed&&this.stats.error({error:new Qu({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})});const i="startPlaying"===t?"play":"pause";this.playingState.dispatch(i),this.creative?this.resume():this.prepareVpaidCreative({startStrategy:t}).catch((e=>{this.destroy({reason:"error",details:e})}))}getCurrentTime(){if(!this.creative)return 0;const e=this.creative.getAdRemainingTime()||0;return t(e)?this.getDuration()-e:0}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return t(e)?e<0?this.isStarted.getValue()?e:this.getDuration():e:this.isStarted.getValue()?-2:this.getDuration()}pause(){this.playingState.dispatch("pause"),this.creative&&(ah("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),ah("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(ah("AdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){var e;null==(e=this.creative)||e.skipAd()}getAdSkippableState(){var e;return"function"===typeof(null==(e=this.creative)?void 0:e.getAdSkippableState)?this.creative.getAdSkippableState():Jb}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}return this.mediaAd.getDuration()||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return 0}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return 0}resizeAd(e,t,i){void 0===i&&(i="normal"),this.creative?this.creative.resizeAd(e,t,i):this.sizeOfCreativeToTriggerResizeOnCreativeInit={width:e,height:t,viewMode:i}}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:.5;this.setVolume(e?0:i)}getVolume(){var e,t;return null!=(e=null==(t=this.creative)?void 0:t.getAdVolume())?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){if(!this.isDestroyed)if(this.creative){const t=this.getVolume(),i=t!==e&&!kk(this.mediaAd),{videoNode:n}=this.adDisplayController.videoNodeController,r=n.volume,o=n.muted;this.creative.setAdVolume(e);const a=n.volume,s=n.muted,l=!this.adCreativeWrapper&&!this.mediaAd.getIsIndependentOnVideoElement();l&&i&&r===a&&o===s&&this.stats.log({name:"VpaidCreativeDidNotChangeVideoSlotVolume",data:this.getVPAIDLogDetails()}),l&&(r!==a&&o===s||t===e)&&"TRUE"!==sy("VAS_DISABLE_MUTED_ATTRIBUTE_CONTROL_FOR_VPAID")&&(this.stats.log({name:"VpaidCreativeDidNotChangeVideoSlotMutedValue",data:this.getVPAIDLogDetails()}),n.muted=0===a)}else this.adDisplayController.videoNodeController.setVolume(e)}startAndPauseVpaidCreative(e){_h(this.getScriptSrc())&&(ah("preload VPAID creative by start and pause"),this.startVpaidCreative(e),this.stats.log({name:"PreloadVPAIDCreativeByStartAndPause",data:{vpaidSrc:this.getScriptSrc()}}),ah("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,i;const n=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,o=Ji(r),s=this.createContainerNode();let l;if(o){ah("[AdPodViewer]: play creative as AdCreative"),l=s;const{creative:t,wrapper:n}=this.wrapAdCreative({creativeSlot:l});e=t,this.adCreativeWrapper=n,i=a((()=>{try{ah("[AdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(cL){this.stats.error({error:new Qu(cL,{code:"AD_CREATIVE_STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}))}else if(kk(this.mediaAd)){var d;ah("[AdPodViewer]: play creative via VASFrame"),l=s;const t=wp({container:l,initTimeout:5e3});this.addDestroyHandler(t.abortInit);const n=await t.initPromise;if(this.isDestroyed)return void n.destroy(void 0);if(n.addDestroyHandler((()=>{this.destroy({reason:"error",details:new Qu({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{adPodId:this.mediaAd.getAdPodId()}})})})),this.addDestroyHandler((()=>{n.destroy(void 0)})),this.isDestroyed)return;if(n.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await n.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const r=()=>wk.getVpaidAd(n),o=this.getStandardVpaidCreative(r);if(e=o.creative,i=a((()=>{ah("[AdPodViewer]: call VPAID stopAd method"),o.stopAd()})),this.addDestroyHandler(i),null!=(d=this.mediaAd.vastAd.trackingEvents)&&d.encounters&&!e.isVpaidWrappedByVPAIDSniffer){const{measurableVPAIDCreative:t,userInteractionDispatchers:n}=$o(e,{intrinsicAdCreativeType:"vpaid",slotsParameters:{visibilitySlotParameters:this.adDisplayController.visibilitySlotParameters,slotParameters:this.adDisplayController.slotParameters},verifyLogAdditionalData:"",stats:this.stats,vastAd:this.mediaAd.vastAd});e=t,i=t.stopAd,this.userInteractionDispatchers=n}n.changeFrameVisibility(!0)}else{var c;ah("[AdPodViewer]: play creative with Friendly Iframe");const t=$_.create({parentElement:s,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),n=t.iframe;xe(n,op),l=n.contentDocument.body;const r=n.contentWindow;sa(r)&&iT(this.stats),la(r)&&tT(r,this.stats),$d(nT,(e=>{this.addDestroyHandler(Ne({element:l,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))})),this.addDestroyHandler((()=>{t.destroy(void 0)})),t.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}));const o=await this.loadVpaidMediaFile(r);if(this.isDestroyed)return;const a=this.getStandardVpaidCreative(o);if(e=a.creative,i=a.stopAd,null!=(c=this.mediaAd.vastAd.trackingEvents)&&c.encounters&&!e.isVpaidWrappedByVPAIDSniffer){const{measurableVPAIDCreative:t,userInteractionDispatchers:n}=$o(e,{intrinsicAdCreativeType:"vpaid",slotsParameters:{visibilitySlotParameters:this.adDisplayController.visibilitySlotParameters,slotParameters:this.adDisplayController.slotParameters},verifyLogAdditionalData:"",stats:this.stats,vastAd:this.mediaAd.vastAd});e=t,i=t.stopAd,this.userInteractionDispatchers=n}}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne((()=>{ah("[AdPodViewer]: call stopAd in onBeforeDestroy callback"),i()})),this.stats.log({name:"VpaidCreativeLoaded",data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-n}}),this.isDestroyed)throw new Qu({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{adDisplayController:u}=this,{videoNodeController:p}=u,{clientWidth:m,clientHeight:v}=p.videoNode,g=this.getDesiredBitrate(),f={AdParameters:this.getAdParameters()},A=u.autoplayAbilityResult.getValue();let _;_=void 0!==A&&(p.videoNode.muted?"restricted"!==A.autoplayAbility:"allowed"===A.autoplayAbility);const y={slot:l,videoSlot:p.videoNode,videoSlotCanAutoPlay:_,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:u.getCurrentLang(),controlsSettings:{controlsVisibility:wf},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},b=function(e){let{creative:t,isYandexCreative:i,getLogDetails:n,logStatsEvent:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:n,getterError:r,setterError:o,onSubscribeEventMoreThanOnce:a}=t;const s=Q($b,((t,r)=>function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];if("function"===typeof e[r])try{return e[r].apply(e,o)}catch(cL){i({methodName:r,args:o,error:cL})}else n({methodName:r,args:o})})),l=s.subscribe,d=new Set;return s.subscribe=(e,t,i)=>{d.has(t)&&a({eventName:t}),d.add(t),l(e,t,i)},h(eS,((t,i)=>{Object.defineProperty(s,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(cL){r({propertyName:i,error:cL})}},set:t=>{try{e[i]=t}catch(cL){o({propertyName:i,error:cL,value:t})}}})})),s}(t,{methodCallError:e=>{let{methodName:t,args:o,error:a}=e;r({name:i?"YandexVpaidMethodCallError":"VpaidMethodCallError",data:As({methodName:t,args:o,stack:a.stack,message:a.message},n()),probability:Hu})},methodAbsent:e=>{let{methodName:t,args:o}=e;r({name:i?"YandexVpaidMethodAbsent":"VpaidMethodAbsent",data:As({methodName:t,args:o},n()),probability:Hu})},getterError:e=>{let{propertyName:t,error:o}=e;r({name:i?"YandexVpaidGetterError":"VpaidGetterError",data:As({propertyName:t,stack:o.stack,message:o.message},n()),probability:Hu}),Ue(o)},setterError:e=>{let{propertyName:t,value:o,error:a}=e;r({name:i?"YandexVpaidSetterError":"VpaidSetterError",data:As({propertyName:t,value:o,stack:a.stack,message:a.message},n()),probability:Hu}),Ue(a)},onSubscribeEventMoreThanOnce:e=>{let{eventName:t}=e;r({name:"VpaidSubscribeEventMoreThanOnce",data:As({eventName:t},n()),probability:Hu})}})}({creative:e,isYandexCreative:_h(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails,logStatsEvent:this.stats.log});this.subscribeCreativeEvents(b,l.ownerDocument.defaultView),this.addDestroyHandler(function(e){let{rootElement:i,logStatsEvent:n,adPlacementOptions:r}=e;return Ne({element:i,eventName:"click",listener:e=>{const o=i.getBoundingClientRect(),a=function(e){let i,n,r,o,{win:a,event:s,adPlacementOptions:l,rootClientRect:d}=e,c=!1,u=!0,h=!1,p=!1;const{__vasClickRegistration:m}=a;if(m){const{duplicates:e,details:t}=m;i=t.control,n=t.purpose,r=t.product,o=t.bannerId,c=e.length>0,u=!1}const{clientX:v,clientY:g}=s,{top:f,left:A,width:_,height:y}=d,b=v-A,S=g-f,T=b/_,E=S/y;return(T<0||T>1||E<0||E>1)&&(h=!0),t(T)&&t(E)||(p=!0),{data:{vasClickRegistration:m,clientX:v,clientY:g,rootClientRect:d,adPlacementOptions:l,bannerId:o,product:r},dailySensors:{control:i,purpose:n,hasDuplicates:c,isUnknown:u,isOutside:h,isInvalid:p},values:{x:b,y:S,relativeX:T,relativeY:E}}}({win:iu,event:e,adPlacementOptions:r,rootClientRect:o});n(Bs({name:"VasClick",probability:Hu},a))}})}({rootElement:this.adDisplayController.slotParameters.element,logStatsEvent:this.stats.log,adPlacementOptions:this.adDisplayController.getAdPlacementOptions()}));const S=Date.now();return await new Promise(((t,n)=>{b.subscribe((()=>{ah("VPAID dispatched AdLoaded event"),t(b)}),"AdLoaded"),this.vpaidCreativeAdErrorSignal.add((e=>{ah("VPAID dispatched AdError event"),n(this.parseVpaidError(e,"VPAID_LOADING_ERROR"))})),this.lifeCycleStage.dispatch("init");try{e.initAd(m,v,"normal",g,f,y)}catch(cL){throw ah("[AdPodViewer]: creative.initAd() error, call stopAd"),i(),new Qu(cL,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}})),this.stats.log({name:"VpaidCreativeInitialized",data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-S}}),b}wrapAdCreative(e){var t;let{creativeSlot:i}=e;const n=this.getAdParameters(),{adParametersObject:r}=this.mediaAd.vastAd,{parsed:{videoMediaFiles:o,animationMediaFile:a,adParameters:s},errors:l}=cn(null!=r?r:n);let d;if("survey"===this.adDisplayController.getAdPlacementOptions().adFormatType&&this.mediaAd.vastAd.surveyParameters){const{disableSurveyCompleteScreen:e,disableSurveyStartTimeout:t,disableSurveyHeader:i,forceSurveyVerticalLayoutAsDefault:n}=this.adDisplayController.playbackParameters;d=Hs({},this.mediaAd.vastAd.surveyParameters,{disableSurveyCompleteScreen:void 0!==e&&e,disableSurveyStartTimeout:void 0!==t&&t,disableSurveyHeader:void 0!==i&&i,forceSurveyVerticalLayoutAsDefault:void 0!==n&&n,isInstreamSurvey:void 0===e&&void 0===t,isSurveySuitable:this.adDisplayController.isSurveySuitable.getValue(),theme:this.adDisplayController.playbackParameters.surveyColorTheme,bgColor:this.adDisplayController.playbackParameters.surveyBgColor})}Ae(l,this.stats);const{playbackParameters:c,videoContentSize:u,slotParameters:h,videoNodeController:p}=this.adDisplayController,{videoTimeout:m,bufferFullTimeout:v,bufferEmptyLimit:g}=this.adPodViewerPlaybackParams,f=o.length>0&&!Qi(this.mediaAd.vastAd)&&!Zi(this.mediaAd.vastAd),A=this.mediaAd.getIsConvertedFromVideoVast();let _,y;if(!f&&!c.disableFirstFrame){const{firstFrameImages:e}=this.mediaAd.vastAd,t=this.mediaAd.getPreloadedFirstFramePicture(),i=null!=t?t:Ly({boundingRectangle:h.size.getValue(),images:sh(e,(e=>{var t,i;return Hs({},e,{width:null!=(t=e.width)?t:0,height:null!=(i=e.height)?i:0})}))});void 0!==i&&(y={posterImage:i,isPreloaded:void 0!==t,backgroundSize:"cover"})}if(f){let e=this.mediaAd.getPreloadedVideoFile();const{adBreak:t}=this.mediaAd,i=this.mediaAd.getAdPodId(),n=h.size.getValue(),r=Hs({container:n,desiredBitrate:this.getDesiredBitrate(),isVideoADB:he(h.window),videoSlot:p.videoNode},Ry);e||(e=Zn(o,r,{adBreak:t,adPodId:i,initiator:"AdPodViewer",isEnabledStreamingMediaFiles:c.isEnabledStreamingMediaFiles}).prioritisedMediaFile),this.prioritizedVideoMediaFile.dispatch(e);const a=A?1===o.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE":"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE";if(!e)throw new Qu({code:a,details:{mediaFiles:o,adPodId:this.mediaAd.getAdPodId(),mediaFilePriorityOptions:r}});if(!c.disableFirstFrame){const{firstFrameImages:t}=this.mediaAd.vastAd,i=this.mediaAd.getPreloadedFirstFramePicture(),r=null!=i?i:An(t,e,n);void 0!==r&&(y={posterImage:r,isPreloaded:void 0!==i})}_={videoContentSize:u,videoMediaFile:Hs({},e,{url:XA(e.url)}),videoMediaFiles:o,videoTimeout:m,bufferFullTimeout:v,bufferEmptyLimit:g,durationFallback:()=>this.mediaAd.getDuration(),getStartStrategy:()=>"play"===this.playingState.getValue()?"startPlaying":"warmupOnly",onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}let b,S=i.ownerDocument.defaultView;if(a){b={animationMediaFile:a,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:s,surveyAdCreativeParameters:d};const e=$_.createHidden({parentElement:i,scope:"AD_CREATIVE_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails});S=e.window,this.addDestroyHandler((()=>{e.destroy(void 0)})),e.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}))}let T=this.adPodViewerPlaybackParams.packshotParameters;var E;T=!1===this.adPodViewerPlaybackParams.packshotSettings.isEnabled?void 0:null!=(E=T)?E:this.getAutogeneratedPackshotParameters(f);const w=this.getVideoSlotClickUrl(),C=this.mediaAd.getIsConvertedFromVideoVast();this.isInfinityPackshotEnabled=this.enableInfinityPackshot&&(!f||void 0!==T),this.enableInfinityPackshot&&this.stats.log({name:"InfinityPackshotEnabled",sensors:{isPossible:this.isInfinityPackshotEnabled}}),this.isLoopVideoEnabled=null!=(t=c.enableLoopVideo)&&t;const P=S,k={AdClickThru:e=>{this.stats.log({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e}}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)},AdSkipped:()=>{this.userInteractionDispatchers.AdSkipped(),this.destroy({reason:"skip",details:void 0})},AdStopped:()=>{var e,t;this.userInteractionDispatchers.AdStopped();const i=this.completeLatch.getValue();this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==i?void 0:i.canUseMediaAfterPlayback)&&e,isInfinityPackshotEnabled:null!=(t=null==i?void 0:i.isInfinityPackshotEnabled)&&t,isLoopVideoEnabled:this.isLoopVideoEnabled}})},AdUserClose:()=>{this.userInteractionDispatchers.AdUserClose(),this.destroy({reason:"close",details:void 0})},AdTimeToSkipChange:e=>{this.adDisplayController.timeToSkipAdCreative.dispatch(e)},AdVideoComplete:()=>{this.userInteractionDispatchers.AdVideoComplete(),ah("VPAID dispatched AdVideoComplete event"),this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled,isLoopVideoEnabled:this.isLoopVideoEnabled})}},I={adCreativeWindow:P,slot:i,slotsParameters:{visibilitySlotParameters:this.adDisplayController.visibilitySlotParameters,slotParameters:this.adDisplayController.slotParameters},animationParameters:b,videoParameters:_,firstFrameParameters:y,videoNodeController:p,slotSize:h.size,videoSlotClickUrl:w,intrinsicAdCreativeType:C?"video":"vpaid",getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:this.getCreativePackshotParameters({win:P,slot:i,packshotParameters:T,packshotSettings:this.adPodViewerPlaybackParams.packshotSettings,slotSize:h.size,videoNodeController:p,adCreativeUserInteractionCallbacks:k,themeEmptyParameters:Cs(this.mediaAd.vastAd)}),lang:this.adDisplayController.getCurrentLang(),adCreativeUserInteractionCallbacks:k,verifyLogAdditionalData:Aa(this.mediaAd.vastAd),shouldHideSkipButton:!1===this.adDisplayController.playbackParameters.controlsSettings.controlsVisibility.skip,playerEnvironment:this.adDisplayController.playerEnvironment,destroyAfterComplete:!this.isInfinityPackshotEnabled&&!this.isLoopVideoEnabled,enableLoopVideo:this.isLoopVideoEnabled,stats:this.stats,vastAd:this.mediaAd.vastAd},{creative:O,wrapper:D,userInteractionDispatchers:N}=function(e){const{stats:t}=e,i=new QS(e),n=Mo(i),{measurableVPAIDCreative:r,userInteractionDispatchers:o}=$o(n,e,{onStop:e=>{let{error:i,reason:n}=e;i?t.error({error:i}):t.log({name:"AdCreativeMeasured",data:{stopReason:n}})},onInitMeasurer:e=>{ea(e)},onTrackEvent:e=>{ia(e)},onExecutionError:e=>{t.error({error:e})},onAdError:e=>{let{error:i}=e;t.errorToStats(i)}});return{creative:r,wrapper:i,userInteractionDispatchers:o}}(I);return this.userInteractionDispatchers=N,{creative:O,wrapper:D}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){const e=this.mediaAd.vastAd;l_(e)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=_h(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(On(e,((e,i,n)=>{this.stats.error({error:In({scope:t,errorType:i,error:e,details:Hs({},this.getVPAIDLogDetails(),{error:e,data:n})})})})));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(Q_(e,(()=>{this.destroy({reason:"error",details:new Qu({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:{adPodId:this.mediaAd.getAdPodId()}})})}))),t;this.stats.log({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t},probability:Hu})}try{const{promise:t,teardown:i}=ty({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),await t}catch(cL){throw new Qu(cL,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:{adPodId:this.mediaAd.getAdPodId()}})}}getStandardVpaidCreative(e){const t=_h(this.getScriptSrc());if("function"!==typeof e)throw new Qu({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:Hs({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(cL){throw new Qu(cL,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const r=a((()=>{ah("[AdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(cL){this.stats.error({error:new Qu(cL,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}));if(!(e=>n(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe)(i))throw new Qu({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const o=i.handshakeVersion(Sk);if(!(e=>{let{versionSupported:t,versionToCheck:i}=e;const n=sh(t.split("."),(e=>parseInt(e,10))),r=sh(i.split("."),(e=>parseInt(e,10)));for(let o=0;o<r.length;o++){const e=r[o],t=n[o],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0})({versionSupported:Sk,versionToCheck:o}))throw ah("[AdPodViewer]: vpaid version is NOT supported, call stopAd method"),r(),new Qu({code:"VPAID_VERSION_ERROR",details:Hs({},this.getVPAIDLogDetails(),{playerSupportedVersion:Sk,creativeVersion:o})});return{creative:i,stopAd:r}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}setUpdatePositionInterval(e){const t=e.setInterval(this.updatePosition,250),i=()=>{f(e.clearInterval)&&e.clearInterval(t)};return this.addDestroyHandler((()=>{i()})),()=>{i()}}subscribeCreativeEvents(e,t){e.subscribe((()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==(t=this.completeLatch.getValue())?void 0:t.canUseMediaAfterPlayback)&&e,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled,isLoopVideoEnabled:this.isLoopVideoEnabled}})}),"AdStopped"),e.subscribe(((e,t,i)=>{this.clickThrough({url:e,clickSource:"VpaidAdClickThruEvent",playerHandles:Boolean(i)})}),"AdClickThru"),e.subscribe((()=>{this.updateAdSkippableState()}),"AdSkippableStateChange");const i=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};let n;e.subscribe((()=>{ah("VPAID dispatched AdDurationChange event"),i()}),"AdDurationChange"),e.subscribe((e=>{this.vpaidCreativeAdErrorSignal.dispatch(e)}),"AdError"),e.subscribe((()=>{"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_FORCE_PLAY_TO_PLAY_STATE_AFTER_ADSTARTED")&&this.playingState.dispatch("play"),this.vpaidCreativeAdStartedSignal.dispatch(void 0),i(),f(n)&&n(),n=this.setUpdatePositionInterval(t)}),"AdStarted"),e.subscribe((()=>{ah("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.updatePosition(),f(n)&&n(),n=this.setUpdatePositionInterval(t),this.onResume.dispatch(void 0)}),"AdPlaying"),e.subscribe((()=>{ah("VPAID dispatched AdPaused event"),this.updatePosition(),f(n)&&n(),this.onPause.dispatch(void 0)}),"AdPaused"),e.subscribe((()=>{this.trackStartEvent()}),"AdVideoStart"),e.subscribe((()=>{this.onImpression.dispatch(void 0)}),"AdImpression"),e.subscribe((()=>{this.onFirstQuartile.dispatch(void 0)}),"AdVideoFirstQuartile"),e.subscribe((()=>{this.onMidpoint.dispatch(void 0)}),"AdVideoMidpoint"),e.subscribe((()=>{this.onThirdQuartile.dispatch(void 0)}),"AdVideoThirdQuartile");const r=a((()=>this.onBeforeComplete.dispatch(void 0)));e.subscribe((()=>{r()}),"AdVideoBeforeComplete"),e.subscribe((()=>{this.onVolumeChange.dispatch(void 0)}),"AdVolumeChange"),e.subscribe((()=>{this.destroy({reason:"skip",details:void 0})}),"AdSkipped");const o=a((()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled,isLoopVideoEnabled:this.isLoopVideoEnabled})}));e.subscribe((()=>{ah("VPAID dispatched AdVideoComplete event"),o()}),"AdVideoComplete"),e.subscribe((()=>{this.destroy({reason:"close",details:void 0})}),"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();if("string"===typeof e){const n=((e,t,i)=>{const n=qc(jk,(e=>{let[,i]=e;return-1!==t.indexOf(i)}));if(!n)return;const[r]=n;return new Qu({code:"EXTERNAL_VPAID_NO_AD_"+r,details:Ps({},i,{error:e})})})(e,this.getCurrentSource().url,this.getVPAIDLogDetails());return n||new Qu({code:t,message:"String error from vpaid ["+e+"]",details:i})}return ae(e)?e:e?new Qu(e,{code:t,details:i}):new Qu({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}getAutogeneratedPackshotParameters(e){if("InPage"===$c&&!this.enableInfinityPackshot)return;if(!e)return;const{vastAd:t}=this.mediaAd,{slotParameters:i}=this.adDisplayController,r=function(e,t){const{adParametersObject:i}=e;if(!n(i))return;const r=Ss(e),o=null==r?void 0:r.packshotImageUrl;if(o)return o;const a=$n(i.adParameters);return 0!==a.length?My({size:t,images:a}):void 0}(t,i.size.getValue()),o=this.adPodViewerPlaybackParams.clickThroughUrl||t.clickUrlData.serializablePlaybackParametersClickUrl;if(!m(o))return void this.stats.log({name:"AutogeneratedPackshot_NoClickThroughLink"});const{title:a,body:s}=ti(this.mediaAd.vastAd.adParametersObject);return{packshotImageUrl:r,packshotActionButtonClickUrl:o,packshotDuration:3,packshotTitle:a,packshotBody:s,packshotButtonText:void 0,packshotAppAssets:Us({adParametersObj:this.mediaAd.vastAd.adParametersObject,statsLogger:this.stats})}}get contentType(){return this.mediaAd.contentType}trackOnCreativeInit(){this.trackVastEvent("onCreativeInit",{})}trackVastEvent(e,t){var i;const n=null!=(i=this.mediaAd.vastAd.trackingEvents[e])?i:[];e in this.sentTrackings||(this.sentTrackings[e]=0),this.sentTrackings[e]+=1,vs({eventName:e,options:this.adDisplayController.getAdPlacementOptions(),trackingEventDetails:t,trackingUrls:n,pixelsSource:"vast"})}trackStartEvent(){this.isCreativeStartRequested.getValue()||this.stats.error({error:new Qu({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=zd),this.trackVastEvent("start",{values:{timeToStart:e}})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;const{playerHandles:i,clickSource:n}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let o;this.isDestroyed&&this.stats.error({error:new Qu({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),e.url?o=e.url:r&&(this.stats.log({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r,adPodId:this.mediaAd.getAdPodId()},probability:Hu}),o=r),fS(this.adDisplayController.videoNode)<=.1&&this.stats.log({name:"ClickOnTinyBufferedTime",probability:Hu});const{pauseOnClickThrough:s,clickThroughConfirmation:l,clickThroughCallback:d}=this.adDisplayController.playbackParameters,c=Boolean(d||o);if(!c||!i)return this.trackVastEvent("clickThrough",{dailySensors:{clickSource:n}}),void this.stats.log({name:"PhantomClickThrough",data:{canHandleClickThrough:c,playerHandles:i,hasClickThroughCallback:Boolean(d),clickThroughUrl:o,clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}});o&&(gu.TEST_IDS&&(o=N(o,{[Jp]:gu.TEST_IDS})),o=ft({url:Ms(o),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const u=a((function(i){void 0===i&&(i=!1);const r=Date.now(),a=t.adDisplayController.getPaused(),l=s&&!a&&!t.completeLatch.getValue();if(l&&t.pause(),i){const e=fs(window.document,(i=>{var n,o;if(!i)return;l&&t.resume();const a=Date.now()-r;vs({eventName:"returnAfterClickThrough",trackingEventDetails:{values:{timeSpentBeforeReturn:a}},trackingUrls:null!=(n=t.getAdParametersTrackingUrls("returnAfterClickThrough"))?n:[],options:t.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"});const s=(e=>{switch(!0){case e<=Number(L_):return"ReturnBackAfterClickThroughIn1Sec";case e<=2*L_:return"ReturnBackAfterClickThroughIn2Sec";case e<=10*L_:return"ReturnBackAfterClickThroughIn10Sec";case e<=60*L_:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}})(a);t.stats.log({name:s,data:{timeSpentBeforeReturn:a,adPodId:t.mediaAd.getAdPodId()},probability:Hu});const d=null!=(o=t.mediaAd.vastAd.trackingEvents.falseClick)?o:[];d.length&&a<3e3&&vs({eventName:"falseClick",trackingEventDetails:{},trackingUrls:d,options:t.adDisplayController.getAdPlacementOptions(),pixelsSource:"vast"}),e()}));t.addDestroyHandler(e)}t.trackVastEvent("clickThrough",{dailySensors:{clickSource:n}}),t.onClickThrough.dispatch({adWasPaused:Boolean(s)}),d&&t.stats.log({name:"ClickThroughCallbackHandle",data:{clickThroughParams:e,url:o,pauseOnClickThrough:s,adPodId:t.mediaAd.getAdPodId()}})}));if(d){l||u();const t=this.isDestroyed;d({url:o,onHandle:u}),!t&&this.isDestroyed&&this.stats.error({error:new Qu({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),this.stats.log({name:"ClickThroughCallbackCall",data:{clickThroughParams:e,url:o,pauseOnClickThrough:s,adPodId:this.mediaAd.getAdPodId()}})}else null!==window.open(o,"_blank")&&u(!0)}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isAdaptive(){return!!this.isVpaidAdPodViewer()&&this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isAdaptive())return Fy;const e={width:this.getAdWidth(),height:this.getAdHeight()};return 0!==e.height&&0!==e.width?e:void 0}getPrioritizedVideoMediaFile(){return this.prioritizedVideoMediaFile.getValue()}getVideoSlotClickUrl(){var e;const{mediaAd:t}=this;if("video"===t.contentType)return this.adPodViewerPlaybackParams.clickThroughUrl;const{vastAd:i}=t,n=i.clickUrlData.serializablePlaybackParametersClickUrl;return this.adPodViewerPlaybackParams.forceFullClickableVideo&&m(i.forceFullClickableVideoUrl)?i.forceFullClickableVideoUrl:n||((null==(e=i.adParametersObject)?void 0:e.theme)===Nh.INTERACTIVE_VIEWER?(vI(this.stats.log),i.clickUrlData.tgaOfferClickUrl):void 0)}getDesiredBitrate(){const{desiredBitrate:e=Sf}=this.adDisplayController;return e}getAdParameters(){return this.mediaAd.getPreloadedVpaidAdParameters()||this.mediaAd.vastAd.adParameters}trackHoneypotShowEvent(){var e;vs({eventName:"showHp",trackingEventDetails:{},trackingUrls:null!=(e=this.getAdParametersTrackingUrls("showHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}trackHoneypotClickEvent(){var e;vs({eventName:"clickHp",trackingEventDetails:{},trackingUrls:null!=(e=this.getAdParametersTrackingUrls("clickHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}isHoneypotEnabledForCurrentCreative(){return"TRUE"!==Tu.getFlagValueAndActivateTestId("VAS_DISABLE_HONEYPOT")&&(!!gu.hardcodedParams.adsdkhoneypotforced||(Pf()||"AdLoader"===$c)&&!Se(xu)&&this.areHoneypotTrackingUrlsDefined()&&fc()<.001)}areHoneypotTrackingUrlsDefined(){return Boolean(this.getAdParametersTrackingUrls("showHp")&&this.getAdParametersTrackingUrls("clickHp"))}getCreativePackshotParameters(e){var t,i;let{win:r,slot:o,packshotParameters:a,packshotSettings:s,slotSize:l,videoNodeController:d,adCreativeUserInteractionCallbacks:c,themeEmptyParameters:u}=e;if(Hm)return;const h=()=>{this.packshotStartLatch.dispatch(void 0)};if(this.isHoneypotEnabledForCurrentCreative())return{type:"honeypot",renderLayoutComponent:()=>{this.trackHoneypotShowEvent(),this.stats.log({name:"AdCreativeWrapperHoneypotRender",probability:Hu}),h();const e=new IT({win:r,parent:o,parentSize:l,videoNodeController:d,onClick:()=>{ah("Honeypot clicked"),this.trackHoneypotClickEvent(),this.stats.log({name:"AdCreativeWrapperHoneypotContinueClicked",probability:Hu}),e.destroy({reason:"complete",details:void 0})},buttonText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",logStatsEvent:this.stats.log});return e}};if(void 0===a)return;const p=null==s?void 0:s.newPackshotSettings,m=this.ecomShopState.getValue(),v=void 0!==p&&(!!p.forceUseNewPackshot||"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_USE_NEW_PACKSHOT")&&(void 0===m.ecomShop?"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_NEW_PACKSHOT_FOR_NON_ECOM"):"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_NEW_PACKSHOT_FOR_ECOM"))),g=v&&!0===(null==p?void 0:p.shouldShow),A=v&&!1===(null==p?void 0:p.shouldShow),_=g&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_NEW_PACKSHOT_ENABLE_REPEAT_BUTTON"),y=Boolean(!!A||s.disableOverlay),b=Boolean(A?mI:s.disableTitle),S=Boolean(A?mI:s.disableButton),T=g&&_&&f(null==p?void 0:p.onPackshotHideCallback)?()=>{d.play(),this.videoInComboNewPackshotVisibility.dispatch(!1),null==p||null==p.onPackshotHideCallback||p.onPackshotHideCallback()}:void 0,E=g&&f(null==p?void 0:p.onPackshotShowCallback)?()=>{T&&d.pause(),this.videoInComboNewPackshotVisibility.dispatch(!0),null==p||null==p.onPackshotShowCallback||p.onPackshotShowCallback()}:void 0;let w=g?p.packshotSlot:o,C=g?this.adDisplayController.visibilitySlotParameters.size:l;const P=this.adDisplayController.getCurrentLang(),k=this.adDisplayController.getCurrentBannerLang(),{title:I}=ti(this.mediaAd.vastAd.adParametersObject);if(void 0!==m.ecomShop&&!this.adDisplayController.playbackParameters.keepControlsAfterVideoEnd){const e=m.ecomShop,t=2.5;return{type:"ecom-packshot",renderLayoutComponent:()=>{var i;h();const n=new uI({win:r,parent:w,parentSize:C,videoNodeController:d,duration:5,lang:P,userActionIncreaseDuration:t,destroyAfterComplete:!this.enableInfinityPackshot,openClickThroughUrl:e=>{c.AdClickThru({url:e,clickSource:"EcomProductsCarousel",playerHandles:!0})},onAssetsClickThroughUrl:e=>{let{clickSource:t}=e;c.AdClickThru({url:null==a?void 0:a.packshotActionButtonClickUrl,playerHandles:!0,clickSource:t})},ecomShop:e,themeEmptyParameters:u,disableOverlay:y,disableTitle:b,disableButton:S,showAnimationDuration:s.showAnimationDuration,title:null!=(i=null==a?void 0:a.packshotTitle)?i:I,body:null==a?void 0:a.packshotBody,abuseDisplayStatus:this.adDisplayController.abuseDisplayStatus,timeToSkip:this.adDisplayController.timeToSkip,controlsVisibility:this.adDisplayController.combinedSkinControlsVisibility,logStatsEvent:this.stats.log,favicon:this.adDisplayController.favicon,bannerFlags:this.adDisplayController.bannerFlags,isVideoInComboNewPackshot:g,onPackshotShowCallback:E,onPackshotHideCallback:T});return n.addDestroyHandler(this.ecomShopState.add((e=>{n.setProductsVisibility(e.isVisible)}))),this.ecomShopState.dispatch(Hs({},this.ecomShopState.getValue(),{isVisible:!0})),n.show(),n}}}const O=null!=u?u:{ageRestriction:void 0,body:void 0,clickUrl:a.packshotActionButtonClickUrl,greenUrl:void 0,label:a.packshotButtonText||Ff("LEARN_MORE",k),title:void 0,targetUrl:a.packshotActionButtonClickUrl},D=null==(t=this.mediaAd.vastAd.assets)||null==(i=t.app)?void 0:i.store_name;D&&g&&(O.greenUrl=D);let N="videoInCombo"===this.adDisplayController.skinVariant&&n(a.packshotAppAssets)&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_RMP_PACKSHOT_ENABLED");return N&&null!=p&&p.packshotSlot?(w=p.packshotSlot,w.style.zIndex="9",C=this.adDisplayController.visibilitySlotParameters.size):N=!1,Hs({},a,{type:"packshot",renderLayoutComponent:()=>{h();const e=new gk({win:r,parent:w,parentSize:C,packshotNewDesignMode:"ONLY_ELEMENTS_CLICKABLE",videoNodeController:d,lang:P,bannerLang:k,destroyAfterComplete:!this.enableInfinityPackshot,title:a.packshotTitle,body:a.packshotBody,imageUrl:a.packshotImageUrl,duration:a.packshotDuration,clickUrl:a.packshotActionButtonClickUrl,openClickThroughUrl:e=>{let{clickSource:t}=e;c.AdClickThru({url:a.packshotActionButtonClickUrl,playerHandles:!0,clickSource:t})},themeEmptyParameters:O,descriptionText:void 0,disableOverlay:y,disableTitle:b,disableButton:S,showAnimationDuration:s.showAnimationDuration,timeToSkip:this.adDisplayController.timeToSkip,controlsVisibility:this.adDisplayController.combinedSkinControlsVisibility,logStatsEvent:this.stats.log,favicon:this.adDisplayController.favicon,bannerFlags:this.adDisplayController.bannerFlags,isVideoInComboNewPackshot:g,onPackshotShowCallback:E,onPackshotHideCallback:T,shouldUseRmpActionPanel:null==p?void 0:p.shouldUseRmpActionPanel,appAssets:a.packshotAppAssets,isRmpPackshot:N});return e.show(),e}})}}const fI=Ef,AI=0,_I=!0,yI=!0,bI=1e4,SI=1e4,TI=["5000","7000","10000","15000"],EI=["5","7","10","15"],wI=Gs("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",EI),CI=Gs("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",TI),PI=Gs("TIMEOUT_NON_PREROLL_MULTIROLL_VIDEO_TIMEOUT",TI),kI=Gs("TIMEOUT_NON_PREROLL_MULTIROLL_VPAID_TIMEOUT",TI),II=Gs("TIMEOUT_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",EI),OI=Gs("TIMEOUT_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",TI),DI=Gs("TIMEOUT_PREROLL_MULTIROLL_VIDEO_TIMEOUT",TI),NI=Gs("TIMEOUT_PREROLL_MULTIROLL_VPAID_TIMEOUT",TI),RI={preroll:Ft({bufferEmptyLimit:parseInt(null!=II?II:"",10),bufferFullTimeout:parseInt(null!=OI?OI:"",10),videoTimeout:parseInt(null!=DI?DI:"",10),vpaidTimeout:parseInt(null!=NI?NI:"",10)},(e=>i(e))),non_preroll:Ft({bufferEmptyLimit:parseInt(null!=wI?wI:"",10),bufferFullTimeout:parseInt(null!=CI?CI:"",10),videoTimeout:parseInt(null!=PI?PI:"",10),vpaidTimeout:parseInt(null!=kI?kI:"",10)},(e=>i(e)))},xI={},VI="#FFFFFF",LI="#232325",MI=e=>{var t,i,n;return null!=(t=null==(i=e.adParametersObject)||null==(n=i.subtitles)?void 0:n.cues)?t:void 0},BI=!1,FI=!1,UI=e=>e.navigator.userAgent.indexOf("UCBrowser")>-1,HI=!(el(window)>=15),zI=da(window),jI=zI.requestAnimationFrame,WI=zI.cancelAnimationFrame,YI=a((e=>{let{input:t,statsLogFunction:i}=e;i({name:"BackgroundBlurShow",dailySensors:{input:t}})}));class GI extends wh{constructor(e){var t,i;super(),this.isPlaying=new Yh(!1),this.framesInterval=100,this.slowFramesCounter=0,this.slowDevice=!1,this.repaintTimeoutId=0,this.rafId=0,this.repaint=()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=.3;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const n=No(this.params.videoNode);if(!n)return void this.setRepaintTimeout();const{clientWidth:r,clientHeight:o}=this.params.container,a=r/o,s=n.width/n.height,l=s-a;this.prepareBlurCanvas(s,l),this.setVisibility(!0);const{context:d}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;try{if(this.slowDevice){const e=2;d.drawImage(c,0,0,n.width,n.height,0,0,e,e),d.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else d.drawImage(c,0,0,n.width,n.height,0,0,u,h)}catch(hb){const{width:t,height:i}=qh(c);this.params.stats.error({error:new Qu({code:"FAILED_TO_DRAW_BACKGROUND_BLUR",details:{error:hb,videoContentWidth:n.width,videoContentHeight:n.height,canvasWidth:this.canvas.width,canvasHeight:this.canvas.height,videoNodeWidth:t,videoNodeHeight:i}})})}d.globalAlpha=.1,this.handleSlowDevices(),this.setRepaintTimeout()},this.params=e,this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),t=this.params.container,i=this.blurWrapper,t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),this.appendStyles(),this.isPlaying.add((t=>{t?(this.repaint(),this.canvas.style.display="",YI({input:e.input,statsLogFunction:e.stats.log})):(this.clearRepaintTimeout(),this.setVisibility(!1))})),this.addDestroyHandler((()=>{this.setPlaying(!1),Re(this.blurWrapper)}))}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[1.6,Math.max(e,1.6)];t&&i.reverse(),this.slowDevice||GT(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){GT(this.canvas,{opacity:e})}simplifyBlur(){const{clientWidth:e,clientHeight:t}=this.params.container;this.setCanvasSize(e+10,t+10);const i="-5px";GT(this.canvas,{left:i,top:i,transform:"",filter:"blur(5px)",width:100*(1+10/e)+"%",height:100*(1+10/t)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=se(this.params.videoNode).position;-1===["fixed","absolute"].indexOf(t)&&(e["z-index"]="-1"),GT(this.blurWrapper,e),GT(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX(1.2) scaleY(1.2)",filter:"blur(50px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout((()=>this.rafId=jI(this.repaint)),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),WI(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>1.8*this.framesInterval?(this.slowFramesCounter++,this.slowFramesCounter>=3&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:n}=this.params,r=t<0,o=r?n.offsetHeight*e:n.offsetWidth/e,a=r?o:n.offsetWidth,s=r?n.offsetHeight:o,l=(r?i.offsetWidth:i.offsetHeight)/o*.8;this.setCanvasSize(a,s),this.appendBlurScale(.8*l,r)}setCanvasSize(e,t){if(!i(e)||!i(t))return;const{canvas:n}=this;n.width=e,n.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}let qI=function(e){return e.inline="inline",e.pictureInPicture="picture-in-picture",e}({});const XI=e=>{const t=e.adBlockIdentification.getValue();return{visibilityTrackingElement:e.visibilitySlotParameters.element,adType:null==t?void 0:t.adType,bundleName:$c,VSID:fu,partnerId:null==t?void 0:t.partnerId,impId:null==t?void 0:t.impId}},KI=["pagehide","unload"],JI=new Map,ZI=e=>{const t=tl(e,{crossorigin:null,loop:null,preload:"auto",autoplay:null}),i=bo(e,{objectFit:""});return a((()=>{t(),i()}))},QI="Fullscreen is not supported";class $I{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new _u,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=Oo(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&$s(e)&&(this.onDestroy.addOne(Ne({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(Ne({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=Io(e,t),this.names&&(this.onDestroy.addOne(Ne({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(QI);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(QI);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(QI);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=yu(this.handlers,(t=>t!==e))}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,$d(this.handlers,(t=>t(e)))}}class eO{constructor(e){this.violatedSources=[],this.securityPolicyViolationCallback=e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:n}=e;if("media-src"!==i)return;const r={blockedURI:t,violatedDirective:i,originalPolicy:n};this.violatedSources.push(r)},this.unsubscribeEvent=Ne({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return qc(this.violatedSources,(t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)}))}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const tO=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class iO extends wh{constructor(e){super(),this.params=e,this.mediaSource=new e.MediaSourceConstructor,ah("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.init().then((()=>{ah("MSEController: MSE successfully attached"),Ih.log({name:"MSEControllerAttachSuccess"})})).catch((e=>{ah("MSEController: init error"),"AbortError"===e.name?Ih.log({name:"MSEControllerFetchWasAborted",data:{message:e.message}}):Ih.error({error:new Qu(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})}))}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler((()=>{if(e.signal.aborted)return ah("MSEController#reader: abort controller was already aborted"),void Ih.error({error:new Qu({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});ah("MSEController#reader: abort controller"),e.abort()}));const t=await fetch(this.params.mediaFile.url,{signal:e.signal});if(!t.body)throw new Qu({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler((()=>{ah("MSEController#reader: cancel reader"),_s(i.cancel())})),ah("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise((e=>Ne({element:this.mediaSource,eventName:"sourceopen",listener:e})));const{mediaFile:e}=this.params,{type:t,codec:i}=e;let n;t&&i?n=py({type:t,codec:i}):(Ih.log({name:"MSEControllerSourceBufferUsesDefaultWebmContentType",data:{mediaFile:e}}),n='video/webm; codecs="vorbis,vp8"');const r=this.mediaSource.addSourceBuffer(n);return Ne({element:r,eventName:"error",listener:this.ignoreAfterDestroy((e=>{ah("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new Qu(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))}),"MSEController.ElementEventListener")}),this.addDestroyHandler((()=>{"open"===this.mediaSource.readyState&&(ah("MSEController#abort source buffer"),Ih.log({name:"MSEControllerSourceBufferAbortOnDestroy"}),r.abort())})),ah("MSEController: got source buffer"),r}async doReadCycle(e,t){ah("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+tO);let i=await e.read(),n=new Uint8Array;do{for(;t.updating;)await new Promise((e=>Ne({element:t,eventName:"updateend",listener:e})));if(!i.value)break;if(this.isDestroyed)return;if(tO){const e=new Uint8Array(n.length+i.value.length);e.set(n),e.set(i.value,n.length),n=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise((e=>Ne({element:t,eventName:"updateend",listener:e})));i=await e.read()}while(i.value);for(tO&&(ah("MSEController: buffer read complete, length=["+n.length+"]"),t.appendBuffer(n));t.updating;)await new Promise((e=>Ne({element:t,eventName:"updateend",listener:e})));ah("MSEController: read cycle complete")}async finalize(e){for(ah("MSEController#close streams");e.updating;)await new Promise((t=>Ne({element:e,eventName:"updateend",listener:t})));"open"===this.mediaSource.readyState?(ah("MSEController#finalize: close stream"),this.mediaSource.endOfStream(),this.destroy(void 0)):ah("MSEController#finalize: media source is closed")}}const nO=Math.ceil(2/(K_/L_)),rO=Tc;class oO extends wh{constructor(e,t){super(),this.onClick=new _u,this.currentPosition=new Yh({currentTime:0,duration:0},hs),this.onError=new _u,this.onEnd=new _u,this.onVolumeChange=new _u,this.onPlay=new _u,this.muteWithoutTrackingSend=new Yh(!1),this.onPlayAfterPause=new _u,this.onBufferingAfterPlay=new _u,this.isBuffering=new Yh(!1),this.onPlaying=new _u,this.onCanPlay=new _u,this.onLoadedData=new _u,this.pauseRequest=new Yh(-1),this.restartOnMediaErrNetworkFirstCunkFailCount=0,this.videoNode=e,this.addDestroyHandler((()=>{t.clearTimeout(this.restartOnMediaErrNetworkFirstCunkFailTimeout)}));const i=this.videoNode.paused?"pause":"play";this.playingState=new Yh(i),this.win=na(e)?e.ownerDocument.defaultView:t,this.fullscreenApi=new $I(this.win,e),this.cspErrorHandler=new eO(this.win);let n=this.playingState.getValue();this.playingState.add((e=>{const{currentTime:t,duration:i,paused:r,ended:o}=this.videoNode;switch(ah("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:n,nextPlayingState:e,currentTime:t,duration:i,paused:r,ended:o})+"]"),e){case"play":"pause"===n&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case"end":this.onEnd.dispatch(void 0);break;case"buffering":"play"===n&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch("buffering"===e),n=e}));const r={error:()=>{const{src:i}=this.videoNode,n=()=>{const e=this.cspErrorHandler.getViolatedSourceBySrc(i);return e?new Qu({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:e}}):void 0},r=()=>{const e=n();e&&Ih.error({error:e})};let o=n();if(!o){var a;if(o=this.getVideoNodeError(),"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL"===o.code&&this.restartOnMediaErrNetworkFirstCunkFailCount<30&&i!==(null==(a=e.ownerDocument)?void 0:a.location.href)){this.restartOnMediaErrNetworkFirstCunkFailCount++;const n=()=>{e.src=i,this.play()};this.restartOnMediaErrNetworkFirstCunkFailTimeout=t.setTimeout((()=>{v(n)}),500);const r={count:this.restartOnMediaErrNetworkFirstCunkFailCount};return t.clearTimeout(this.logRestartOnMediaErrNetworkFirstCunkFailTimeout),void(this.logRestartOnMediaErrNetworkFirstCunkFailTimeout=t.setTimeout((()=>{Ih.log({name:"RestartOnMediaErrNetworkFirstCunkFail",data:r})}),1e3))}const{promise:n,clear:s}=Ch(1e3,this.win);this.addDestroyHandler((()=>{s(),r()})),n.then(r).catch(Ue)}this.onError.dispatch(o)},play:()=>{this.playingState.dispatch("play")},playing:()=>{this.currentPosition.dispatch(this.getCurrentPosition()),this.onPlaying.dispatch(void 0),this.playingState.dispatch("play")}};this.subscribeClick(),this.subscribeUpdatePositionInterval(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange(),this.subscribeLoadedData();for(const o in r)r.hasOwnProperty(o)&&e.addEventListener(o,r[o]);this.addDestroyHandler((()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.cspErrorHandler.destroy(),this.onCanPlay.removeAll()}))}play(){ah("VideoNodeController.play");const e=this.videoNode.play();hp(e)&&e.catch((e=>{if(!this.shouldIgnorePlayRejection(e)){if(this.videoNode.volume>0){const e=this.videoNode.volume;return this.setVolume(0),this.play(),void this.addDestroyHandler((()=>{this.setVolume(e)}))}Ih.error({error:new Qu(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})}}))}pause(){ah("VideoNodeController.pause"),this.pauseRequest.dispatch(this.win.Date.now()),this.currentPosition.dispatch(this.getCurrentPosition()),this.videoNode.pause(),"end"!==this.playingState.getValue()&&this.playingState.dispatch("pause")}setSrc(e){const t=this.prepareSrcUrl(e),{videoNode:i}=this;let n;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const r=oh(this.win);n=!(!f(r)||void 0!==Yn(e)),ah("VideoNodeController.setSrc shouldPlayWithMSE=["+n+"] url=["+t+"]"),al(i,(()=>{if(!n)return i.src=t,void i.load();const r=(e=>{if(!Ey||!_y)throw new Qu({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new iO(sl({},e,{MediaSourceConstructor:_y}))})({mediaFile:e,videoSlot:i});this.activeMSEController=r,r.addDestroyHandler(this.ignoreAfterDestroy((e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)}),"VideoNodeController.mseControllerOnDestroy")),this.addDestroyHandler((()=>{r.destroy(void 0)}))}))}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentPosition(){return function(e){const t=e.duration||0;let i=(n=e.currentTime,.001*Math.round(n/.001)||0);var n;return t-i<.001&&(i=t),{currentTime:Math.max(0,i),duration:Math.max(0,t)}}(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return Oo(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMutedWithoutTrackingSend(e){this.muteWithoutTrackingSend.dispatch(!0),this.setMuted(e)}getMuteWithoutTrackingSend(){return this.muteWithoutTrackingSend.getValue()}setMuted(e){!function(e,t){al(e,(()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:.5;e.volume=t}}))}(this.videoNode,e)}getVolume(){return ll(this.videoNode)}setVolume(e){!function(e,t){al(e,(()=>{e.volume=t,e.muted=0===t}))}(this.videoNode,e)}setLoop(e){this.videoNode.loop=e}getLoop(){return this.videoNode.loop}prepareSrcUrl(e){const{url:t}=e;return pn(e.type)?N(e.url,{video_height:String(this.getHeight()),video_width:String(this.getWidth())}):t}getVideoNodeError(){const{videoNode:e}=this,{src:i,currentSrc:n,currentTime:r,duration:o,error:a,networkState:s,readyState:l}=e,d=a&&a.code,c={code:d,message:a&&a.message||"",src:i,currentSrc:n,currentTime:r,duration:o,networkState:s,readyState:l,selectedMediaFile:void 0,mediaFiles:void 0};if(!a||"undefined"===typeof MediaError)return new Qu({code:"VIDEO_ERROR",details:c});switch(d){case MediaError.MEDIA_ERR_ABORTED:return new Qu({code:"MEDIA_ERR_ABORTED",details:c});case MediaError.MEDIA_ERR_NETWORK:return new Qu({code:"MEDIA_ERR_NETWORK",details:c});case MediaError.MEDIA_ERR_DECODE:return new Qu({code:r>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:c});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return t(s)&&t(l)&&l===e.HAVE_NOTHING&&s===e.NETWORK_NO_SOURCE?new Qu({code:"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL",details:c}):new Qu({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:c});default:return new Qu({code:"MEDIA_ERROR_UNRECOGNIZED",details:c})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=el(this.win)>=11?function(e,t,i){function r(){0!==o&&(clearTimeout(o),o=0)}let o=0,a=0,s=0;const l=Ne({element:e,eventName:"click",listener:function(e){0!==o&&(r(),t(e))},options:{passive:!0}}),d=Ne({element:e,eventName:"touchstart",listener:function(e){1===e.touches.length&&(a=e.changedTouches[0].screenX,s=e.changedTouches[0].screenY,r(),o=i.setTimeout(r,1e3))},options:{passive:!0}}),c=Ne({element:e,eventName:"touchend",listener:function(e){0!==o&&(r(),t(e))},options:{passive:!0}}),u=Ne({element:e,eventName:"touchmove",listener:function(e){if(0===o||!n(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];(function(e,t){return Math.abs(a-e)>15||Math.abs(s-t)>15})(t,i)&&r()},options:{passive:!0}});return()=>{l(),d(),c(),u()}}(this.videoNode,e,this.win):Ne({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeUpdatePositionInterval(){let e;const{videoNode:t}=this,i=()=>{this.currentPosition.dispatch(this.getCurrentPosition());const{currentTime:e,duration:t}=this.getCurrentPosition();ah("[VideoNodeController]: updated position [currentTime = ["+e+"], duration = ["+t+"]]")},n=Ne({element:t,eventName:"playing",listener:()=>{this.win.clearInterval(e),e=this.win.setInterval(i,250)},options:{passive:!0}}),r=Ne({element:t,eventName:"pause",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),o=Ne({element:t,eventName:"ended",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),a=Ne({element:t,eventName:"canplay",listener:()=>{this.onCanPlay.dispatch(void 0)}});this.addDestroyHandler(n),this.addDestroyHandler(r),this.addDestroyHandler(o),this.addDestroyHandler(a),this.addDestroyHandler((()=>{this.win.clearInterval(e)}))}subscribePause(){const{videoNode:e}=this,t=Ne({element:e,eventName:"pause",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e>=t||this.playingState.dispatch("pause")},options:{passive:!0}}),i=Dn((()=>{const{paused:t,ended:i}=e;if("play"===this.playingState.getValue()&&t&&!i){const{currentTime:t,duration:i}=e;ah("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),Ih.log({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch("pause")}}));this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Ne({element:this.videoNode,eventName:"ended",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e+.25>=t?this.playingState.dispatch("end"):ah("video ended ignored with currentTime=["+e+"] duration=["+t+"]")},options:{passive:!0}});let t=0,i=NaN;const n=Dn((()=>{const{currentTime:e,duration:n}=this.getCurrentPosition(),{paused:r}=this.videoNode,o=this.playingState.getValue();if(n>0&&e>=n)return void("end"!==o&&(Ih.log({name:"DetectVideoEndByCurrentTime"}),this.playingState.dispatch("end")));const a=!r&&n>0&&e===i&&n-e<1&&"play"===this.playingState.getValue();i=e,a?t>=nO?(t=0,"end"!==o&&(Ih.log({name:"DetectVideoEndByStalledOffset",probability:Hu}),this.playingState.dispatch("end"))):t++:t=0}));this.addDestroyHandler(e),this.addDestroyHandler(n)}subscribeBuffering(){let e=Y;const t=nS(this.videoNode,(t=>{let i;if(i=t?"buffering":this.videoNode.paused?"pause":"play",e(),this.playingState.dispatch(i),t&&rO){const{clear:t,promise:i}=Ch(1e3,this.win);e=t,this.addDestroyHandler(t),i.then((async()=>{if("buffering"!==this.playingState.getValue())return;const{currentTime:e,duration:t}=this.getCurrentPosition(),i=e+.1;this.setCurrentTime(i);const{currentSrc:n,src:r,readyState:o}=this.videoNode;Ih.log({name:"RecoverSafariPlayingHangup",data:{currentSrc:n,src:r,currentTime:e,duration:t,readyState:o},probability:Hu})})).catch(Ue)}}));this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Ne({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0),this.muteWithoutTrackingSend.dispatch(!1)}}))}subscribeLoadedData(){this.addDestroyHandler(Ne({element:this.videoNode,eventName:"loadeddata",listener:()=>this.onLoadedData.dispatch(void 0)}))}shouldIgnorePlayRejection(e){return!!this.isDestroyed||(this.restartOnMediaErrNetworkFirstCunkFailCount>0&&this.restartOnMediaErrNetworkFirstCunkFailCount<30||(20===e.code||"AbortError"===e.name)&&Date.now()-this.pauseRequest.getValue()<=1e3)}}const aO={isCloseAvailable:!1,isCloseDialogActive:!1},sO={clickableVideo:!0,video:!0,interactiveViewer:!0,external:void 0,motion:void 0,survey:void 0,themeEmpty:void 0,vpaidCreative:void 0},lO=(e,t)=>t>=yS&&("play"===e||"pause"===e),dO=[{type:"video/webm",codec:"vp8, vorbis"},{type:"video/webm",codec:"vp8"},{type:"video/webm",codec:"vp9, vorbis"},{type:"video/webm",codec:"vp9"},{type:"video/webm",codec:"av1"},{type:"video/webm",codec:void 0},{type:"video/ogg",codec:void 0},{type:"video/mp4",codec:"avc1.640033, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640033"},{type:"video/mp4",codec:"avc1.640034, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640034"},{type:"video/mp4",codec:"avc1.64082A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64082A"},{type:"video/mp4",codec:"avc1.640828, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640828"},{type:"video/mp4",codec:"avc1.640820, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640820"},{type:"video/mp4",codec:"avc1.64081F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081F"},{type:"video/mp4",codec:"avc1.64081E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081E"},{type:"video/mp4",codec:"avc1.64002A,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A"},{type:"video/mp4",codec:"avc1.640028,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028"},{type:"video/mp4",codec:"avc1.640020,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020"},{type:"video/mp4",codec:"avc1.64001F,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F"},{type:"video/mp4",codec:"avc1.64001E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E"},{type:"video/mp4",codec:"avc1.4D481E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D481E"},{type:"video/mp4",codec:"avc1.4D401E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E"},{type:"video/mp4",codec:"hev1.1.6.L60.90"},{type:"video/mp4",codec:"hev1.1.6.L63.90"},{type:"video/mp4",codec:"hev1.1.6.L90.90"},{type:"video/mp4",codec:"hev1.1.6.L120.90"},{type:"video/mp4",codec:"av1"},{type:"video/mp4",codec:void 0},{type:"video/3gpp",codec:"av1"},{type:"video/3gpp",codec:void 0},{type:"application/x-mpegURL",codec:void 0},{type:"application/vnd.apple.mpegurl",codec:void 0},{type:"video/mpeg",codec:void 0},{type:"application/dash+xml",codec:void 0}];var cO=e(355),uO=e.n(cO);const hO=yy?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=",pO=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),n=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&_s(e.play())}})(e);return()=>{t(),i(),n()}},mO={once:!0,passive:!0};class vO{constructor(e,t){let{checkSoundEnabled:i}=t;this.stop=Y,this.isStopped=!1,this.revertVideoState=Y,this.video=e;const n=document.createElement("div");n.style.display="none";const r=pO(e),o=al(e,(()=>tl(e,{src:hO})));let s;this.revertVideoState=a((()=>{o(),e.load(),r(),Re(n)})),this.promise=new Promise((async(e,t)=>{let n;if(s=t,i){if(n=await this.requestAutoplayAbilityByMuted(!1),this.isStopped)return;if(n.autoplayAbility)return this.revertVideoState(),void e({autoplayAbility:"allowed",detectionMethod:n.detectionMethod,detectionDetails:n.detectionDetails})}const r=await this.requestAutoplayAbilityByMuted(!0);if(this.isStopped)return;let o;o=n&&n.detectionMethod!==r.detectionMethod?"DifferentDetectionMethods":r.detectionMethod,this.revertVideoState(),this.isStopped=!0,e({autoplayAbility:r.autoplayAbility?"muted":"restricted",detectionMethod:o||"NotRecognized",detectionDetails:{soundDisabled:r,soundEnabled:n}})})),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(al(t,(()=>{t.load()})),await Rp(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:"RAAStopped"};t.muted=e,t.volume=e?0:1;const i=await new Promise((e=>{(function(e){let t=0;const i=[],n=(n,r)=>{i.push(Ne({element:e,eventName:n,listener:r,options:mO})),clearTimeout(t)},r=new Promise((i=>{const r=t=>{e.paused&&i({detectionMethod:t,autoplayAbility:!1})},o=e.play();r("VideoTagPaused"),n("durationchange",(()=>r("PauseAfterDurationChange"))),n("error",(()=>r("VideoTagPausedAfterError"))),n("pause",(()=>i({detectionMethod:"PauseEvent",autoplayAbility:!1}))),n("playing",(()=>{i({detectionMethod:"PlayingEvent",autoplayAbility:!0})})),Boolean(o)?(n("progress",(()=>{i({detectionMethod:"ProgressEvent",autoplayAbility:!0})})),o.then((()=>{i({detectionMethod:"PromiseResolve",autoplayAbility:!0})})).catch((e=>{i({detectionMethod:"PromiseReject",autoplayAbility:!1,detectionDetails:e?{code:e.code,name:e.name,message:e.message}:"not_error"})}))):t=window.setTimeout((()=>{i({detectionMethod:"Timeout",autoplayAbility:!1})}),500)}));return r.then((()=>W(i))),r})(t).then((t=>{e(t)})).catch((t=>{e({autoplayAbility:!1,detectionMethod:"PlayRejected",detectionDetails:{code:t.code,name:t.name,message:t.message}})}))}));return this.isStopped?{autoplayAbility:!1,detectionMethod:"RAAStopped"}:i}}const gO=e=>{const t=Fk(e);if(!t)return;const{parsedParameters:i}=t;return i?i.iconUrl:void 0},fO=function(e){return void 0===e&&(e=window),function(e){return void 0===e&&(e=window),T(e)&&E(e).toLowerCase().indexOf("iphone")>-1}(e)||function(e){void 0===e&&(e=window);const{userAgent:t=""}=e.navigator,i=/Android/.test(t),n=function(e){return void 0===e&&(e=window),/Windows Phone/i.test(e.navigator.userAgent)}(e),r=/com\.yandex\.mobile\.metrica\.ads\.sdk.*?Android/.test(t);return i&&!n||r}(e)&&E(e).toLowerCase().indexOf("mobile")>-1}();class AO extends wh{constructor(e){super(),this.initalScrollY=0,this.handleScrollEvent=()=>{Math.abs(window.scrollY-this.initalScrollY)<100||(this.isNearScreenBottom()&&this.onDetectedStickyness(),this.destroy(this.props))},this.props=e,fc()<.01&&setTimeout((()=>{this.runDetection()}),0)}runDetection(){this.needToRunDetection()&&(this.initalScrollY=window.scrollY,window.addEventListener("scroll",this.handleScrollEvent),this.addDestroyHandler((()=>{window.removeEventListener("scroll",this.handleScrollEvent)})))}onDetectedStickyness(){var e;const{height:t,width:i}=gi(),n=this.props.partnerId||0,r=this.props.impId||0,o=null!=(e=this.props.skinContainer.closest("[data-visibility]"))&&e.closest("[data-wrapper]")?1:0,a=this.props.skinContainer.shadowRoot;let s=(null==a?void 0:a.querySelector('[d="M -4 -4 L 4 4"]'))?1:0;a||(s=-1),AO.stats.log({name:"DetectedStickyInstream",probability:1,data:fl({partnerId:n,impId:r,skinVariant:this.props.skinVariant||"",hasInstreamKebab:s,hasOutstreamWrapper:o,winHeight:t,winWidth:i},qh(this.props.node))})}needToRunDetection(){return!this.isDestroyed&&!fO&&this.isNearScreenBottom()}isNearScreenBottom(){const{bottom:e}=qh(this.props.node),{height:t}=gi(),i=t-e;return i>=-5&&i<=30}}AO.stats=new ph(Eu);const _O=jr(!1);_O.Provider.displayName="ThemeEmptyActionPanelContext";const yO=()=>Zr(_O),bO=(jr(void 0),()=>{const e=cT(),{isSkipButtonVisible:t,disclaimerInfo:i}=qa();if(yO())return SO(e,t,null==i?void 0:i.mandatoryHeightPortion)}),SO=(e,t,i)=>{const n=e.height>=e.width,r="small"===Ya(e,!0)?0:43,o=r+26,a=.2*e.height,s=a-Math.max(e.height*(null!=i?i:0),o),l=a-Math.max(e.height*(null!=i?i:0),r);let d=e.width-16-16;return t&&(d-=52),l>=104&&d>=300&&n?"big":s>=46&&d>=400?"middle":"small"},TO=15*L_;class EO extends wh{constructor(e){super(),this.intervalsList=[],this.intervalStart=Date.now(),this.isStarted=!1,this.doc=e}startDetection(){this.intervalStart=Date.now();const e=["load","mousedown","mousemove","keypress","scroll","touchstart","touchmove","keydown","click","focus"],t=[];this.addDestroyHandler((()=>{this.saveIdleIntervalValue(),$d(t,(e=>{e()}))}));const i=[this.doc];this.doc!==iu.document&&i.push(iu.document),$d(i,(i=>{const n=fs(i,(e=>{e&&this.saveIdleIntervalValue()}));t.push(n),$d(e,(e=>{const n=Ne({element:i,eventName:e,listener:()=>{this.saveIdleIntervalValue()}});t.push(n)}))})),this.isStarted=!0}saveIdleIntervalValue(){if(!this.isStarted)return;const e=this.getCurrentIntervalTime();this.intervalStart=Date.now(),e<0||this.intervalsList.push(e)}getCurrentIntervalTime(){const e=Date.now()-this.intervalStart;return e>TO?e:-1}getIntervalsList(){if(!this.isStarted)return;const e=this.getCurrentIntervalTime(),t=this.intervalsList;return e>=0&&t.push(e),t}getAverageIdleTime(){const e=this.getIntervalsList();return e&&0!==e.length?bc(e,((e,t)=>e+t),0)/e.length:-1}getMaxIdleTimeInterval(){const e=this.getIntervalsList();return e&&0!==e.length?bc(e,((e,t)=>Math.max(e,t))):-1}}const wO=(Wm?"https://":"//")+cu+"/ads/trace?adsdkver="+String(Lh),CO=[.5,.7,.9,1];class PO{constructor(e){let{params:t={},adElement:i}=e;this.thresholdStack=[],this.hiddenThresholdStack=[...CO].sort(((e,t)=>t-e)),this.timesInViewMap={},this.startTimesInViewMap={},this.descriptors=[],this.intersectionObserver=null,this.adElement=i,this.params=t,this.timesInViewMap=CO.reduce(((e,t)=>(e[100*t]=0,e)),{}),this.init()}destroy(){var e;this.updateAdVisibilityTime(0),null==(e=this.intersectionObserver)||e.disconnect(),this.logAdVisibility();for(const t of this.descriptors)ds(t)&&t()}init(){this.intersectionObserver=new IntersectionObserver(this.trackAdVisibility.bind(this),{threshold:[.49,...CO]}),this.intersectionObserver.observe(this.adElement),this.descriptors.push(Ne({element:window,eventName:"beforeunload",listener:()=>{this.destroy()}})),this.descriptors.push(fs(document,(e=>{e||this.updateAdVisibilityTime(0)})))}trackAdVisibility(e){for(const t of e)this.updateAdVisibilityTime(Number(t.intersectionRatio.toFixed(2)))}updateAdVisibilityTime(e){for(;this.hiddenThresholdStack.length>0&&e>=this.hiddenThresholdStack[this.hiddenThresholdStack.length-1];){const e=this.hiddenThresholdStack.pop(),t=100*e;this.startTimesInViewMap[t]=Date.now(),this.thresholdStack.push(e)}for(;this.thresholdStack.length>0&&e<this.thresholdStack[this.thresholdStack.length-1];){var t;const e=this.thresholdStack.pop(),i=100*e,n=null!=(t=this.timesInViewMap[i])?t:0;this.timesInViewMap[i]=n+Date.now()-this.startTimesInViewMap[i],this.hiddenThresholdStack.push(e),delete this.startTimesInViewMap[i]}}logAdVisibility(){oe(wO,JSON.stringify({data:Al({},this.params,this.timesInViewMap),adsdk_version:String(Lh),name:"BANNER_PARTS_IN_VIEW"}))}}const kO=3,IO="data-focused";let OO=function(e){return e[e.INSTREAM=1]="INSTREAM",e[e.OUTSTREAM=2]="OUTSTREAM",e}({}),DO=0;class NO extends wh{constructor(e){var t;let{config:i,videoNode:r,layoutSlot:o,skinParameters:s,backgroundSlot:l,visibilitySlotParameters:d,retainLastMediaAfterPlayback:u,stats:h}=e;super(),t=this,this.volumeButtonCollapseProgress=new Yh(void 0),this.volumeStatus=new Yh("unknown"),this.videoSlotClickUrl=new Yh(void 0),this.ecomShopState=new Yh({isVisible:!1,ecomShop:void 0,isCtaEnabled:!1,isDomainEnabled:!1}),this.subtitlesState=new Yh(void 0),this.clientInfo=new Yh(void 0,hs),this.userRegion=new Yh(void 0),this.onReady=new _u,this.onBeforeDestroy=new _u,this.onDestroy_PUBLIC_DO_NOT_USE=new _u,this.onBeforeAdStart=new _u,this.onAdStart=new _u,this.adSlowStart=new Yh(!1),this.onAdMediaStart=new _u,this.onAdMediaEnd=new _u,this.onAdEnd=new _u,this.onAdSkipped=new _u,this.onClickThrough=new _u,this.playerEnvironment=Pf()?"multiroll":void 0,this.autoplayAbilityResult=new Yh({autoplayAbility:"restricted",detectionMethod:"AutomaticallyGenerated"},hs),this.tooltipParameters={container:{containerElement:new Yh(void 0),setContainerElement:e=>{this.tooltipParameters.container.containerElement.dispatch(e)}},content:{tooltipContent:new Yh(void 0),setTooltipContent:e=>{this.tooltipParameters.content.tooltipContent.dispatch(e)}}},this.onAdStartRejected=new _u,this.adContentSize=new Yh(void 0,hs),this.onAdStop=new _u,this.onAdPodPlayAdMedia=new _u,this.onAdPodStartRequest=new _u,this.onAdPodStart=new _u,this.onAdPodImpression=new _u,this.onAdPodFirstQuartile=new _u,this.onAdPodMidpoint=new _u,this.onAdPodThirdQuartile=new _u,this.onAdPodPause=new _u,this.onAdPodResume=new _u,this.onAdPodError=new _u,this.onAdPodComplete=new _u,this.onAdPodClose=new _u,this.onAdInteraction=new _u,this.adMediaState=new Yh({name:"idle"},hs),this.isPackshotPlaying=new Yh(!1),this.videoInComboNewPackshotVisibility=new Yh(void 0),this.themeEmptyParameters=new Yh(void 0,hs),this.favicon=new Yh(void 0),this.showTitleAndBody=new Yh(void 0),this.currentVastAd=new Yh(void 0),this.currentVideoMediaFile=new Yh(void 0),this.bannerFlags=new Yh(void 0,hs),this.abuseParameters=new Yh(zb,hs),this.adPodDuration=new Yh(NaN),this.adVolumeAvailability=new Yh(FI),this.adPodRemainingTime=new Yh(-2),this.skinAnimationProgress=ao(0),this.timeToSkipComputed=new Yh(fE),this.timeToSkipAdCreative=new Yh(void 0),this.timeToSkip=Zo([this.timeToSkipComputed,this.timeToSkipAdCreative],((e,t)=>null!=t?t:e)).valueSignal,this.adSkippableState=new Yh(Jb),this.playingState=new Yh("idle",((e,t)=>"idle"===t?(this.stats.error({error:new Qu({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),this.adPodCloseState=new Yh(aO,hs),this.adTuneState=new Yh(qb,hs),this.combinedSkinControlsVisibility=new Yh({},hs),this.creativeType=new Yh(void 0),this.adSystemType=new Yh(void 0),this.contentAfterAdPod=new Yh(vf,hs),this.socialAdvertising=new Yh(!1),this.abuseDisplayStatus=new Yh("hidden"),this.pauseByOpenAbuseScreen=new Yh(!1),this.adPodsCount=new Yh(0),this.playingAdPodIndex=new Yh(0),this.isFullscreen=new Yh(!1),this.displayAdSequence=new Yh(void 0,hs),this.shouldShowSkipButton=new Yh({shouldShowSkipButton:!1}),this.logAbuseOpenFirstTime=a((()=>{this.stats.log({name:"AbuseScreenOpenFirstTime",probability:Hu})})),this.onAllAdPodComplete=new _u,this.lastMediaRetained=new Yh(void 0),this.adBlockIdentification=new Yh({adType:void 0,partnerId:void 0,impId:void 0}),this.adTitleParameters=new Yh(void 0),this.adFoxAdTuneParameters=new Yh(void 0),this.nroaInform=new Yh(void 0),this.skinControlsHideReasons=new Yh(ze(sh(Ef,(e=>[e,[]])))),this.publicApiControlsVisibility=new Yh({}),this.isCreativeWithOwnControls=new Yh(!1),this.vastAdControlsSettings=new Yh(void 0),this.shouldHandleResize=!0,this.viewersList=[],this.currentViewerSignal=new Yh(void 0),this.onCurrentViewerAssetsAvailable=new Yh(!1),this.viewersWithVideoCountBeforeCurrent=Zo([this.currentViewerSignal],(e=>{let t=0;if(e)for(let i=0;i<this.viewersList.length;i++){const n=this.viewersList[i];if(n===e)break;n.mediaAd.getIsIndependentOnVideoElement()||t++}return t})).valueSignal,this.showAdCounter=0,this.shouldBlurBeVisibleByApiLogic=new Yh(!0),this.adPodBackground=new Yh(void 0),this.adPodDestroyReasonObjects=[],this.destroyBlur=Y,this.adVideoIsBuffering=new Yh(!1),this.onAdInteractionWrapper=((e,t)=>{let i=0;return()=>{const t=Date.now();t-i>=500&&(e(),i=t)}})((()=>{this.onAdInteraction.dispatch(void 0)})),this.documentVisibility=new Yh(!1),this.currentViewerProductType=new Yh(void 0),this.shouldUseThemeEmptyActionPanel=new Yh(!1),this.styleModulesManager=new mT,this.isSurveyCreative=new Yh(!1),this.isBrandliftSurveyCreative=new Yh(!1),this.isNewSurveyDesignSupported=new Yh(!1),this.isModernInstreamSurvey=new Yh(!1),this.isSurveySuitable=new Yh(!0),this.surveyAdLabelPosition=new Yh(void 0),this.CSPBlockedVideoURISet=new Set,this.prepareSkin=a((()=>{const e=this.skinContainer;e.classList.add(cO.locals.AdDisplayControllerSkinContainer),this.styleModulesManager.useStyleModule(e,uO());const t=us(e);t||this.stats.log({name:"CouldNotCreateSkinShadowRoot",probability:Hu}),this.skinParameters.getRenderSkinFunction((i=>{const{firstRenderPromise:n,runtimeErrorPromise:r,clear:o}=i(null!=t?t:e,this);n.then((()=>{this.stats.log({name:"SkinRendered",sensors:{variant:this.skinVariant}})})).catch((e=>{this.stats.error({error:new Qu(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)})),r.catch((e=>{this.stats.error({error:new Qu(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)})),this.addDestroyHandler((()=>{o(),Re(e)}))}))})),this.openAdSystemWebsite=()=>{const e=this.socialAdvertising.getValue(),t=e?"https://yandex.ru/socialads-transparency-report":Ff("YANDEX_DIRECT_LINK",this.getCurrentLang()),i=!this.getPaused(),n=Date.now();if(this.stats.log({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e},probability:Hu}),i&&this.pause(),null===window.open(t,"_blank"))return;const r=fs(window.document,(o=>{o&&(this.stats.log({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-n,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e},probability:Hu}),r(),i&&this.resume())}));this.addDestroyHandler(r)},this.isYandexCreative=new Yh(void 0),this.isAdFoxDirectSell=new Yh(void 0),this.supportsFullscreen=!1,this.clickThrough=e=>{oa({control:e.clickSource,purpose:"clickThru"});const{clickSource:t}=e,i=this.currentViewerSignal.getValue(),n=this.slotParameters.size.getValue();i?(this.stats.log({name:"AdDisplayControllerClickThrough",data:{clickSource:t,playbackParameters:this.playbackParameters,slotSize:n,showTitleAndBody:String(ml(i.mediaAd.vastAd)),themeEmptyActionPanelSize:SO(n)},probability:Hu}),this.viewerClickThrough(i,e)):this.stats.error({error:new Qu({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{clickSource:t,playbackParameters:this.playbackParameters}})})},this.onSkinSkipButtonClick=()=>{const e=this.timeToSkip.getValue();0===e?this.skipCurrentViewer():this.stats.log({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e},probability:Hu})},this.setEcomShopState=function(e,i){void 0===i&&(i=!1);const n=t.ecomShopState.getValue();if(!fh(c(e),(t=>e[t]!==n[t])))return;const r=_l({},n,e);if(r.isVisible=r.isVisible&&void 0!==r.ecomShop&&r.ecomShop.products.length>0,t.ecomShopState.dispatch(r),!i||t.isPackshotPlaying.getValue())return;const o=t.playingState.getValue();r.isVisible&&"play"===o&&t.pause(),r.isVisible||"pause"!==o||t.play()},this.destroyCurrentViewer=()=>{const e=this.currentViewerSignal.getValue();e&&(e.destroy({reason:"close",details:void 0}),this.closeAbuseScreen(),this.showCreativesContainer())},this.logAbuseEventToStats=e=>{this.stats.log({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:Hu});const t="AbuseVariantChoose_"+e;this.stats.log({name:t,probability:Hu})},this.showCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display=""}catch(cL){this.stats.error({error:new Qu(cL,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.hideCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display="none"}catch(cL){this.stats.error({error:new Qu(cL,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.abuseVariantChooseHandler=(e,t)=>{if(!this.currentViewerSignal.getValue())return void this.stats.error({error:new Qu({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});null!=t&&t.needToHideCreativesContainer&&this.hideCreativesContainer();const{reason:i,action:n}=Hb[e];this.sendAdTuneTracking({actionId:n,reasonId:i,options:t}),this.logAbuseEventToStats(e),(null==t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()},this.onAbuseCopyLinkToClipboardClick=e=>{e?(this.stats.log({name:"AbuseScreenCopiedCountLink",probability:Hu}),Ba(e)):this.stats.error({error:new Qu({code:"ABUSE_COPY_COUNT_LINK_WITHOUT_URL",details:void 0})})},this.getSendBeaconParams=e=>{const t=null==e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})},this.abuseButtonClickHandler=()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),this.stats.log({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:Hu}),this.logAbuseOpenFirstTime(),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseDisplayStatus.dispatch("selection"),this.sendAdTuneTracking({actionId:Vb,reasonId:xb})},this.abuseScreenCloseHandler=()=>{this.stats.log({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:Hu}),this.closeAbuseScreen(),this.sendAdTuneTracking({actionId:Mb,reasonId:Lb})},this.handleAbuseScreenCloseByResumeError=()=>{this.stats.error({error:new Qu({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseDisplayStatus.dispatch("hidden")},this.getCurrentViewerAssets=()=>{const e=this.currentViewerSignal.getValue();if(!e)return void this.stats.log({name:"GetCurrentViewerAssetsCalledWithoutViewer"});const{adParametersObject:t,assets:i,creativeParameters:n,adTune:r,yandexAdInfoExtensionParams:o,nroaInform:a}=e.mediaAd.vastAd,s=null==i?void 0:i.button,l=this.getAdPlacementOptions(),{adFormatType:d}=l,c="survey"===d?"survey":void 0,u=this.getEcomAsAsset(),h={isFullyClickable:cl(d,e.getVideoSlotClickUrl()),adFormatType:c,ecomShop:u,adTune:_t(r)?r:void 0,nroaInform:a},p=_l({},h,{domain:void 0,greenUrl:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,app:void 0,icon:void 0,images:void 0,sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0});if(o){const t=_l({},p,{punyDomain:o.punyDomain,targetUrl:o.targetUrl,clickThrough:Boolean(o.clickUrl)?()=>{this.viewerClickThrough(e,{clickSource:"ApiClickThrough",url:void 0,playerHandles:!0})}:void 0});return this.stats.log({name:"GetCurrentViewerAssetsReturnAssetsFromYandexAdInfoExtension",data:t}),t}const m="external"===d;if(!m&&!Dk(t))return this.stats.log({name:"GetCurrentViewerAssetsReturnedEmpty"}),p;const{abuseUrl:v}=this.abuseParameters.getValue(),g=_l({},h,{domain:null==n?void 0:n.domain,greenUrl:null==n?void 0:n.greenUrl,punyDomain:null==n?void 0:n.punyDomain,title:null==n?void 0:n.title,body:null==n?void 0:n.body,age:null==n?void 0:n.ageRestriction,buttonCaption:null==s?void 0:s.caption,lang:this.getCurrentLang(),targetUrl:we(t),socialAdvertising:this.socialAdvertising.getValue(),app:null==i?void 0:i.app,icon:null==i?void 0:i.icon,images:null==i?void 0:i.images,sendAdTuneTracking:v?e=>{this.stats.log({name:"GetCurrentViewerAssetsAdTuneTracking"}),this.sendAdTuneTracking(e)}:void 0,clickThrough:Boolean(e.adPodViewerPlaybackParams.clickThroughUrl)?()=>{const t={clickSource:"ApiClickThrough",url:void 0,playerHandles:!0};m&&(t.url=e.adPodViewerPlaybackParams.clickThroughUrl),this.viewerClickThrough(e,t)}:void 0,clickThroughButtonAsset:s?()=>{this.viewerClickThrough(e,{clickSource:"ApiClickThroughButtonAsset",url:s.href,playerHandles:!0})}:void 0});return this.stats.log({name:"GetCurrentViewerAssetsReturnAssets",data:g}),g},this.getCurrentVideoMediaFile=()=>{const e=this.currentViewerSignal.getValue();if(e)return e.getPrioritizedVideoMediaFile();this.stats.log({name:"GetCurrentVideoMediaFileCalledWithoutViewer"})},this.canAutoplaySignal=Zo([this.viewersWithVideoCountBeforeCurrent,this.autoplayAbilityResult,this.playingState],((e,t,i)=>{if(e>0)return ah("autoplay=true due to subsequent viewer"),!0;if("restricted"===t.autoplayAbility)return ah("autoplay=false due to requireUserGesture"),!1;if("idle"===i)return ah("autoplay=true due to default"),!0;const n="pause"!==i;return ah("autoplay=["+n+"] due to playingStateValue"),n})).valueSignal,this.subscribeInteractionHandlers=()=>{if(!qu(this.slotParameters.element))return Y;const e=[],t=na(this.videoNode);return $d(nT,(i=>{e.push(Ne({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Ne({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))})),()=>W(e)},this.subscribeFocusChange=()=>{if(!Wm||!qu(this.slotParameters.element))return Y;const e=[];return e.push(Ne({element:this.slotParameters.element,eventName:"focus",listener:e=>{e.stopPropagation(),this.setIsLayoutFocused(!0)}})),e.push(Ne({element:this.slotParameters.element,eventName:"blur",listener:e=>{e.stopPropagation(),this.setIsLayoutFocused(!1)}})),()=>W(e)},this.setIsLayoutFocused=e=>{Wm&&(this.slotParameters.element.setAttribute(IO,String(e)),this.isLayoutFocused.value=e)},this.viewerClickThrough=(e,t)=>{e.userInteractionDispatchers.AdClickThru(t),e.clickThrough(t)},this.saveCurrentInstanceToRegistry=()=>{if(!gu.isDebugEnabled)return;const e=rl(window),{stats:t}=this;if(!e.adDisplayControllerRegistry){const i=new Map,n=new Set;Object.defineProperty(e,"adDisplayControllerRegistry",{get:()=>(L("You are using debug code ad display controller registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdDisplayControllerRegistryGetter"}),n)}),Object.defineProperty(e,"blockRegistry",{get:()=>(L("You are using debug code block registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeBlockRegistryGetter"}),i)});const r=()=>(L("You are using debug code ad display controllers getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdDisplayControllersGetter"}),Array.from(e.adDisplayControllerRegistry.values()));e.getAdDisplayControllers=r;const o=()=>(L("You are using debug code get blocks info, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeGetBlocksInfo"}),Array.from(e.blockRegistry.values()));e.getBlocksInfo=o}const i=e.adDisplayControllerRegistry,n=e.blockRegistry;i.add(this),this.addDestroyHandler(this.adBlockIdentification.add((e=>{if(!Boolean(e)||void 0===e.impId||void 0===e.partnerId)return;const t=e.partnerId+"-"+e.impId;if(n.has(t))return;const i=XI(this);n.set(t,i)}))),this.addDestroyHandler((()=>{i.delete(this)}))},this.stats=h,this.retainLastMediaAfterPlayback=Boolean(u),this.addDestroyHandler((e=>{this.onBeforeDestroy.dispatch(e)})),gu.isDebugEnabled&&this.saveCurrentInstanceToRegistry(),this.backgroundSlot=l,this.visibilitySlotParameters=d,function(e,t){sa(e)&&eT(t),la(e)&&$S(e,t)}(window,this.stats);const p=void 0===r.volume||void 0===r.muted;p&&this.stats.error({error:new Qu({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:m,errors:v}=Qs(i);this.playbackParameters=m,void 0!==this.playbackParameters.skipDelayForNonYandexCreatives&&this.stats.log({name:"UseOfPublicApiSkipDelayForNonYandexCreativesParameter",data:{config:i}}),this.adVolume=new Yh(ll(r)),this.adHasBeenUnmuted=new Yh(this.adVolume.getValue()>0),this.isFakeVideoElementWithoutVolumeChangeSupport=p;const g=new XC(o),A=g.onResize;A.add((e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)})),A.add((()=>{this.isNeedToShowVolumeButtonText()||0!==this.volumeButtonCollapseProgress.getValue()||this.startVolumeButtonProgress()})),this.addDestroyHandler((()=>{g.destroy()}));const _=new Yh(!1);if(this.slotParameters={element:o,document:o.ownerDocument,window:o.ownerDocument.defaultView,size:A,isHovered:_},this.skinParameters=s,this.skinVariant=m.controlsSettings.skinVariant,Wm){const e="true"===this.slotParameters.element.getAttribute(IO);this.isLayoutFocused=ao(e),this.addDestroyHandler(this.subscribeFocusChange())}else this.isLayoutFocused=ao(!1);if(Boolean(this.playbackParameters.requestFullscreenStateChange)){const e=function(e,t){return void 0===e&&(e=window),void 0!==Io(e,t)}(this.slotParameters.window,r);this.stats.log({name:"FullscreenAPISupport",data:{isFullscreenAPISupported:e}}),this.supportsFullscreen=e}this.addDestroyHandler(function(e,t,i){if(void 0===t)return Y;const n=de(t);let r=function(e){if(!Boolean(e))return!1;const{parentElement:t}=e;return!(!t||!f(t.querySelector))&&t.querySelector(":hover")===e}(e),o=!1;r&&i(!0);const a=Ne({element:e,eventName:n?"touchstart":"mouseenter",listener:()=>{if(n)!1===o&&(o=!0);else{if(r)return;r=!0,i(!0)}}}),s=Ne({element:e,eventName:n?"touchend":"mouseleave",listener:()=>{if(n)!0===o&&(o=!1,r=!r,i(r));else{if(!r)return;r=!1,i(!1)}}});return()=>{a(),s()}}(o,this.slotParameters.window,(e=>{_.dispatch(e)}))),this.addDestroyHandler(((e,t)=>{const i=Dn((()=>{Eo(e)||(i(),t())}));return i})(o,(()=>{this.destroy({reason:"error",details:new Qu({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0})})}))),this.videoContentSize=new Yh(void 0,hs);const y=new Yh(lO(this.playingState.getValue(),this.visibilitySlotParameters.visibilityRatio.getValue()));this.addDestroyHandler(Po([this.playingState,this.visibilitySlotParameters.visibilityRatio],lO,(e=>y.dispatch(e)))),this.addDestroyHandler((e=>{let{valueSignal:t,time:i,callback:n,win:r}=e,o=0;const a=()=>{if(f(null==r?void 0:r.clearTimeout))return r.clearTimeout(o)},s=t.add((e=>{e?o=r.setTimeout((()=>{n(),s()}),i):a()}));return()=>{a(),s()}})({valueSignal:y,time:2e3,callback:()=>{0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()},win:this.slotParameters.window})),this.onAdStart.addOne((()=>{this.addDestroyHandler(function(e,t){const i=()=>{const i=No(e);t(i)},n=[];return n.push(Ne({element:e,eventName:"resize",listener:i}),Dn(i)),()=>{W(n)}}(r,(e=>{this.videoContentSize.dispatch(e)}))),this.videoContentSize.dispatch(No(r))})),"videoInCombo"===this.skinVariant&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_ENABLE_IDLE_STATUS_DETECTION")&&this.initUserIdleStatusDetector(),this.adHasBeenUnmuted.addOne((e=>{e&&0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()})),this.volumeStatus.addOne((()=>{this.isNeedToShowVolumeButtonText()&&"mutedStart"===this.volumeStatus.getValue()?this.volumeButtonCollapseProgress.dispatch(0):this.volumeButtonCollapseProgress.dispatch(1)})),this.addDestroyHandler((()=>{g.destroy()})),Ae(v,this.stats),this.videoNode=r,function(e,t){if(gu.VAS_USER_SESSION_RANDOM<=Wu){const i=ul(dO,e);i&&t.log({name:"CodecPlayabilityCheck",data:i,probability:Hu})}}(this.videoNode,this.stats),this.timeToSkip.add((e=>{this.adSkippableState.dispatch(0===e)}));const b=this.adVolume.add((e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),b())}));this.addDestroyHandler(Po([this.adVolume,this.adVolumeAvailability,this.adHasBeenUnmuted],((e,t,i)=>function(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:n}=e;return i?0!==t?"unmuted":n?"muted":"mutedStart":"unknown"}({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i})),(e=>this.volumeStatus.dispatch(e)))),DO++,100===DO&&this.stats.error({error:new Qu({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),this.stats.log({name:"CreateAdDisplayController",data:{config:this.playbackParameters}}),this.desiredBitrate=i.desiredBitrate,this.videoNodeController=new oO(r,this.slotParameters.window),this.onAdEnd.add((()=>this.setVisibleNativeControls(!0))),this.onReady.add((()=>this.setVisibleNativeControls(!1))),this.addDestroyHandler(function(e,t){let i,{controlsSettingsFromConfig:n,isFakeVideoElementWithoutVolumeChangeSupport:r,playingState:o,slotSize:a,skinControlsHideReasons:s,isCreativeWithOwnControls:l,vastAdControlsSettings:d,publicApiControlsVisibility:c,productType:u,isSurveyCreative:h,isBrandliftSurveyCreative:p,isModernInstreamSurvey:m,playerEnvironment:v,adSystemType:g,adTitleParameters:f,isAdFoxDirectSell:A}=e;return Po([o,a,s,l,d,c,u,h,p,m,g,f,A],((e,t,i,o,a,s,l,d,c,u,h,p,m)=>{let{width:g}=t;if("idle"===e||!(g>=140)||o)return{controlsVisibility:wf};const f="boolean"===typeof(null==p?void 0:p.show)?{controlsVisibility:{adLabel:p.show}}:void 0,A={controlsVisibility:Q(i,(e=>!(e.length>0)&&void 0))};return zs(void 0===h?{controlsVisibility:{adLabel:!1}}:void 0,m?void 0:f,a,n,m?f:void 0,{controlsVisibility:s},A,r?{controlsVisibility:{mute:!1}}:void 0,l&&yt(l)?{controlsVisibility:{disclaimers:!1,ageLabel:!1}}:void 0,d&&"multiroll"!==v?{controlsVisibility:{timeline:!1}}:void 0,c&&!u?{controlsVisibility:{skip:!1}}:void 0)}),ui((e=>{i=e,t(i)}),(e=>{for(const n of Ef)if(e.controlsVisibility[n]!==i.controlsVisibility[n])return i=e,void t(i)})))}({controlsSettingsFromConfig:this.playbackParameters.controlsSettings,publicApiControlsVisibility:this.publicApiControlsVisibility,isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,slotSize:this.slotParameters.size,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,productType:this.currentViewerProductType,isSurveyCreative:this.isSurveyCreative,isBrandliftSurveyCreative:this.isBrandliftSurveyCreative,isModernInstreamSurvey:this.isModernInstreamSurvey,playerEnvironment:this.playerEnvironment,adSystemType:this.adSystemType,adTitleParameters:this.adTitleParameters,isAdFoxDirectSell:this.isAdFoxDirectSell},(e=>{this.combinedSkinControlsVisibility.dispatch(e.controlsVisibility)}))),"videoInCombo"!==this.skinVariant&&this.addDestroyHandler(Po([this.playingState,this.abuseDisplayStatus,this.isPackshotPlaying],((e,t,i)=>({playingState:e,abuseDisplayStatus:t,isPackshotPlaying:i})),(e=>{const{isPackshotPlaying:t,playingState:i,abuseDisplayStatus:n}=e;t||this.setEcomShopState({isVisible:"pause"===i&&"hidden"===n})}))),this.onAdPodPlayAdMedia.add((e=>{var t,i,r,o,a,s;let{viewer:l,nextViewer:d}=e;const c=void 0===d?this.playbackParameters.contentAfterAd:mf;$d(c.poster,(e=>{let{url:t}=e;hn(t)}));const{mediaAd:u}=l;this.isCreativeWithOwnControls.dispatch(u.isCreativeWithOwnControls()),this.adSystemType.dispatch(u.getIsYandexCreative()?"yandex":"external"),this.isYandexCreative.dispatch(_h(l.getScriptSrc())),this.contentAfterAdPod.dispatch(c);const h=Ys(u.vastAd);if(this.vastAdControlsSettings.dispatch(h),this.currentVastAd.dispatch(u.vastAd),this.currentVideoMediaFile.dispatch(l.getPrioritizedVideoMediaFile()),Boolean(eh)||"inpage"===l.mediaAd.adBreak.adType||"videoInCombo"===this.skinVariant)l.setMuted(!0);else{const{partnerId:e,impId:t}=XI(this),i={node:this.videoNode,partnerId:e,impId:t,skinVariant:this.skinVariant,skinContainer:this.skinContainer},n=new AO(i);this.addDestroyHandler((()=>{n.destroy(i)}))}const p=Cs(u.vastAd);this.themeEmptyParameters.dispatch(p);const m=xw(A.getValue()),v=vl(u.vastAd)||gO(u.vastAd),g=!m&&!v,f=((e,t)=>{const i=vl(e);if(i)return{url:i,source:"logoAssetX80"};const r=gO(e);if(r)return{url:r,source:"iconUrl"};const o=function(e){const t=Fk(e);if(!n(t))return;const{adParametersObject:i,parsedParameters:r}=t;if(!n(i)||!n(r))return;const{domain:o,punyDomain:a}=r;return null!=a?a:o}(e);return o?{url:"https://favicon.yandex.net/favicon/"+o+"?size="+(t?120:32)+"&stub=2",source:"punyDomain"}:void 0})(u.vastAd,g);if(f){this.favicon.dispatch(f);const e=new Image;l.addDestroyHandler(Ne({element:e,eventName:"load",listener:()=>{clearTimeout(i)}}));const t=e=>{var t;clearTimeout(i),this.stats.log({name:"FaviconIsNotLoaded",data:{reason:null!=(t=null==e?void 0:e.message)?t:"timeout",favicon:f}}),this.favicon.dispatch(void 0)};l.addDestroyHandler(Ne({element:e,eventName:"error",listener:t})),e.src=f.url;const i=setTimeout(t,3e3)}const _=Wm||this.playbackParameters.disableEcom?void 0:u.vastAd.ecomShop,y=Boolean(_)&&("videoInCombo"!==this.skinVariant||!0===this.playbackParameters.enableEcomCta);this.ecomShopState.dispatch({isVisible:!1,ecomShop:_,isCtaEnabled:y,isDomainEnabled:y}),"auto-video-direct"===u.vastAd.productType&&"videoInCombo"!==this.skinVariant&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_DISABLE_SHOW_TITLE_AND_BODY")?this.showTitleAndBody.dispatch(!1):this.showTitleAndBody.dispatch(ml(u.vastAd)),this.bannerFlags.dispatch(u.vastAd.bannerFlags),l.packshotStartLatch.subscribe((()=>{this.isPackshotPlaying.dispatch(!0)})),l.videoInComboNewPackshotVisibility.add((e=>{this.videoInComboNewPackshotVisibility.dispatch(e)})),this.currentViewerProductType.dispatch(u.vastAd.productType),this.isSurveyCreative.dispatch(Zi(u.vastAd));const b=void 0===this.playbackParameters.disableSurveyCompleteScreen&&void 0===this.playbackParameters.disableSurveyStartTimeout;let S;const T=this.isSurveyCreative.getValue()&&b&&(S=Tu.getFlagValueAndActivateTestId("VAS_SURVEY_INSTREAM_MODERN_DESIGN"))&&void 0!==S&&"ctl"!==S,E=T&&(w=A.getValue(),void 0===(C=null==(t=u.vastAd.surveyParameters)||null==(i=t.surveyConfig)||null==(r=i.blockParameters)?void 0:r.blockSizes)&&(C=[]),void 0===P&&(P=OO.INSTREAM),fh(yu(C,(e=>e.block_stream_type===P)),(e=>e.minHeight<=w.height&&e.minWidth<=w.width)));var w,C,P,k,I;this.isModernInstreamSurvey.dispatch(Boolean("fallback_to_old"===S?E&&T:T)),this.isSurveySuitable.dispatch(!T||Boolean(E)),this.isNewSurveyDesignSupported.dispatch(!b),this.isBrandliftSurveyCreative.dispatch(Boolean(null==(o=u.vastAd.surveyParameters)?void 0:o.isBrandLiftSurveyCreative)),this.surveyAdLabelPosition.dispatch(this.playbackParameters.surveyAdLabelPosition),this.adTitleParameters.dispatch(null!=(k=u.vastAd)&&k.adTitleParameters?k.adTitleParameters:null!=k&&null!=(I=k.adParametersObject)&&I.adTitle?gl({},k.adParametersObject.adTitle,{socialAdvertising:k.adParametersObject.socialAdvertising}):void 0),this.adFoxAdTuneParameters.dispatch(u.vastAd.adTune),this.nroaInform.dispatch(u.vastAd.nroaInform),this.initCreativeType(l),this.shouldShowSkipButton.dispatch({shouldShowSkipButton:!this.isSurveyCreative.getValue()}),this.isAdFoxDirectSell.dispatch(rr(u.vastAd)),this.clientInfo.dispatch(r_(u.vastAd)),this.userRegion.dispatch(null==(a=u.vastAd)||null==(s=a.adParametersObject)?void 0:s.userRegion)})),this.onAdMediaEnd.add((()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.contentAfterAdPod.dispatch(vf),this.vastAdControlsSettings.dispatch(void 0),this.showTitleAndBody.dispatch(void 0),this.isPackshotPlaying.dispatch(!1),this.videoInComboNewPackshotVisibility.dispatch(void 0),this.adVideoIsBuffering.dispatch(!1),this.isSurveyCreative.dispatch(!1),this.isBrandliftSurveyCreative.dispatch(!1),this.surveyAdLabelPosition.dispatch(void 0),this.isNewSurveyDesignSupported.dispatch(!1),this.isModernInstreamSurvey.dispatch(!1),this.adTitleParameters.dispatch(void 0),this.adFoxAdTuneParameters.dispatch(void 0),this.nroaInform.dispatch(void 0),this.shouldShowSkipButton.dispatch({shouldShowSkipButton:!1}),this.isAdFoxDirectSell.dispatch(void 0),this.userRegion.dispatch(void 0)})),this.onAdPodStartRequest.add((e=>{const{mediaAd:t}=e,{vastAd:i}=t;this.socialAdvertising.dispatch(function(e){var t,i,n;return"undefined"!==typeof(null==(t=e.adTitleParameters)?void 0:t.socialAdvertising)?!0===e.adTitleParameters.socialAdvertising:!0===(null==(i=e.adParametersObject)?void 0:i.socialAdvertising)||!(null==(n=e.bannerFlags)||!n.socialAdvertising)}(i));const{abuseUrl:n}=i;this.abuseParameters.dispatch({abuseUrl:n,legalText:i.legalText}),this.logMissingLegalInfo(t)})),this.onBeforeAdStart.add((()=>{this.slotParameters.element.appendChild(this.creativesLayoutContainer),this.slotParameters.element.appendChild(this.skinContainer),this.addDestroyHandler((()=>{Re(this.creativesLayoutContainer),Re(this.skinContainer)}))})),this.onBeforeAdStart.addOne((()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(ah("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout((()=>{const t=Date.now()-e;ah("mark slow start, actual passed time=["+t+"]ms"),this.stats.log({name:"AdSlowStart",data:{actualTime:t}}),this.adSlowStart.dispatch(!0)}),1e3),this.onAdStart.addOne((()=>{i()})),this.addDestroyHandler((()=>{i()})),this.autoplayAbilityResult.add((e=>{let{autoplayAbility:t}=e;"restricted"===t&&this.onAdStartRejected.dispatch(void 0),"muted"===t&&this.videoNodeController.setMuted(!0)}))})),this.onAdMediaStart.add((e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)})),this.onAdMediaEnd.add((()=>{this.adPodBackground.dispatch(void 0)})),this.addDestroyHandler((e=>{this.isFinished=!0,this.playingState.dispatch("end"),$d(this.viewersList,((t,i)=>{if("unload"===e.reason)return void t.destroy({reason:"unload",details:void 0});const n=this.adPodDestroyReasonObjects[i];void 0===n?t.destroy({reason:"destroy",details:void 0}):t.destroy(n)})),this.viewersList.length=0,this.setIsLayoutFocused(!1),this.adBlockIdentification.removeAll(),this.adVolume.removeAll(),this.volumeButtonCollapseProgress.removeAll(),this.volumeStatus.removeAll(),y.removeAll(),this.slotParameters.size.removeAll(),this.visibilitySlotParameters.visibilityRatio.removeAll(),this.visibilitySlotParameters.size.removeAll(),this.videoContentSize.removeAll(),this.timeToSkip.removeAll(),this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.adHasBeenUnmuted.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll(),this.adTitleParameters.removeAll(),this.adFoxAdTuneParameters.removeAll(),this.adVolume.removeAll(),this.currentVideoMediaFile.removeAll(),this.autoplayAbilityResult.removeAll();const t=this.currentViewerSignal.getValue();if(t){if(t.isCreativeStartRequested.getValue()){const e=t.mediaAd.adBreak.adType;this.onAdMediaEnd.dispatch({adType:e})}t.destroy({reason:"destroy",details:void 0}),this.currentViewerSignal.dispatch(void 0)}this.videoNodeController.destroy(),Re(this.nativeControlsHideStyle)})),this.addDestroyHandler(Po([this.vastAdControlsSettings,this.abuseParameters,this.abuseDisplayStatus],dl,(e=>this.adPodCloseState.dispatch(e)))),this.adPodCloseState.add((e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})})),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t}=e;this.subtitlesState.dispatch(void 0);const i=MI(t.mediaAd.vastAd);i&&(this.subtitlesState.dispatch({isPossible:!0,isAllowed:!1,isVisible:!0,rawCues:i,videoNode:this.videoNode,absoluteBottom:this.playbackParameters.subtitlesAbsoluteBottom,allow:e=>{const t=this.subtitlesState.getValue();t&&e!==t.isAllowed&&this.subtitlesState.dispatch(_l({},t,{isAllowed:e}))},toggle:e=>{const t=this.subtitlesState.getValue();if(!t)return;const i="boolean"===typeof e?e:!t.isVisible;i!==t.isVisible&&this.subtitlesState.dispatch(_l({},t,{isVisible:i}))}}),t.addDestroyHandler((()=>{this.subtitlesState.dispatch(void 0)})))}));const{skinContainer:S,creativesLayoutContainer:T}=this.prepareContainersToAppend();this.skinContainer=S,this.creativesLayoutContainer=T,this.prepareSkin(),this.addDestroyHandler(ol((()=>{this.destroy({reason:"unload",details:void 0})}),iu)),this.addDestroyHandler((()=>{this.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained.dispatch(this.isLastAdPodRetainedMedia())})),this.addDestroyHandler((e=>{this.onDestroy_PUBLIC_DO_NOT_USE.dispatch(e),this.onDestroy_PUBLIC_DO_NOT_USE.removeAll()})),this.isFullscreen.dispatch(Do(window,r)),this.addDestroyHandler(((e,t)=>{if(JI.has(t)){const i=JI.get(t);null==i||i.tasks.push(e)}else{const i=()=>{const e=JI.get(t);e&&(W(e.tasks),e.timeoutId=window.setTimeout(i,t))};JI.set(t,{timeoutId:window.setTimeout(i,t),tasks:[e]})}return()=>{const i=JI.get(t);if(!i)return;const{timeoutId:n,tasks:r}=i,o=r.indexOf(e);-1!==o&&r.splice(o,1),0===r.length&&(window.clearTimeout(n),JI.delete(t))}})((()=>{const e=Do(window,r);this.isFullscreen.dispatch(e)}),1e3)),this.watchDocumentVisibility(),this.onAdPodStartRequest.add((e=>{const t=e.getVideoSlotClickUrl();this.videoSlotClickUrl.dispatch(t)})),this.addDestroyHandler((()=>{this.videoSlotClickUrl.dispatch(void 0)})),this.initAdSequence(),this.currentViewerSignal.add((e=>{const t=Boolean(e);this.onCurrentViewerAssetsAvailable.dispatch(t)})),gu.VAS_USER_SESSION_RANDOM>ju&&Yt(N("https://mc.yandex.ru/watch/39370120",{[Up]:fu})),this.addDestroyHandler(Po([this.currentViewerProductType,this.themeEmptyParameters],((e,t)=>!EC(t)&&(!0===this.playbackParameters.enableThemeEmptyActionPanel||"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_LONG_EXP_FLAG_FORCE_USE_NEW_THEME_EMPTY")||"videoInCombo"!==this.skinVariant&&("auto-video-direct"===e&&"TRUE"!==Tu.getFlagValueAndActivateTestId("VAS_LONG_EXP_FLAG_SHOULD_NOT_USE_NEW_THEME_EMPTY")||"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_LONG_EXP_FLAG_SHOULD_USE_NEW_THEME_EMPTY_ONLY_INSTREAM")))),(e=>this.shouldUseThemeEmptyActionPanel.dispatch(e))))}prepareContainersToAppend(){return{skinContainer:this.slotParameters.document.createElement("div"),creativesLayoutContainer:this.slotParameters.document.createElement("div")}}async prepareToPlayAd(e){const t=this.onReady.promise(),i=this.onAdEnd.promise();this.pause(),this.showAd(e),await Promise.race([t,i.then((()=>{throw new Qu({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})}))])}showAd(e){var t;const i=Date.now(),n=na(this.videoNode)?Eo(this.videoNode):void 0;if(!1===n){const e=this.slotParameters.element,t=qu(e)?Eo(e):void 0;return this.stats.error({error:new Qu({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:n,wrapperInDom:t}})}),Promise.resolve()}if(!e.length)return this.stats.error({error:new Qu({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.playbackParameters}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&this.stats.log({name:"CallShowAdMultipleTimes"});const{adBreak:r,adConfig:o}=e[0];return this.adBlockIdentification.dispatch({partnerId:o.partnerId,impId:null!=(t=o.impId)?t:r.impId,adType:r.adType}),this.isFinished=!1,new Promise(((t,n)=>{this.viewersList=sh(e,((t,i)=>{let n;t.vastAd.trackingEvents=Mt(t.vastAd.trackingEvents,this.playbackParameters.trackingEvents);const r=t.getJSMediaFile();n=!!r&&_h(r.url);const o={adDisplayController:this,mediaAd:t,adPodViewerPlaybackParams:qs({playbackParameters:this.playbackParameters,vastAd:t.vastAd,adBreakType:t.adBreak.adType,isYandexAdCreative:n,stats:this.stats}),enableInfinityPackshot:!0===this.playbackParameters.enableInfinityPackshot&&i===e.length-1,stats:this.stats,ecomShopState:this.ecomShopState},a=new gI(o);return a.adVideoIsBuffering.add((e=>this.adVideoIsBuffering.dispatch(e))),a.onImpression.add(this.onAdPodImpression),a.onFirstQuartile.add(this.onAdPodFirstQuartile),a.onMidpoint.add(this.onAdPodMidpoint),a.onThirdQuartile.add(this.onAdPodThirdQuartile),a.onAdInteraction.add(this.onAdInteractionWrapper),a})),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:r.adType}),this.onAdPodStart.addOne((()=>{this.stats.log({name:"AdStarted",data:{config:this.playbackParameters},values:{startTime:Date.now()-i}})})),this.startAdPlayback(r.adType).then((()=>t())).catch((e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:r.adType}),n(e)})),this.addDestroyHandler(this.subscribeInteractionHandlers())})).catch((e=>{an(e),this.stats.errorToStats(e)})).then((()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:r.adType}),this.destroyBlur()}))}getAdPlacementOptions(){const{videoNode:e,currentViewerSignal:t}=this,i=t.getValue();let n;i&&(n=i.mediaAd.getAdPodId());let r,o,a,s=0;return i&&(s=i.getBufferingTime()),i&&(r=i.mediaAd.adBreak.adType),i&&(o=ps(i.mediaAd)),i&&(a=i.mediaAd.vastAd.productType),xo({win:this.slotParameters.window,slotSize:this.slotParameters.size.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),adPodId:n,videoNode:e,bufferingTime:s,adBreakType:r,adFormatType:o,productType:a})}setMuted(e){const t=this.currentViewerSignal.getValue();t?t.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var n;void 0===i&&(i="normal"),null==(n=this.currentViewerSignal.getValue())||n.resizeAd(e,t,i)}async play(){const e=this.currentViewerSignal.getValue();return e?(e.startCreative({startStrategy:this.canAutoplaySignal.getValue()?"startPlaying":"warmupOnly"}),new Promise(((t,i)=>{e.addDestroyHandler((e=>{const n=Xs(e);n?i(n):t()}))}))):Promise.reject(new Error("VAS Error: play request without AdMedia"))}pause(){const e=this.currentViewerSignal.getValue();e?e.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){const e=this.currentViewerSignal.getValue();e?e.resume():this.isFinished||this.playingState.dispatch("play")}destroyCurrentViewerIfNeeded(e){var t;null==(t=this.currentViewerSignal.getValue())||t.destroy({reason:e,details:void 0})}close(){this.destroyNextViewers("close"),this.destroyCurrentViewerIfNeeded("close")}skipAllViewers(){this.destroyNextViewers("skip"),this.skipCurrentViewer(),this.destroyCurrentViewerIfNeeded("skip")}skipCurrentViewer(){const e=this.currentViewerSignal.getValue();if(!e)return this.stop(),void this.stats.error({error:new Qu({code:"NO_AD_POD_TO_SKIP",details:void 0})});if(e.isDestroyed)this.stats.error({error:new Qu({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_DESTROY",details:void 0})});else if(e.isStarted.getValue()){if(!this.isFinished)return e.getAdSkippableState()?void e.skipAd():((this.getCurrentViewerSkipDelay()||this.timeToSkip.getValue()>0)&&this.stats.error({error:new Qu({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})}),void this.stats.error({error:new Qu({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD_POD",details:void 0})}));this.stats.error({error:new Qu({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_FINISH",details:void 0})})}else this.stats.error({error:new Qu({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_START",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:n}=e;const{abuseUrl:r}=this.abuseParameters.getValue();r||this.stats.error({error:new Qu({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})}),vs({eventName:"close",trackingEventDetails:{},trackingUrls:[N(r,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(n),pixelsSource:"adParameters",method:i===Bb.anotherReasonAd.reason?"POST":"GET"})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!=(e=null==(t=this.currentViewerSignal.getValue())?void 0:t.getAdWidth())?e:0}getAdHeight(){var e,t;return null!=(e=null==(t=this.currentViewerSignal.getValue())?void 0:t.getAdHeight())?e:0}getCurrentContentType(){var e;return null==(e=this.currentViewerSignal.getValue())?void 0:e.contentType}getCurrentViewerSkipDelay(){var e;return null==(e=this.currentViewerSignal.getValue())?void 0:e.adPodViewerPlaybackParams.skipDelay}triggerClickThroughTrackings(e){let{url:t,clickSource:i}=e;this.clickThrough({url:t,clickSource:i,playerHandles:!1})}usesVideoNode(){const e=this.currentViewerSignal.getValue();if(e)return!e.mediaAd.getIsIndependentOnVideoElement()}requestFullscreenStateChange(e){var t,i;null==(t=(i=this.playbackParameters).requestFullscreenStateChange)||t.call(i,e)}getAdRemainingTime(){if(this.isFinished)return 0;const e=this.currentViewerSignal.getValue();if(e){let t=e.getAdRemainingTime();for(let e=this.getCurrentViewerIndex()+1;e<this.viewersList.length;e++)t+=this.viewersList[e].mediaAd.getDuration();return t}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;const t=this.currentViewerSignal.getValue();if(t)return t.getAdRemainingTime();const[i]=this.viewersList;return null!=(e=null==i?void 0:i.mediaAd.getDuration())?e:0}getCurrentTime(){const e=this.currentViewerSignal.getValue();return e?this.getCurrentViewerStartTime()+e.getCurrentTime():0}getAdPodDuration(){const e=this.currentViewerSignal.getValue();if(e){const t=e.getDuration();if(t>0)return t}return 0}getDuration(){let e=0;return $d(this.viewersList,(t=>{const i=t.getDuration();i>0&&(e+=i)})),e}getPaused(){const e=this.currentViewerSignal.getValue();return e?"play"!==e.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const t=this.currentViewerSignal.getValue();t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const e=this.currentViewerSignal.getValue();return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}getAdSubtitlesAvailability(){var e,t;return null!=(e=null==(t=this.subtitlesState.getValue())?void 0:t.isAllowed)?e:BI}setAdSubtitlesVisibility(e){var t;null==(t=this.subtitlesState.getValue())||t.toggle(e)}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){const e=this.currentViewerSignal.getValue();return e?Math.max(this.viewersList.indexOf(e),0):0}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(((e,t,i,n)=>{const r=e[t];let o=r;return i?o=yu(r,(e=>e!==n)):i||R(r,n)||(o=[...r],o.push(n)),hl({},e,{[t]:o})})(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!n(e)&&!1!==e&&void 0!==e){const t=new Qu({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw this.stats.error({error:t}),L("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsVisibility.getValue();let i;i=n(e)?zs({controlsVisibility:t},{controlsVisibility:e}).controlsVisibility:!1===e?wf:{},this.stats.log({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i}}),ah("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsVisibility.dispatch(i)}areAllAdPodsCompleted(){return IA(this.adPodDestroyReasonObjects,(e=>{let{reason:t}=e;return"complete"===t}))}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&!!this.retainLastMediaAfterPlayback&&"complete"===e.reason&&e.details.canUseMediaAfterPlayback}getEcomAsAsset(){const e=this.ecomShopState.getValue();if(void 0===e.ecomShop)return;const t={ecomShopState:e,setEcomShopState:e=>{"boolean"===typeof e.isVisible&&this.ecomShopState.getValue().isVisible!==e.isVisible&&this.stats.log({name:"EcomProductsVisibilityChangedWithAssetsApi",data:{isVisible:e.isVisible}}),this.setEcomShopState(e,!0)},onEcomShopStateChange:Y};return this.addDestroyHandler(this.ecomShopState.add((e=>{t.onEcomShopStateChange(e)}))),t}getCurrentLang(){var e;return Uf(this.playbackParameters,null==(e=this.currentVastAd.getValue())?void 0:e.serializablePlaybackParameters)}getCurrentBannerLang(){var e;const t=Hf(this.playbackParameters,null==(e=this.currentVastAd.getValue())?void 0:e.serializablePlaybackParameters);return null!=t?t:this.getCurrentLang()}setVisibleNativeControls(e){e?Re(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=ma(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle))}closeAbuseScreen(){var e;this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==(null==(e=this.adBlockIdentification.getValue())?void 0:e.adType)&&this.resume(),this.abuseDisplayStatus.dispatch("hidden")}trackError(e){var t;null==(t=this.currentViewerSignal.getValue())||t.trackError(e)}initBackgroundColor(e){let t=Y;this.addDestroyHandler((()=>t())),this.addDestroyHandler(this.adPodBackground.add((i=>{n(i)&&m(i.color)?t=bo(e,{backgroundColor:i.color}):t()})))}initBackground(e){let{backgroundSlot:t}=this.playbackParameters;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!na(e))return;const{parentElement:t}=e;if(t)return t;Ih.error({error:new Qu({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void ah("BackgroundBlur container cannot be created");if(this.initBackgroundColor(t),!fh(e,(e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background})))return;if(ah("BackgroundBlur is presented in AdBreak"),!HI)return void ah("BackgroundBlur is NOT supported");const n=new GI({container:t,videoNode:this.videoNode,input:"AdDisplayController",stats:this.stats});this.destroyBlur=()=>{n.destroy()},this.stats.log({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i}}),this.addDestroyHandler(Po([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],((e,t,n,r)=>{if(!e)return!1;if(void 0===n)return!1;if("blur"!==t)return!1;if(i)return!0;const o=r.width/r.height,a=n.width/n.height-o;return Math.abs(a)>.1}),(e=>{n.setPlaying(e)}))),this.addDestroyHandler((()=>null==n?void 0:n.destroy()))}playAdMedia(e){let{adType:t,viewer:i,viewerIndex:n,nextViewer:r,completeCallback:o}=e;this.currentViewerSignal.dispatch(i),this.onAdPodStartRequest.dispatch(i),i.trackOnCreativeInit();let a=NaN;i.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{a=Date.now()})),this.adContentSize.dispatch(i.mediaAd.getAdContentDimensions()),i.isStarted.addOne((()=>{this.adContentSize.dispatch(i.getAdContentSize())})),i.addDestroyHandler((()=>{this.adContentSize.dispatch(void 0)}));const s=i.mediaAd,l=s.vastAd.productType;if("videoInCombo"!==this.skinVariant&&"direct"!==l){var d;const e=null==(d=s.vastAd)?void 0:d.adParametersObject,t=null==s?void 0:s.adConfig,n=parseFloat(Tu.getFlagValueAndActivateTestId("AD_VISIBILITY_LOGGER_PERCENT_VAS")||"")||0;if(0!==n&&function(e,t){return void 0===t&&(t=Math.random()),t<function(e){return Number((e/100).toFixed(kO))}(e)}(n)){var c,u,h,p,m,v,g,f,A;const n=new PO({params:{instream:"1",bannerId:(null==e||null==(c=e.adParameters)||null==(u=c.AUCTION_DC_PARAMS)||null==(h=u.data_params)||null==(p=h.misc)?void 0:p.object_id)||(null==e||null==(m=e.AUCTION_DC_PARAMS)||null==(v=m.data_params)||null==(g=v.misc)?void 0:g.object_id),sequenceIndex:(null==(f=this.displayAdSequence.getValue())?void 0:f.index)||0,impId:(null==t?void 0:t.impId)||(null==s||null==(A=s.adBreak)?void 0:A.impId)||void 0,pageId:(null==t?void 0:t.partnerId)||void 0,productType:l||void 0},adElement:this.slotParameters.element});i.addDestroyHandler((()=>{n.destroy()}))}}i.isStarted.add((()=>{if(isNaN(a))this.stats.error({error:new Qu({code:"AD_POD_START_WITHOUT_PLAY_REQUEST",details:void 0})});else{var e,t;const n=void 0!==i.mediaAd.vastAd.ecomShop;this.stats.log({name:"AdPodStart",values:{startTime:Date.now()-a},data:{src:i.getScriptSrc(),config:this.playbackParameters,playRequestTime:String(a),adPodId:i.mediaAd.getAdPodId(),position:i.mediaAd.vastAd.parseIndex,bidreqid:i.mediaAd.vastAd.bidreqid,campaignid:i.mediaAd.vastAd.campaignid,pageId:i.mediaAd.vastAd.pageId,impId:i.mediaAd.vastAd.impId,vmapRequestId:i.mediaAd.vastAd.vmapRequestId},sensors:{showTitleAndBody:String(ml(i.mediaAd.vastAd)),hasEcomProducts:n},dailySensors:{faviconSource:null!=(e=null==(t=this.favicon.getValue())?void 0:t.source)?e:"noFavicon",hasEcomProducts:n,hasSubtitles:Boolean(MI(i.mediaAd.vastAd))}})}})),this.onAdPodPlayAdMedia.dispatch({adType:t,viewer:i,viewerIndex:n,nextViewer:r});const _=i.playingState.getValue();"idle"!==_&&this.stats.error({error:new Qu({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:_}})}),i.playingState.subscribeValueCondition((e=>"end"!==e),(e=>{this.currentViewerSignal.getValue()===i?this.playingState.dispatch(e):this.stats.error({error:new Qu({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:e}})})})),i.addDestroyHandler((e=>{const n=Xs(e);n&&(this.trackError(n),this.stats.error({error:n}),an("AdPod playing error",n),this.onAdPodError.dispatch({error:n,adPodId:i.mediaAd.getAdPodId()})),this.currentViewerSignal.dispatch(void 0),this.adPodDestroyReasonObjects.push(e),this.onAdMediaEnd.dispatch({adType:t}),o()})),i.startCreative({startStrategy:this.canAutoplaySignal.getValue()?"startPlaying":"warmupOnly"})}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this;if(na(t)){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),n={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},r=ZI(e),{parentElement:o}=e;return a((()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),r(),Le(e,n),o&&o!==e.parentElement&&Ih.error({error:new Qu({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})}))}(t);this.onBeforeDestroy.addOne((t=>{let{reason:i}=t;"unload"!==i&&e()}));const i=function(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")||function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===qI.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?Y:tl(e,{pip:"false"}):Y}(t);this.onBeforeDestroy.addOne(i);const n=function(e){if(!na(e))return Y;const t=e.getAttribute("src")||e.src||null,i=sh(z(e.getElementsByTagName("source")),(e=>({src:e.getAttribute("src"),type:e.getAttribute("type")})));return a((()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),$d(i,(t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),b(t,((e,t)=>{null!==e&&i.setAttribute(t,String(e))}))})),al(e,(()=>{e.load()}))}))}(t);this.onBeforeDestroy.addOne((e=>{let{reason:t}=e;this.isLastAdPodRetainedMedia()||"unload"!==t&&n()})),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add((()=>{ZI(t)})))}const n=Date.now();let r,o;const s=this.checkAutoplayAbility();if(this.videoNode,s?(r="sync",o=s):(r="async",o=await this.requestAutoplayAbility()),this.isFinished)throw new Qu({code:"AD_FINISHED_DURING_RAA",details:void 0});this.stats.log({name:"RequestAutoplayAbility",values:{duration:Date.now()-n},sensors:{strategy:r,method:o.detectionMethod,result:o.autoplayAbility},data:{config:this.playbackParameters,autoplayAbility:o,saveData:v((()=>{var e;return null==(e=navigator.connection)?void 0:e.saveData}))}}),this.autoplayAbilityResult.dispatch(o);const l=a((()=>{this.onReady.dispatch(void 0)})),d=a((()=>{this.onAdStart.dispatch({adType:e})}));return $d(this.viewersList,((t,n)=>{t.onComplete.addOne((t=>{let{isInfinityPackshotEnabled:i,isLoopVideoEnabled:n}=t;this.onAdPodComplete.dispatch({adType:e}),(i||n)&&this.onAdMediaEnd.dispatch({adType:e})})),t.addDestroyHandler((t=>{let{reason:i}=t;"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)})),t.onReady.addOne(l),t.isStarted.addOne(d),t.isStarted.add((()=>{this.onAdPodStart.dispatch(void 0)})),t.onPause.add((()=>{this.onAdPodPause.dispatch(void 0)})),t.onResume.add((()=>{this.onAdPodResume.dispatch(void 0)})),t.onVolumeChange.add((()=>{this.adVolume.dispatch(t.getVolume())})),t.isStarted.addOne((()=>{this.adVolume.dispatch(t.getVolume())}));const{skipDelay:r}=t.adPodViewerPlaybackParams;var o;t.isStarted.addOne((()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration()),this.updateTimeToSkip(t,r,n)})),t.addDestroyHandler(function(e){let{win:t,adPodDuration:n,adPodRemainingTime:r,playingState:o,isStarted:a,isBuffering:s,callback:l}=e;const d=new XS,c=new Yh(-1);return d.subscribe((()=>c.removeAll)),a.addOne((()=>{const e=new WT({win:t,duration:n.getValue()*L_,callback:e=>{const t=Gn(e,0,1);l(t)},onFinish:Y});c.add((t=>{Jt(t)&&e.adjustPosition(t)})),d.subscribe((()=>{e.stop()})),d.subscribe(Po([r,n],((e,t)=>Jt(e)&&i(t)?(t-e)/t:-1),(e=>{c.dispatch(e)}))),d.subscribe(Po([c,o,s],((e,t,i)=>Jt(e)&&"play"===t&&!i),(t=>{t?e.start():e.stop()})))})),()=>{d.dispatch(void 0)}}({win:this.slotParameters.window,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.value=e}})),t.isStarted.add((()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add((()=>{this.isPackshotPlaying.getValue()||this.adMediaState.dispatch({name:"stalled"})}))),t.addDestroyHandler(this.videoNodeController.playingState.add((e=>{"play"===e&&this.adMediaState.dispatch({name:"playing"})})))})),t.addDestroyHandler((()=>{this.adMediaState.dispatch({name:"idle"})})),t.addDestroyHandler((()=>{this.adPodRemainingTime.dispatch(-2),this.skinAnimationProgress.value=0})),t.playbackPosition.add((e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)})),t.onClickThrough.add((e=>this.onClickThrough.dispatch(e))),!(o=t).isVpaidAdPodViewer()||o.mediaAd.vastAd.imhoParams||o.mediaAd.getIsYandexCreative()||Ji(o.mediaAd.vastAd)?t.isStarted.addOne((()=>{t.playbackPosition.add((()=>{this.updateTimeToSkip(t,r,n)}))})):t.onAdSkippableStateChange.add((e=>{this.timeToSkipComputed.dispatch(e?0:fE)}))})),new Promise((t=>{this.playAdViewers(e,(()=>{t([])}))}))}playAdViewers(e,t){this.adPodDestroyReasonObjects=[];const i=sh(this.viewersList,((t,i)=>{const n=this.viewersList[i+1];return r=>{if(this.timeToSkipComputed.dispatch(fE),this.timeToSkipAdCreative.dispatch(void 0),this.isFinished){const e=new Qu({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),r()}this.addDestroyHandler(Ne({element:window,eventName:"securitypolicyviolation",listener:e=>{let{violatedDirective:i,blockedURI:n}=e;const r="media-src"===i,o=t.isVpaidAdPodViewer(),a="external"===this.adSystemType.getValue(),s=0===this.videoNodeController.currentPosition.getValue().currentTime;if(r&&o&&a&&s&&!this.CSPBlockedVideoURISet.has(n)&&"TRUE"===Tu.getFlagValueAndActivateTestId("SHOULD_DESTROY_VIEWER_ON_REJECT_LOADING_EXTERNAL_VPAID_MEDIA_FILE")){const e=new Qu({code:"EXTERNAL_VPAID_MEDIA_FILE_WAS_BLOCKED_BY_CSP",details:{blockedURI:n}});t.mediaAd.trackError(e),t.destroy({reason:"error",details:e}),this.onAdPodError.dispatch({error:e,adPodId:t.mediaAd.getAdPodId()}),this.CSPBlockedVideoURISet.add(n)}}}));const o=this.getAdPodContainerSizeError(t,this.playbackParameters.ignoreLayoutSlotSizesCheck);if(o)return t.mediaAd.trackError(o),this.onAdPodError.dispatch({error:o,adPodId:t.mediaAd.getAdPodId()}),this.adPodDestroyReasonObjects.push({reason:"error",details:o}),L('You are using unplayable "slot" sizes, check passed element dimensions.'),r();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(js(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia({adType:e,viewer:t,viewerIndex:i,nextViewer:n,completeCallback:r})}}));let n=-1;!function e(){n++;const r=i[n];void 0===r?t():r(e)}()}getAdPodContainerSizeError(e,t){if(!e.mediaAd.getIsYandexCreative())return;const{size:i,element:n}=this.visibilitySlotParameters,{size:r,element:o}=this.slotParameters,a=i.getValue(),s=r.getValue(),l=ko(a,cS),d=!!t||ko(s,cS);if(l&&d)return;const c=n.getBoundingClientRect(),u=o.getBoundingClientRect();if(ko(c,cS)&&(t||ko(u,cS)))return;const h=u.width<.1||u.height<.1,p=c.width<.1||c.height<.1||h,m="none"===se(n).display,v="none"===se(o).display;let g;g=p?m||v?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE";const f=e.mediaAd.getAdContentDimensions();return new Qu({code:g,details:{adPodId:e.mediaAd.getAdPodId(),visibilitySlotSize:{width:c.width,height:c.height},layoutSlotSize:{width:u.width,height:u.height},adContentDimensions:f,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}checkAutoplayAbility(){if(IA(this.viewersList,(e=>e.mediaAd.getIsIndependentOnVideoElement())))return ah("autoplayAbility=positive for independentOnVideoElement ad"),{autoplayAbility:"allowed",detectionMethod:"IndependentOnVideo"};const{videoSlotCanAutoPlay:e}=this.playbackParameters;if("boolean"===typeof e)return ah("autoplayAbility=["+e+"] due to videoSlotCanAutoPlay"),e?{autoplayAbility:"allowed",detectionMethod:"PositiveVideoSlotCanAutoplay"}:{autoplayAbility:"restricted",detectionMethod:"NegativeVideoSlotCanAutoplay"};var t;!de(this.slotParameters.window)||f(null==(t=this.videoNode)?void 0:t.hasAttribute)&&t.hasAttribute("playsinline")||(this.stats.log({name:"NoPlaysinlineOnVideoTagInTouchScreenDeviceForRAA"}),L('Attribute "playsinline" is NOT set on the <video/> element, this may cause the inability to autoplay'));const i=function(e){if(!na(e))return{autoplayAbility:"allowed",detectionMethod:"FakeVideoElement"};const t=function(e){const{ownerDocument:t}=e;if(!Boolean(t))return;const{defaultView:i}=t;return i||void 0}(e);if(!t)return{autoplayAbility:"allowed",detectionMethod:"NoWinForVideoElement"};const i=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!n(i))return;const{isActive:r,hasBeenActive:o}=i;return{isActive:r,hasBeenActive:o}}(t);if(i&&i.hasBeenActive)return{autoplayAbility:"allowed",detectionMethod:"WindowHasBeenActive"};if("boolean"===typeof e.allowedToPlay)return{autoplayAbility:pl(e),detectionMethod:"YaBroAllowedToPlay"};if(Um(t))return{autoplayAbility:"allowed",detectionMethod:"WebOSSmartTV"};if((e=>{const t=Mn(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1})(t))return{autoplayAbility:"allowed",detectionMethod:"OrsaySmartTV"};if((e=>{const t=Mn(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1})(t))return{autoplayAbility:"allowed",detectionMethod:"PlayStationSmartTV"};if(e.isAVPlay)return{autoplayAbility:"allowed",detectionMethod:"TizenAVPlay"};if((e=>Mn(e).toLowerCase().indexOf("tizen")>-1)(t))return(e=>{const t=function(e){const t=Mn(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,n]=t;return{major:parseInt(i,10),minor:parseInt(n,10)}}(e);return 2===t.major&&3===t.minor})(t)?{autoplayAbility:"restricted",detectionMethod:"Tizen23SmartTV"}:{autoplayAbility:"allowed",detectionMethod:"TizenSmartTVModern"};const r=el(t);return-1!==r&&r<=9?{autoplayAbility:"restricted",detectionMethod:"IOS9OrLess"}:void 0}(this.videoNode);return i?(ah("autoplayAbility=["+i.autoplayAbility+"] by sync detect method=["+i.detectionMethod+"]"),i):void 0}requestAutoplayAbility(){ah("start autoplay ability request");const e=Date.now(),{promise:t,stop:i}=function(e,t){const i=new vO(e,t);return{promise:i.promise,stop:i.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});this.addDestroyHandler(i);let n=!1;return new Promise((r=>{t.then((e=>{n=!0,ah("autoplayAbility=["+JSON.stringify(e)+"]"),r(e)})).catch((()=>{n=!0})),"idle"===this.playingState.getValue()&&this.playingState.addOne((t=>{n||(this.stats.log({name:"RequestAutoplayAbilityStoppedByPlayingState",values:{duration:Date.now()-e},data:{config:this.playbackParameters,nextState:t}}),ah("RAA stopped by playingState=["+t+"]"),i(),r({autoplayAbility:"allowed",detectionMethod:"ExternalMethodCall",detectionDetails:{nextState:t}}))}))}))}destroyNextViewers(e){const{viewersList:t}=this;if(this.currentViewerSignal.getValue())for(let i=this.getCurrentViewerIndex()+1;i<t.length;i++)t[i].trackVastEvent(e,{});this.stop()}startVolumeButtonProgress(){(e=>{let{win:t,callback:i,addDestroyHandler:n}=e;const r=new WT({win:t,duration:250,callback:e=>{const t=Gn(e,0,1);i(t),1===t&&r.stop()},onFinish:Y});n((()=>r.stop())),r.start()})({win:this.slotParameters.window,callback:e=>{this.volumeButtonCollapseProgress.dispatch(e)},addDestroyHandler:e=>this.addDestroyHandler(e)})}isNeedToShowVolumeButtonText(){return"small"!==Ya(this.slotParameters.size.getValue())}updateTimeToSkip(e,t,i){const n=function(e){let{remainingTime:t,duration:i,skipDelay:n}=e;if(0===n)return fE;if(n>i-2)return fE;if(!Jt(t))return fE;const r=i-t;return n<=r?0:n-r}({remainingTime:e.getAdRemainingTime(),duration:e.getDuration(),skipDelay:t});this.timeToSkipComputed.dispatch(n)}watchDocumentVisibility(){const e=this.visibilitySlotParameters.element.ownerDocument;this.documentVisibility.dispatch(me(e)),this.addDestroyHandler(fs(e,(e=>this.documentVisibility.dispatch(e)))),this.addDestroyHandler((()=>{this.documentVisibility.removeAll()}))}initAdSequence(){const{adSequence:e}=this.playbackParameters;e?this.displayAdSequence.dispatch(e):this.addDestroyHandler(Po([this.playingAdPodIndex,this.adPodsCount],((e,t)=>({index:e,count:t})),this.displayAdSequence.dispatch.bind(this.displayAdSequence)))}initCreativeType(e){const{mediaAd:t}=e,i=ps(t);let n;"survey"===i?n="survey":cl(i,e.getVideoSlotClickUrl())?n="fullyClickable":ws(t.vastAd)&&(n="themeEmpty"),this.creativeType.dispatch(n)}logMissingLegalInfo(e){const t=this.playbackParameters.controlsSettings.visibility,i=this.playbackParameters.controlsSettings.controlsVisibility.abuse;if(!1===t||!1===i)return;const n=e.vastAd.adTune,r=r_(e.vastAd);r&&r.clientId||null!=n&&n.advertiserInfo||this.stats.log({name:"LegalInfoMissing",probability:1,dailySensors:{reason:"MISSING_LEGAL_INFO"},data:{impId:e.vastAd.impId}})}initUserIdleStatusDetector(){const e=new EO(this.slotParameters.document);this.onAdStart.addOne((()=>{e.startDetection()})),this.onAdPodComplete.addOne((()=>{this.stats.log({name:"UserIdleStatusInfo",data:{reason:"complete"},values:{averageIdleTime:e.getAverageIdleTime(),maxIdleTimeInterval:e.getMaxIdleTimeInterval()}})})),this.addDestroyHandler((()=>{this.stats.log({name:"UserIdleStatusInfo",data:{reason:"destroy"},values:{averageIdleTime:e.getAverageIdleTime(),maxIdleTimeInterval:e.getMaxIdleTimeInterval()}}),e.destroy()}))}}const RO=e=>"IntersectionObserverEntry"in e&&"isVisible"in e.IntersectionObserverEntry.prototype,xO="2147483647",VO=fh([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],(e=>null!==navigator.userAgent.match(e))),LO=2;class MO extends wh{constructor(e,t){let{considerDocumentVisibility:i=!0,numberOfMeasurementSteps:n=LO,enableTrackVisibility:r=!1}=void 0===t?{}:t;super(),this.totalVisibilityValueSignal=new Yh(!1),this.documentVisibilityValueSignal=new Yh(!0),this.isElementReachableByTrackVisibilityValueSignal=new Yh(!0),this.recalculateVisibility=()=>{if(this.isDestroyed||!Eo(this.element))return;const e=function(e){const t=function(e){return[bl(e),...sh(j(e),bl)]}(e);let i=Sl(t[0]),n=Tl(i,t[0]);for(let a=1;a<t.length;a++)i=Sl((r=i,{winWidth:(o=t[a]).winWidth,winHeight:o.winHeight,left:r.left+o.left,top:r.top+o.top,width:r.width,height:r.height})),n=Tl(i,t[0]);var r,o;return n}(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)},this.element=e;const o=Math.max(n,LO),a=e.ownerDocument.defaultView;this.elementVisibilityRatioValueSignal=new Yh(0);const s=a.IntersectionObserver;Boolean(s)?this.startIntersectionObserver(s,o):this.startVisibilityCheckInterval(a),r&&Boolean(s)&&RO(a)&&this.startCheckVisibilityWithTrackVisibility(a),i&&this.startObservingDocumentVisibility(a);const{valueSignal:l,teardown:d}=Zo([this.elementVisibilityRatioValueSignal,this.documentVisibilityValueSignal,this.isElementReachableByTrackVisibilityValueSignal],((e,t,i)=>i&&t?e:0));l.add((e=>{this.totalVisibilityValueSignal.dispatch(e>=yS)})),this.totalVisibilityRatioValueSignal=l,this.addDestroyHandler((()=>{this.totalVisibilityValueSignal.removeAll(),d(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll(),this.isElementReachableByTrackVisibilityValueSignal.removeAll()}))}startIntersectionObserver(e,t){const i=[yS],n=1/t;for(let o=1;o<t;o++)i.push(o*n);const r=new e((e=>{const t=e[e.length-1],{intersectionRatio:i}=t;this.elementVisibilityRatioValueSignal.dispatch(i)}),{threshold:i});r.observe(this.element),this.addDestroyHandler((()=>{r.disconnect()}))}startVisibilityCheckInterval(e){const t=Dn(this.recalculateVisibility);this.addDestroyHandler(t);const i=e.setTimeout(this.recalculateVisibility,0);this.addDestroyHandler((()=>{e.clearTimeout(i)}))}startCheckVisibilityWithTrackVisibility(e){const{element:t}=this,{teardown:i,visualVisibilitySignal:n}=(e=>{let{element:t,win:i}=e;const n=new Yh(!0),r=(e=>{const t=e.createElement("div");return wa(t,{all:"initial",minWidth:"initial",minHeight:"initial",maxWidth:"initial",maxHeight:"initial",transform:"initial",padding:"initial",margin:"initial",border:"initial",outline:"initial"},!0),wa(t,{pointerEvents:"none",width:"4px",height:"4px",position:"absolute",top:"50%",left:"50%",marginTop:"-1px",marginLeft:"-1px",zIndex:xO},!0),gu.isDebugEnabled&&(t.dataset.isVisible="undefined"),t})(t.ownerDocument);t.appendChild(r);const o=new i.IntersectionObserver((e=>{const t=e[e.length-1],{isVisible:i=!0}=t;n.dispatch(i),gu.isDebugEnabled&&(r.dataset.isVisible=String(i))}),{trackVisibility:!0,delay:100});return o.observe(r),{teardown:()=>{o.disconnect(),n.removeAll(),Re(r)},visualVisibilitySignal:n,markerElement:r}})({element:t,win:e});this.addDestroyHandler(i),n.add(this.isElementReachableByTrackVisibilityValueSignal)}startObservingDocumentVisibility(e){const t=e.setTimeout((()=>{const t=e.document,i=me(t);this.documentVisibilityValueSignal.dispatch(i);const n=fs(t,(e=>{this.documentVisibilityValueSignal.dispatch(e)}));this.addDestroyHandler(n)}),0);this.addDestroyHandler((()=>{e.clearTimeout(t)}))}}const BO=function(e){void 0===e&&(e=window);const{userAgent:t=""}=e.navigator,i=/Android/.test(t),n=function(e){return void 0===e&&(e=window),/Windows Phone/i.test(e.navigator.userAgent)}(e),r=/com\.yandex\.mobile\.metrica\.ads\.sdk.*?Android/.test(t);return i&&!n||r}(),FO={};class UO extends Error{}const HO=jr({isHovered:!1,userHasInteracted:!1});HO.Provider.displayName="SlotHoverContext";const zO=e=>{const t=pa(e),[i,n]=Yr(t);return Gr((()=>{t&&n(!0)}),[t]),{isHovered:t,userHasInteracted:i}},jO=jr(void 0);jO.Provider.displayName="VideoContentSizeContext";const WO=jr(void 0);WO.Provider.displayName="AdAnimationUnmuteButtonContext";const YO=e=>{let{adDisplayController:t}=e;return pa(t.volumeButtonCollapseProgress)},GO=jr(NaN);GO.Provider.displayName="AdDurationContext";const qO=e=>{let{adDisplayController:t}=e;return pa(t.adPodDuration)},XO=()=>Zr(GO),KO=jr(void 0);KO.Provider.displayName="AdSequenceContext";const JO=jr(vf);JO.Provider.displayName="ContentAfterAdPodContext";const ZO=()=>Zr(JO),QO=jr({adPodsCount:0,playingAdPodIndex:0});QO.Provider.displayName="MediaFileContext";const $O=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:pa(t),playingAdPodIndex:pa(i)}},eD=jr({supportsFullscreen:!1,product:void 0,bannerId:void 0});eD.Provider.displayName="SkinContext";const tD=()=>Zr(eD),iD={isPossible:!1,isAllowed:!1,isVisible:!1,rawCues:[],allow:Y,toggle:Y},nD=jr(iD);nD.Provider.displayName="SubtitlesContext";const rD=e=>{let{adDisplayController:t}=e;return pa(t.subtitlesState)||iD},oD=()=>Zr(nD),aD=jr({volumeStatus:"unknown",volume:0,setVolume:Y,setMuted:Y});aD.Provider.displayName="VolumeContext";const sD=e=>{let{adDisplayController:t}=e;return{volumeStatus:pa(t.volumeStatus),volume:pa(t.adVolume),setVolume:e=>t.setVolume(e),setMuted:e=>t.setMuted(e)}},lD=()=>Zr(aD),dD=jr(!0);dD.Provider.displayName="ShowTitleAndBodyContext";const cD=e=>{const t=pa(e);return Boolean(t)},uD=e=>null!=e&&e.hasOwnProperty("vast")?null==e?void 0:e.vast:void 0,hD=jr({vast:void 0,blockId:"",bannerId:"",videoContentSize:void 0,clickUrl:void 0,slotParameters:{element:void 0,document:void 0,window:void 0,size:void 0,isHovered:void 0}});hD.Provider.displayName="ReportBugContext";const pD=e=>{var t,i,n,r,o;let{adDisplayController:a}=e;const s=pa(a.currentVastAd),l=(null==(t=uD(s))?void 0:t.xmlString)||"",{partnerId:d,impId:c}=pa(a.adBlockIdentification),u=pa(a.videoContentSize),h=dw(a);return{vast:l,blockId:"R-A-"+d+"-"+c,bannerId:null==s||null==(i=s.adParametersObject)||null==(n=i.AUCTION_DC_PARAMS)||null==(r=n.data_params)||null==(o=r.misc)?void 0:o.object_id,videoContentSize:u,clickUrl:h,slotParameters:a.slotParameters}},mD=jr({toggleFullscreen:Y,isFullscreen:!1});mD.Provider.displayName="FullscreenContext";const vD=e=>{const t=Do(e.slotParameters.window,e.videoNode);return{toggleFullscreen:()=>{e.requestFullscreenStateChange(!t)},isFullscreen:t}},gD=jr(!1);gD.Provider.displayName="IsNewSurveyDesignSupportedContext";const fD=jr(void 0);fD.Provider.displayName="SurveyAdLabelPositionContext";const AD=jr(!1);AD.Provider.displayName="DisableSurveyHeaderContext";const _D=jr(void 0);_D.Provider.displayName="UserRegionContext";const yD=jr(ao(0));yD.Provider.displayName="AdAnimationProgressContext";const bD=e=>{let{skinAnimationProgress:t}=e;return t},SD=()=>Zr(yD),TD=e=>yr(yD.Provider,{value:bD(e.adDisplayController),children:e.children}),ED=jr(!1);ED.Provider.displayName="IsSurveySuitableContext";const wD=e=>!!e&&(e.isFocusable||e.hasFocusableChildren()),CD=(e,t)=>!(!e||!t)&&("unknown"===t||"column"===e&&("up"===t||"down"===t)||"row"===e&&("left"===t||"right"===t));class PD{constructor(e,t){var i,n;void 0===t&&(t={}),this.children=[],this.id=e,this.activeChild=void 0,this.index=t.index,this.orientation=null!=(i=t.orientation)?i:"row",this.isFocusable=null!=(n=t.isFocusable)&&n,this.parent=t.parent}appendChild(e){if(e.setParent(this),"number"===typeof e.index){for(let t=this.children.length;t>e.index;t--)this.children[t]=this.children[t-1],this.children[t].index=t;this.children[e.index]=e}else e.index=this.children.length,this.children.push(e)}removeChild(e){let t=-1,i=this.children.length;for(let n=0;n<i;n++)if(this.children[n]===e){t=n;break}if(-1!==t){for(let e=t;e<i-1;e++)this.children[e]=this.children[e+1],this.children[e].index=e;i--,this.children.length=i}}getIndex(){return this.index}getParent(){return this.parent}setParent(e){this.parent=e}traverse(e){const t=[this];for(;t.length>0;){const i=t.pop();if(e(i))return;if(i.children.length)for(let e=i.children.length-1;e>=0;e--)t.push(i.children[e])}}contains(e){let t=e;if(t===this)return!0;for(;t;){if(t.parent===this)return!0;t=t.parent}return!1}setActiveChild(e){if(!e.parent||e.parent.id!==this.id)return;const t=this.activeChild;t&&t.id!==e.id?this.activeChild=e:this.activeChild||(this.activeChild=e)}setActiveChildBubbling(e){let t=e,i=this;for(;i;)i.setActiveChild(t),t=i,i=i.parent}findLeafFocusableChildren(e){void 0===e&&(e="unknown");let t=this;for(;t;){if(t.isFocusable&&!t.hasFocusableChildren())return t;t=t.activeChild?t.activeChild:t.getNextFocusableChildren(e)}}hasFocusableChildren(){if(!this.children.length)return!1;let e=!1;return this.traverse((t=>!e&&t!==this&&(e=t.isFocusable,e))),e}getNextFocusableChildren(e){let t;("unknown"===e||"row"===this.orientation&&"right"===e||"column"===this.orientation&&"down"===e)&&(t=this.getForwardFocusableChildren());const i="unknown"===e||"row"===this.orientation&&"left"===e||"column"===this.orientation&&"up"===e;return!t&&i&&(t=this.getBackwardFocusableChildren()),t}getForwardFocusableChildren(){var e;if(!this.children.length)return;let t=0;"number"===typeof(null==(e=this.activeChild)?void 0:e.index)&&(t=this.activeChild.index+1);for(let i=t;i<this.children.length;i++)if(wD(this.children[i]))return this.children[i]}getBackwardFocusableChildren(){var e;if(!this.children.length)return;let t=this.children.length-1;"number"===typeof(null==(e=this.activeChild)?void 0:e.index)&&(t=this.activeChild.index-1);for(let i=t;i>=0;i--)if(wD(this.children[i]))return this.children[i]}}const kD=function(e,t){return void 0===t&&(t={}),new PD(e,t)};class ID{constructor(){this.events=Object.create(null)}destroy(){this.events=Object.create(null)}addEventListener(e,t){const i=this.getListeners(e);return i.add(t),()=>{i.delete(t)}}dispatchEvent(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const r=this.getListeners(e);nu(Array.from(r),(e=>{try{e(...i)}catch(cL){setTimeout((()=>{throw cL}),0)}}))}getListeners(e){let t=this.events[e];return void 0===t&&(t=new Set,this.events[e]=t),t}}class OD extends ID{constructor(){super(...arguments),this.nodes={}}destroy(){super.destroy(),this.nodes={},this.rootNode=void 0,this.currentFocusedNode=void 0}getNode(e){return this.nodes[e]}getRootNode(){return this.rootNode}getCurrentFocusedNode(){return this.currentFocusedNode}register(e,t){if(void 0===t&&(t={}),"string"===typeof e&&(e=kD(e,t)),this.getNode(e.id))throw Error("Node with an ID of "+e.id+" has already been registered");return this.rootNode?(e.parent||this.rootNode).appendChild(e):this.rootNode=e,this.nodes[e.id]=e,e}unregister(e){const t=e.getParent();t&&(t.activeChild===e&&this.unsetActiveChild(t,e),t.removeChild(e)),e.traverse((e=>{delete this.nodes[e.id],e===this.currentFocusedNode&&(this.currentFocusedNode=void 0)})),this.dispatchEvent("blur",e),t&&this.recalculateFocus(t)}move(e){const t=this.getCurrentFocusedNode();let i,n;if(t){if(i=this.climbUp(t,e),!i)return;n=(i.getNextFocusableChildren(e)||i).findLeafFocusableChildren(e)}else if(i=this.getRootNode(),i)return this.recalculateFocus(i);if(n)return this.assignFocus(n),n}setNodeFocusable(e,t){e.isFocusable!==t&&(e.isFocusable=t,t||(this.currentFocusedNode===e&&this.recalculateFocus(e),e.parent&&this.unsetActiveChild(e.parent,e)))}climbUp(e,t){let i=e;for(;i;)if(i!==this.currentFocusedNode)if(CD(i.orientation,t)){if(i.getNextFocusableChildren(t))return i;i=i.parent}else i=i.parent;else i=i.parent}recalculateFocus(e){const t=this.climbUp(e,"unknown")||this.getRootNode();if(!t)return;const i=(t.getNextFocusableChildren("unknown")||t).findLeafFocusableChildren();return i?this.assignFocus(i):this.currentFocusedNode=void 0,i}resetFocusState(){const e=this.getCurrentFocusedNode(),t=this.getRootNode();this.currentFocusedNode=void 0,t&&t.traverse((e=>{e.activeChild&&(e.activeChild=void 0)})),e&&this.dispatchEvent("blur",e)}assignFocus(e){let t=e;if(!t||t!==this.currentFocusedNode){if(t&&!t.isFocusable&&(t=t.findLeafFocusableChildren()),!t)throw new Error("trying to assign focus to a non focusable node");this.currentFocusedNode&&this.dispatchEvent("blur",this.currentFocusedNode),this.currentFocusedNode=t,t.parent&&t.parent.setActiveChildBubbling(t),this.dispatchEvent("focus",t)}}unsetActiveChild(e,t){let i=e,n=t;const r=!!this.currentFocusedNode&&n.contains(this.currentFocusedNode);for(;i&&i.activeChild;){const e=i.activeChild===n,t=!!this.currentFocusedNode&&i.activeChild.contains(this.currentFocusedNode);(r||e&&!t)&&(i.activeChild=void 0),n=i,i=i.parent}}}const DD=()=>{const e=new OD;return window.focusManager=e,e},ND=e=>{const t=new _u,i=(e=>t=>{const{keyCode:i}=t;return e&&e.keymap?i?e.keymap[i]||0:(console.error('Keyboard event is missing "keyCode" property'),0):(console.error("No keymap to map keyCode"),0)})(e);return{add:e=>t.add((t=>{J(e,t)})),dispatch(e){let n;e instanceof KeyboardEvent?n=i(e):"number"===typeof e&&(n=e),void 0!==n&&t.dispatch(n)}}},RD=jr(void 0),xD=()=>Zr(RD),VD=jr(void 0),LD=()=>Zr(VD),MD=jr({}),BD=jr(ao(!1)),FD=(UD=e=>{let{debugName:t,index:i=0,orientation:n,isFocusable:r=!1,focusPriority:o=!1,children:a}=e;const s=xD(),l=Zr(BD),d=Zr(MD),c=mE(r);if(!s)throw new Error("FocusManagerContext is not provided");const u=LD(),h=(e=>{const t=LD();return t?[t.id,e].join("/"):"root"})(String(i)),p=((e,t)=>kl(kD,e,t))(h,{index:i,orientation:n,isFocusable:r,parent:u});return qr((()=>{if(!u||s.getNode(u.id)){s.register(p);const e=d[h];Array.isArray(e)&&nu(e,(e=>{s.register(e)})),delete d[h],null!=l&&l.value&&(r&&o?s.assignFocus(p):s.getCurrentFocusedNode()||s.recalculateFocus(p))}else d[u.id]||(d[u.id]=[]),d[u.id].push(p);return()=>{s.unregister(p)}}),[]),Gr((()=>{null!==c&&s.setNodeFocusable(p,r)}),[r,c]),Gr((()=>{null!=l&&l.value&&s.getNode(h)&&r&&o&&s.assignFocus(p)}),[o,null==l?void 0:l.value]),yr(VD.Provider,{value:p,children:a})},e=>yr(Wm?UD:Sr,e));var UD;const HD=jr(null),zD=jr(ao(void 0)),jD=ao(void 0),WD=e=>{let{device:t,children:i,isLayoutRootFocused:n}=e;const r=kl(DD),o=kl(ND,t),a=Kr((()=>({})),[]),s=n.value,l=Pl((()=>{jD.value=r.getCurrentFocusedNode()}));return((e,t)=>{const i=Pl((i=>{t&&e.dispatch(i)}));Gr((()=>(setTimeout((()=>{Iu.document.addEventListener("keydown",i)}),0),()=>{Iu.document.removeEventListener("keydown",i)})),[])})(o,s),Gr((()=>{if(s){if(!r.getCurrentFocusedNode()){const e=r.getRootNode();e&&r.recalculateFocus(e)}}else r.resetFocusState()}),[s]),Gr((()=>{const e=r.addEventListener("blur",l),t=r.addEventListener("focus",l),i=o.add((e=>{const t=r.getCurrentFocusedNode();if(21===e&&t)return void r.dispatchEvent("enter",t);const i=(e=>{switch(e){case 1:return"left";case 3:return"right";case 2:return"up";case 4:return"down";default:return"unknown"}})(e);"unknown"!==i&&r.move(i)}));return()=>{t(),e(),i()}}),[]),yr(RD.Provider,{value:r},yr(zD.Provider,{value:jD},yr(MD.Provider,{value:a},yr(HD.Provider,{value:o},yr(BD.Provider,{value:n},yr(FD,{debugName:"root"},i))))))},YD=e=>{let{isLayoutRootFocused:t,children:i}=e;const n=$e();return n?yr(WD,{isLayoutRootFocused:t,device:n,children:i}):yr(Sr,{children:i})},GD=[e=>yr(YD,{isLayoutRootFocused:e.adDisplayController.isLayoutFocused,children:e.children}),e=>{return yr(_D.Provider,{value:(t=e.adDisplayController,pa(t.userRegion)),children:e.children});var t},e=>{return yr(oC.Provider,{value:(t=e.adDisplayController,Ya(pa(t.slotParameters.size))),children:e.children});var t},e=>{return yr(yC.Provider,{value:(t=e.adDisplayController,Boolean(t.playbackParameters.keepControlsAfterVideoEnd)),children:e.children});var t},e=>{return yr(eD.Provider,{value:(t=e.adDisplayController,{supportsFullscreen:"TRUE"===Tu.getFlagValueAndActivateTestId("ENABLE_FULLSCREEN_BUTTON_IN_NEW_SKIN")&&t.supportsFullscreen,product:t.playbackParameters.product,bannerId:t.playbackParameters.bannerId}),children:e.children});var t},e=>yr(uT.Provider,{value:e.slotElement,children:e.children}),e=>yr(jP.Provider,{value:WP(e),children:e.children}),e=>yr(mD.Provider,{value:vD(e.adDisplayController),children:e.children}),e=>yr(QO.Provider,{value:$O(e.adDisplayController),children:e.children}),e=>yr(TD,{adDisplayController:e.adDisplayController,children:e.children}),e=>yr(GO.Provider,{value:qO(e),children:e.children}),e=>yr(lT.Provider,{value:dT(e.adDisplayController.slotParameters.size),children:e.children}),e=>yr(CT.Provider,{value:e.adDisplayController.stats.log,children:e.children}),e=>{return yr(jO.Provider,{value:(t=e.adDisplayController.videoContentSize,pa(t))},e.children);var t},e=>yr(AE.Provider,{value:_E({timeToSkipSignal:e.adDisplayController.timeToSkip,skipCallback:e.adDisplayController.onSkinSkipButtonClick}),children:e.children}),e=>yr(dC.Provider,{value:cC(e),children:e.children}),e=>yr(sC.Provider,{value:e.adDisplayController.skinVariant,children:e.children}),e=>yr(xP.Provider,{value:VP(e.adDisplayController.tooltipParameters.container),children:e.children}),e=>yr(MP.Provider,{value:BP(e.adDisplayController.tooltipParameters.content),children:e.children}),e=>{return yr(CP.Provider,{value:(t=e.adDisplayController,pa(t.videoSlotClickUrl)),children:e.children});var t},e=>yr(GE.Provider,{value:qE(e),children:e.children}),e=>yr(HO.Provider,{value:zO(e.adDisplayController.slotParameters.isHovered),children:e.children}),e=>yr(gE,{value:pE(e.adDisplayController),children:e.children}),e=>yr(tE.Provider,{value:iE(e.adDisplayController.combinedSkinControlsVisibility),children:e.children}),e=>yr(aD.Provider,{value:sD(e),children:e.children}),e=>yr(WO.Provider,{value:YO(e),children:e.children}),e=>yr(cw.Provider,{value:uw(e),children:e.children}),e=>yr(hD.Provider,{value:pD(e),children:e.children}),e=>yr(bP.Provider,{value:SP(e),children:e.children}),e=>yr(pw.Provider,{value:mw(e),children:e.children}),e=>yr(PP.Provider,{value:kP(e),children:e.children}),e=>{return yr(JO.Provider,{value:(t=e.adDisplayController,pa(t.contentAfterAdPod)),children:e.children});var t},e=>yr(rE.Provider,{value:oE(e.adDisplayController.favicon),children:e.children}),e=>yr(vP.Provider,{value:gP(e),children:e.children}),e=>yr(bE.Provider,{value:SE(e.adDisplayController),children:e.children}),e=>yr(KT.Provider,{value:JT(e.adDisplayController),children:e.children}),e=>yr(eC.Provider,{value:tC(e.adDisplayController),children:e.children}),e=>yr(mC.Provider,{value:vC(e.adDisplayController),children:e.children}),e=>yr(nD.Provider,{value:rD(e)},e.children),e=>yr(dD.Provider,{value:cD(e.adDisplayController.showTitleAndBody)},e.children),e=>yr(TP.Provider,{value:EP(e),children:e.children}),e=>{return yr(KO.Provider,{value:(t=e.adDisplayController,pa(t.displayAdSequence)),children:e.children});var t},e=>yr(QT.Provider,{value:$T(e.adDisplayController),children:e.children}),e=>{return yr(nC.Provider,{value:(t=e.adDisplayController,{ecomShopState:pa(t.ecomShopState),setShopVisibility:e=>{t.setEcomShopState({isVisible:e},!0)}}),children:e.children});var t},e=>{return yr(Ew.Provider,{value:(t=e.adDisplayController.isModernInstreamSurvey,pa(t)),children:e.children});var t},e=>{return yr(ED.Provider,{value:(t=e.adDisplayController.isSurveySuitable,pa(t)),children:e.children});var t},e=>{return yr(gD.Provider,{value:(t=e.adDisplayController.isNewSurveyDesignSupported,pa(t)),children:e.children});var t},e=>{return yr(fD.Provider,{value:(t=e.adDisplayController.surveyAdLabelPosition,pa(t)),children:e.children});var t},e=>yr(AD.Provider,{value:e.adDisplayController.playbackParameters.disableSurveyHeader,children:e.children}),e=>{return yr(_C.Provider,{value:(t=e.adDisplayController,(e=>{const{width:t}=e,i=qc(AC,(e=>{const{min:i,max:n}=fC[e];return t>=i&&t<n}));return null!=i?i:"S"})(pa(t.slotParameters.size))),children:e.children});var t},e=>{return yr(_O.Provider,{value:(t=e.adDisplayController,pa(t.shouldUseThemeEmptyActionPanel)),children:e.children});var t},e=>yr(IP.Provider,{value:OP(e),children:e.children}),e=>yr(KE.Provider,{value:JE(e),children:e.children})];var qD=e(3002),XD=e.n(qD);const KD=e=>{var t;va(XD());const{children:i,onSplitResult:n,fontStyle:r}=e,o=i,[a,s]=Yr([]),l={"--stw-text-lines-count":a.length,"--stw-font":r},d=Xr(null),{width:c}=null!=(t=es(d))?t:{};return Gr((()=>{if(void 0===c||void 0===i||0===i.length)return;const e=d.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const a=(e=>{const t=new _u,{canvas:i,text:n,context:r,fontStyle:o}=e;t.addOne(bo(i,{font:o}));const a=r.font;t.addOne((()=>{r.font=a})),r.font=o;const s=r.measureText(" ").width,l=i.offsetWidth,d=n.split(" "),c=[];let u=[],h="",p=0;for(let m=0;m<d.length;m++){const e=d[m],t=r.measureText(e).width;if(t>l){c.length=0;break}const i=h.length>0?" ":"",n=h+i+e,o=p+(i?s:0)+t;o>=l?(c.push(u),u=[],u.push(e),h=e,p=t,m===d.length-1&&c.push(u)):(u.push(e),h=n,p=o,m===d.length-1&&c.push(u))}return t.dispatch(void 0),c.length?c:void 0})({canvas:e,context:t,text:o,mode:"lines",fontStyle:r});a&&(null==n||n(a),s(a))}),[d,c,void 0,o,r]),yr("div",{style:l,className:qD.locals.SplitTextLinesWrapper__container},yr("div",{className:qD.locals.SplitTextLinesWrapper__lines},sh(a,((e,t)=>{const i=t===a.length-1,n=e.join("");let r=0;const o=n.length,s={"--stw-text-line-length":o,"--stw-text-line-words-count":e.length,"--stw-text-line-index":t};return yr(Sr,{key:n},yr("div",{className:qD.locals.SplitTextLinesWrapper__textLine,style:s},sh(e,((t,i)=>{const n=i===e.length-1?"":"\xa0";return yr("span",{key:""+t+i,className:qD.locals.SplitTextLinesWrapper__word,style:{"--stw-text-word-index":i}},sh(t.split(""),((e,t)=>{const i=e+"-"+t,n=Math.round(100*r/o),a=Gn(Math.floor(n/30),0,2),s={"--stw-text-char-inside-word-index":t,"--stw-text-char-inside-line-index":r,"--stw-text-char-inside-line-percent":n,"--stw-text-char-inside-line-third":a};return r+=1,yr("span",{key:i,className:qD.locals.SplitTextLinesWrapper__char,style:s},e)})),n)}))),!i&&yr("br",null))}))),yr("canvas",{className:qD.locals.SplitTextLinesWrapper__canvas,ref:d}))},JD="notranslate";var ZD=e(4014),QD=e.n(ZD);const $D=(e,t)=>{const{bodyAnimationEnlargementDelay:i,bodyAnimationEnlargementDuration:n,bodyAnimationShowDelay:r,bodyAnimationShowDuration:o,showLineDelay:a}=t,{titleAnimationHideDelay:s,titleAnimationHideDuration:l,titleAnimationEnlargementNextLineDelay:d,titleSinglePartDuration:c,titleAnimationEnlargementDelay:u,titleAnimationEnlargementDuration:h,titleAnimationShowDelay:p}=e;return{"--ctat-animation-body-animation-enlargement-delay":i+"ms","--ctat-animation-body-animation-enlargement-duration":n+"ms","--ctat-animation-body-animation-show-delay":r+"ms","--ctat-animation-body-animation-show-duration":o+"ms","--ctat-animation-body-animation-show-line-delay":a+"ms","--ctat-animation-title-animation-show-delay":p+"ms","--ctat-animation-title-animation-enlargement-delay":u+"ms","--ctat-animation-title-animation-enlargement-duration":h+"ms","--ctat-animation-title-animation-hide-delay":s+"ms","--ctat-animation-title-animation-hide-duration":l+"ms","--ctat-animation-title-enlargement-next-line-delay":d+"ms","--ctat-animation-title-part-duration":c+"ms"}},eN=e=>{let{onClickOutside:t}=e;va(QD());const{isAbuseSubmitted:i}=hw(),{isPackshotPlaying:n}=iC(),{themeEmptyParameters:r,clickThrough:o}=TE(),a=Zr(dD),{title:s,body:l,clickUrl:d,targetUrl:c}=null!=r?r:{},u=nE(),h=!1!==u.title&&!1!==u.body,p=!1!==u.actionButton,m=yO(),[v,g]=Yr(void 0),[f,A]=Yr(void 0),_=Xr(null),y=Xr(null),b=()=>{o({url:d,playerHandles:!0,clickSource:"SkinCallToActionText"})},{isReadyToAnimate:S,containerStyle:T,titleFontStyle:E,bodyFontStyle:w}=function(e,t,i,n,r){const o=SD(),a=XO(),s=cT(),{playingState:l}=YP(),[d,c]=Yr({largestSize:0,descriptionFontSize:0,descriptionLineHeight:0,horizontalMargin:0,verticalMargin:{top:0,bottom:0}});Gr((()=>{const e=lf(d),t=Math.max(s.width,s.height);e.largestSize=t;const{fontSize:i,lineHeight:n}=(e=>e<360?{fontSize:12,lineHeight:18}:e<400?{fontSize:14,lineHeight:20}:e<480?{fontSize:16,lineHeight:22}:e<560?{fontSize:18,lineHeight:24}:e<640?{fontSize:20,lineHeight:26}:e<720?{fontSize:22,lineHeight:28}:e<800?{fontSize:24,lineHeight:30}:e<960?{fontSize:26,lineHeight:32}:e<1024?{fontSize:28,lineHeight:34}:{fontSize:30,lineHeight:36})(t);e.descriptionFontSize=i,e.descriptionLineHeight=n,e.horizontalMargin=(e=>e<640?10:e<960?15:20)(t),e.verticalMargin=function(e,t){return void 0===t&&(t=!0),e<480?t?{top:40,bottom:98}:{top:40,bottom:64}:e<960?{top:40,bottom:116}:e<1280?{top:40,bottom:122}:{top:40,bottom:128}}(t,r),c(e)}),[s]);const[u,h]=Yr(!1),[p,m]=Yr({}),v=o.value;Gr((()=>{const e=lf(p);d.largestSize&&(e["--ctat-largest-size"]=d.largestSize+"px",e["--ctat-description-font-size"]=d.descriptionFontSize+"px",e["--ctat-horizontal-margin"]=d.horizontalMargin+"%",e["--ctat-margin-top"]=d.verticalMargin.top+"px",e["--ctat-margin-bottom"]=d.verticalMargin.bottom+"px",m(e))}),[d]);const[g,f]=Yr(""),[A,_]=Yr("");Gr((()=>{let e=g;if(i.current){const t=se(i.current,i.current.ownerDocument.defaultView);e=t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+(d.descriptionFontSize+2)+"px/"+d.descriptionLineHeight+"px "+t.fontFamily}f(e);let t=A;if(i.current){const e=se(i.current,i.current.ownerDocument.defaultView);t=e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+d.descriptionFontSize+"px/"+d.descriptionLineHeight+"px "+e.fontFamily}_(t)}),[d,i.current,n.current]);const[y,b]=Yr({"--ctat-animation-animation-drift-coef":"1","--ctat-animation-progress":"0","--ctat-animation-playing-state":"paused"});return Gr((()=>{const i=Ol({},y);if(!e||!t||!a)return void h(!1);h(!0);const{cssVars:n,totalAnimationDuration:r}=(e=>{const{duration:t}=e,i=100*Gn(t/10,1,1),n=Il({},e,{atomic100MSDuration:i}),r=(e=>{let{atomic100MSDuration:t,titleSplitResult:i,baseDelay:n}=e;const r=n,o=1.66*t,a=i.length,s=3*o*a,l=t+n,d=s+l,c=d+t+t*a,u=27*t,h=c+u;return{calculatedTitleAnimationDuration:h+t*a,calculatedTitleRevealAnimationDuration:s,titleAnimationDelayAfterEnlargement:u,titleAnimationDelayAfterReveal:l,titleAnimationEnlargementDelay:d,titleAnimationEnlargementDuration:t,titleAnimationEnlargementNextLineDelay:t,titleAnimationHideDelay:h,titleAnimationHideDuration:t,titleAnimationSingleLinePartsCount:3,titleAnimationShowDelay:r,titleAnimationTotalEnlargementDuration:c,titleLinesCount:a,titleSinglePartDuration:o}})(Il({},n,{baseDelay:25*i})),o=r.calculatedTitleAnimationDuration,a=(e=>{let{bodySplitResult:t,atomic100MSDuration:i,baseDelay:n}=e;const r=t.length,o=8.2*i,a=n+o,s=3*i,l=.75*i,d=4.5*i,c=a+l+s;return{bodyAnimationEnlargementDelay:c,bodyAnimationEnlargementDuration:d,bodyAnimationShowDelay:a,bodyAnimationShowDuration:s,bodyLinesCount:r,bodyTotalAnimationTime:c+d*r,delayBeforeShowBody:o,showLineDelay:l}})(Il({},n,{baseDelay:o})),s=a.bodyTotalAnimationTime;return{cssVars:$D(r,a),titleAnimationDuration:o,totalAnimationDuration:s,titleAnimationShowDelay:r.titleAnimationShowDelay,bodyAnimationShowDelay:a.bodyAnimationShowDelay}})({duration:a,bodySplitResult:t,titleSplitResult:e}),s=r*v;i["--ctat-animation-current-time"]=s+"ms","play"===l?i["--ctat-animation-playing-state"]="running":"pause"===l&&(i["--ctat-animation-progress"]=""+o,i["--ctat-animation-playing-state"]="paused"),b(Ol({},n,i))}),[v,l,a,e,t]),{isReadyToAnimate:u,containerStyle:Ol({},p,y),titleFontStyle:g,bodyFontStyle:A}}(v,f,_,y,p);return"undefined"!==typeof CSS&&CSS.supports("animation-delay","var(--time)")&&h&&a?n||i?null:s||l?m?null:yr("div",{className:ha(ZD.locals.CallToActionTextContainer,JD),translate:!1},yr("div",{className:ha(ZD.locals.CallToActionText,{[ZD.locals.CallToActionText__animated]:S}),style:T,onClick:t},yr("div",{className:ZD.locals.CallToActionText__overlay},s&&yr("div",{className:ZD.locals.CallToActionText__title,ref:_},yr(PE,{url:c,onClick:b,pointerEvents:"none"},yr(KD,{fontStyle:E,onSplitResult:e=>g(e)},s))),l&&yr("div",{className:ZD.locals.CallToActionText__body,ref:y},yr(PE,{url:c,onClick:b,pointerEvents:"none"},yr(KD,{fontStyle:w,onSplitResult:e=>A(e)},l)))))):null:null};var tN=e(8510),iN=e.n(tN),nN=e(3407),rN=e.n(nN);const oN=()=>{va(rN());const e=cT(),{tooltipContent:t}=FP();if(void 0===t)return null;const{content:i,arrowPosition:n,targetElementCoordinates:r,onClickClose:o,showArrow:a}=t,s=r.top+r.height,l={};"top"===n?l.top=s+15:l.bottom=r.winHeight-r.top+6;const d=r.left+r.width/2;if(e.width<192)l.left=6,l.right=6;else{const t=6,i=e.width-180-6,n=d-90+6;l.left=Gn(n,t,i),l.width=180}const c={};if("top"===n){c.top=-8;const e=6,t=150,i=d-l.left-12;c.left=Gn(i,e,t)}return yr("div",{className:nN.locals.Tooltip,style:l},yr("div",{className:nN.locals.Tooltip__body},yr("div",{className:nN.locals.Tooltip__text},i),o&&yr("div",{className:nN.locals.Tooltip__closeContainer,onClick:o},yr(Nl,null))),a&&yr("div",{className:nN.locals.Tooltip__arrow,style:c},yr(Dl,null)))},aN=()=>{va(iN());const{setContainerElement:e}=LP();return yr("div",{ref:t=>{t&&e(t)},className:ha(tN.locals.TooltipContainer,JD),translate:!1},yr(oN,null))};var sN=e(4376),lN=e.n(sN);const dN=e=>{let{children:t,isActive:i=!0,url:n,onClick:r,className:o,buttonClassName:a,contentClassName:s}=e;va(lN());const l=ha(sN.locals.Button,o,{[sN.locals.Button_active]:i,[sN.locals.Button_link]:Boolean(n)}),d=yr("div",{className:sN.locals.Button__clickable},yr("div",{className:a},yr("div",{className:ha(sN.locals.Button__content,s)},t)));return n?yr("a",{className:l,href:n,target:"_blank",onClick:r},d):yr("div",{className:l,onClick:r},d)};var cN=e(2635),uN=e.n(cN);const hN=e=>{let{icon:t,className:i}=e;return t?yr("div",{className:i},t):null},pN=e=>{let{buttonText:t,leftIcon:i,rightIcon:n,onClick:r,url:o}=e;va(uN());const a=(s=uE(),Rf.has(s));var s;const l=Jr((()=>{r&&r()}),[r]);return yr(dN,{className:ha(cN.locals.AbuseOptionButton,JD,{[cN.locals.AbuseOptionButton_direction_rtl]:a}),url:o,buttonClassName:cN.locals.AbuseOptionButton__clickable,contentClassName:cN.locals.AbuseOptionButton__content,onClick:l},yr(hN,{icon:i,className:cN.locals.AbuseOptionButton__leftIcon}),t,yr(hN,{icon:n,className:cN.locals.AbuseOptionButton__rightIcon}))},mN=e=>{let{className:t}=e;return yr(Rl,{className:t})},vN=e=>{let{className:t}=e;return yr(xl,{className:t})},gN=e=>"anotherReasonAd"===e?yr(mN,null):"about"===e||"advertiserInfo"===e||"recommendationRules"===e?yr(vN,null):void 0;var fN=e(6672),AN=e.n(fN);const _N=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const n=dE();return yr("div",{className:fN.locals.AbuseDisplay__complaintDisplay},yr("div",{className:fN.locals.AbuseDisplay__text},n("ABUSE_IMPROVE_REASON_TEXT")),sh(c(t),(e=>yr(pN,{key:e,onClick:i[e],rightIcon:gN(e),buttonText:t[e]}))))},yN=e=>{let{className:t}=e;return yr(Vl,{className:t})},bN=e=>{let{className:t}=e;return yr(Ll,{className:t})},SN=e=>{let{className:t}=e;return yr(Ml,{className:t})},TN=e=>{let{className:t}=e;return yr(Bl,{className:t})},EN=e=>{let{className:t}=e;return yr(Fl,{className:t})},wN=e=>{switch(e){case"hide":return yr(bN,null);case"complaint":return yr(yN,null);case"about":return yr(TN,null);case"advertiserInfo":return yr(SN,null);case"recommendationRules":return yr(EN,null);default:return}},CN=["slotParameters"],PN=e=>{let{buttonTexts:t,onClickHandlers:i,legalInfoText:n,isVisibleAbuse:r}=e;const{onAbuseCopyLinkToClipboardClick:o,advertiserInfoUrl:a,isAbuseSupported:s,nroaInform:l}=hw(),d=vw(),u=dE(),{isStarted:h}=YP(),{vast:p,clickUrl:v,blockId:g,bannerId:f,videoContentSize:A,slotParameters:_}=Zr(hD),y=cT(),b=_w(),S=Zr(_D),T=PT(),E=d&&m(d.advertiserInfo),w=m(b)&&!E,[C,P]=Yr(!1),[k,I]=Yr(!1),O=()=>Boolean(d)?Gb:Yb;return Gr((()=>{r||P(!1)}),[r]),yr("div",null,d&&""!==d.advertiserInfo&&yr("div",{className:fN.locals.AbuseDisplay__legal},d.advertiserInfo),n&&yr("div",{className:fN.locals.AbuseDisplay__legal},n),w&&yr("div",{className:fN.locals.AbuseDisplay__legal},b),d&&""!==d.token&&Hm&&yr("div",{className:fN.locals.AbuseDisplay__legal},d.token),Hm&&l&&yr("div",{className:fN.locals.AbuseDisplay__legal,style:{maxHeight:"unset",wordBreak:"break-all"}},(l.title||u("ABUSE_OPTION_ADVERTISER_INFO"))+": "+l.url),Hm&&yr("div",{className:fN.locals.AbuseDisplay__legal,style:{maxHeight:"unset",wordBreak:"break-all"}},u("ABUSE_OPTION_ADVERTISER_INFO")+": "+a),!Hm&&s&&sh(c(t),(e=>{let n;switch(e){case"advertiserInfo":n=a;break;case"about":n=jb;break;case"recommendationRules":if(m(S)&&"RU"!==S)return;n=O();break;default:n=void 0}return yr(pN,{key:e,url:n,onClick:i[e],leftIcon:wN(e),rightIcon:gN(e),buttonText:t[e]})})),!Hm&&!s&&yr(pN,{key:"recommendationRules",url:O(),onClick:i.recommendationRules,buttonText:t.recommendationRules,leftIcon:yr(EN,null),rightIcon:yr(vN,null)}),!Hm&&d&&""!==d.token&&yr(pN,{key:"copy_token",onClick:()=>{d&&(d.copyToken(),I(!0))},buttonText:u(k?"ABUSE_COPIED":"ADTUNE_COPY_TOKEN"),leftIcon:yr(Hl,null)}),!Hm&&o&&yr(pN,{key:"copy_link",onClick:()=>{o&&(o(),P(!0))},buttonText:u(C?"ABUSE_COPIED":"ABUSE_COPY_TEXT"),leftIcon:yr(Hl,null)}),!Hm&&l&&yr(pN,{key:"ExternalDspAdvertiserInfo",url:l.url,buttonText:l.title||u("ABUSE_OPTION_ADVERTISER_INFO"),leftIcon:yr(SN,null)}),!Hm&&gu.VAS_UAAS_CONFIG.isInternalNetwork&&yr(pN,{key:"report_bug",onClick:()=>{((e,t)=>{const{slotParameters:i}=e,n=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(e,CN),{document:r,window:o}=i;if(t({name:"ReportBug",data:zl({},n,{VSID:fu}),values:{},sensors:{},probability:Hu}),!r||!o)return void ah("Couldn't retrieve document or window from adDisplayController");const a=r.createElement("div");wa(a,{backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",height:"100vh",width:"100vw",zIndex:""+(Number.parseInt(xO,10)-1)});const s=JSON.stringify(n,null,2),l=new Blob([s],{type:"application/json"}),d=new FileReader;d.readAsDataURL(l);const c=r.createElement("div");wa(c,{width:"500px",height:"500px",padding:"18px",borderRadius:"20px",backgroundColor:"white",maxHeight:"80vh"}),a.appendChild(c);const u=r.createElement("iframe");wa(u,{height:"100%",width:"100%",backgroundColor:"white",border:"none"}),u.setAttribute("src","https://forms.yandex.ru/u/62d1740f9ff9566c865e6a59/?iframe=1&theme=lisa-fos&lang=ru");const h=e=>{let t;try{t=JSON.parse(e.data)}catch(hb){return void ah("Report bug form receive non-valid JSON string")}t["iframe-height"]&&(c.style.height=t["iframe-height"]+"px")};o.addEventListener("message",h),d.onload=()=>{const t=d.result;u.onload=()=>{setTimeout((()=>{var t,i,o,a,s,l;null==(t=u.contentWindow)||t.postMessage("pong","*"),null==(i=u.contentWindow)||i.postMessage(JSON.stringify({message:"set-question-value",slug:"data",value:JSON.stringify(n)}),"*"),null==(o=u.contentWindow)||o.postMessage(JSON.stringify({message:"set-question-value",slug:"block_id",value:e.blockId}),"*"),null==(a=u.contentWindow)||a.postMessage(JSON.stringify({message:"set-question-value",slug:"banner_id",value:e.bannerId}),"*"),null==(s=u.contentWindow)||s.postMessage(JSON.stringify({message:"set-question-value",slug:"VSID",value:fu}),"*"),null==(l=u.contentWindow)||l.postMessage(JSON.stringify({message:"set-question-value",slug:"url_page",value:ee(r).location}),"*")}),0),setTimeout((()=>{var e;const i="meta_"+(new Date).toISOString()+".json";null==(e=u.contentWindow)||e.postMessage(JSON.stringify({message:"set-question-value",slug:"answer_files",value:{format:"dataUrl",dataUrl:t,name:i}}),"https://forms.yandex.ru")}),0)}},c.appendChild(u),r.body.appendChild(a);const p=()=>{a.remove(),o.removeEventListener("message",h),a.removeEventListener("click",p)};a.addEventListener("click",p)})({vast:p,clickUrl:v,blockId:g,bannerId:f,videoContentSize:A,slotSize:y,slotParameters:_,wasVideoStarted:h},T)},buttonText:u("ABUSE_REPORT_PROBLEM"),leftIcon:yr(Ul,null)}))},kN=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const n=dE();return yr("div",{className:fN.locals.AbuseDisplay__hideDisplay},yr("div",{className:fN.locals.AbuseDisplay__text},n("ABUSE_IMPROVE_REASON_TEXT")),sh(c(t),(e=>yr(pN,{key:e,onClick:i[e],rightIcon:gN(e),buttonText:t[e]}))))},IN=e=>{let{className:t}=e;return yr(jl,{className:t})},ON=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:n,abuseCustomReasonTextHandler:r,setAbuseActiveDisplayType:o}=hw(),a=dE(),s=Jr((()=>{o(t)}),[t]);return yr("div",{className:fN.locals.AbuseDisplay__customReasonDisplay},yr("div",{className:fN.locals.AbuseDisplay__customReasonDisplayHeader},yr("div",{className:fN.locals.AbuseDisplay__arrowLeftIcon,onClick:s},yr(IN,null)),yr("div",{className:fN.locals.AbuseDisplay__hint},a("ABUSE_OPTION_ANOTHER_REASON"))),yr("div",{className:fN.locals.AbuseDisplay__messageBox},yr("textarea",{className:fN.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:a("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&r(t)},value:n}),yr(dN,{className:fN.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:fN.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:n})},a("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},DN=e=>{let{isVisibleAbuse:t,socialAdvertising:i}=e;va(AN());const{abuseVariantChooseHandler:n,abuseActiveDisplayType:r,setAbuseActiveDisplayType:o,isAbuseSubmitted:a,setAbuseSubmitted:s,setAbuseSubmitType:l,previousDisplayType:d,destroyCurrentViewer:u,setPreviousDisplayType:h,legalText:p,resetAbuseVisualState:m}=hw(),v=cT(),g=Vw(v),[f,A]=Yr(null),_={current:null};Gr((()=>{!t&&a&&(m(),u())}),[a,t,m]),Gr((()=>{if(g)return;const e=_.current;e&&A(e.offsetHeight+"px")}),[r,g]),Gr((()=>{g&&A(null)}),[g]);const y=Kr((()=>Q(Hb,((e,t)=>()=>{if(h(r),"hide"===t){if(i)return void n(t);o("hide"),l("hide"),s(!0),n(t,{noDestroyOnClick:!0,needToHideCreativesContainer:!0})}else if("complaint"===t)o("complaint"),l("complaint"),s(!0),n(t,{noDestroyOnClick:!0,needToHideCreativesContainer:!0});else if("anotherReasonAd"===t)o("message");else{const e="about"===t||"advertiserInfo"===t||"recommendationRules"===t;m(),n(t,{noDestroyOnClick:e})}}))),[n,r,i]),b=dE(),S=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),advertiserInfo:e("ABUSE_OPTION_ADVERTISER_INFO"),about:e("ABUSE_OPTION_ABOUT"),recommendationRules:e("RULES_LINK")}))(b),T=(e=>bc(c(Bb),((t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t}),{}))(b),E=((e,t)=>t?bc(c(Ub),((t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t}),{}):bc(c(Fb),((t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"politicalAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t}),{}))(b,i),w=bw(),C=ww(),P={height:null!=f?f:"",maxHeight:(()=>{if(g)return"";const e=w?166:C?60:46;return v.height-e+"px"})(),overflowY:g?"":"auto","--abuse-top":C?"60px":"36px"};return yr("div",{className:ha(fN.locals.AbuseDisplay,{[fN.locals.AbuseDisplay_fullSize]:g,[fN.locals.AbuseDisplay_visible]:t,[fN.locals.AbuseDisplay_positionLeftBottom]:w}),style:P,translate:!1},yr("div",{className:fN.locals.AbuseDisplay__content,ref:_},"default"===r?yr(PN,{isVisibleAbuse:t,legalInfoText:p,buttonTexts:S,onClickHandlers:y}):null,"hide"===r?yr(kN,{buttonTexts:T,onClickHandlers:y}):null,"complaint"===r?yr(_N,{buttonTexts:E,onClickHandlers:y}):null,"message"===r?yr(ON,{onClickHandler:n,previousDisplayType:d}):null))};var NN=e(5804),RN=e.n(NN);const xN=()=>{va(RN());const{isAbuseSubmitted:e,abusePlaceholderText:t,abusePlaceholderHint:i}=hw(),{width:n}=cT();if(!e)return null;const r=n<=640;return yr("div",{className:ha(NN.locals.AbusePlaceholder,{[NN.locals.AbusePlaceholder_place_left]:r,[NN.locals.AbusePlaceholder_place_center]:!r})},yr("div",{className:NN.locals.AbusePlaceholder__container},yr("div",{className:NN.locals.AbusePlaceholder__text},t),yr("div",{className:NN.locals.AbusePlaceholder__hint},i)))};var VN=e(8165),LN=e.n(VN);const MN=e=>{let{hideBurgerButtonBackground:t,abuseBurgerButtonPosition:i}=e;va(LN());const{abuseScreenCloseHandler:n,abuseButtonClickHandler:r,abuseDisplayStatus:o}=hw(),{socialAdvertising:a}=fP(),s=Fw(o),l=Pl((()=>(oa({control:s?"AdTuneScreenClose":"AdTuneScreenKebab",purpose:"adTune"}),s?n():r())));return yw()?yr("div",{className:ha(VN.locals.AbuseContainer,JD),translate:!1},yr(xN,null),yr(Bw,{onClickHandler:l,isActive:s,hideBackground:t,position:i}),yr(DN,{isVisibleAbuse:s,socialAdvertising:a})):null};var BN=e(5915),FN=e.n(BN);const UN=function(e){let{onEnter:t}=void 0===e?{}:e;const i=xD(),n=LD(),r=(()=>{const e=Zr(zD);return e&&e.value})()===n,o=Pl((()=>{r&&t&&t()}));return Gr((()=>{if(!i)return;const e=i.addEventListener("enter",o);return()=>{e()}}),[i]),i&&n?{isFocused:r}:{isFocused:!1}},HN=e=>{let{onClick:t}=e;return va(FN()),yr("div",{className:ha(BN.locals.AbuseSmartTVDisplay)},yr(zN,{onClick:t}))},zN=e=>{let{onClick:t}=e;return yr("div",{className:BN.locals.AbuseSmartTVDisplay__content},yr(jN,{onClick:t}),yr(YN,null))},jN=e=>{let{onClick:t}=e;const i=vw(),{legalText:n}=hw(),r=_w(),o=dE(),a=Kr((()=>{const e=i&&m(i.advertiserInfo);if(m(r)&&!e){const[e,...t]=Ou(r.split(","),(e=>e.trim()));return yr(Sr,null,yr("span",null,o("ADVERTISER"),": ",e),Ou(t,((e,t)=>yr("span",{key:t},e))),n&&yr("span",{className:BN.locals.AbuseSmartTVDisplay__newParagraph},n))}if(e){const[e,...t]=i.advertiserInfo.split(",");return yr("div",{className:BN.locals.AbuseSmartTVDisplay__advertiserInfo},yr("span",null,o("ADVERTISER"),": ",e),Ou(t,((e,t)=>yr(Sr,{key:t},yr("span",null,e)))),yr("span",{className:BN.locals.AbuseSmartTVDisplay__newParagraph},"erid: ",i.token),n&&yr("span",null,n))}return null}),[i,r,n]);return yr("div",{className:BN.locals.AbuseSmartTVDisplay_column_first},a,yr(FD,{debugName:"returnToAd",isFocusable:!0},yr(WN,{onClick:t})))},WN=e=>{let{onClick:t}=e;const i=dE(),{isFocused:n}=UN({onEnter:t});return yr("div",{className:BN.locals.AbuseSmartTVDisplay__buttonWrapper},yr("div",{className:ha(BN.locals.AbuseSmartTVDisplay__button,{[BN.locals.AbuseSmartTVDisplay__button_focused]:n}),onClick:t},i("RETURN_TO_AD")))},YN=()=>{const e=dE(),t=Kr((()=>{const e="recommendations";return Ou(Yb.split(e),((t,i)=>yr("span",{key:i},1===i?e+t:t)))}),[]);return yr("div",{className:BN.locals.AbuseSmartTVDisplay_column_second},yr("div",{className:BN.locals.AbuseSmartTVDisplay__qrDirect}),yr("span",{className:BN.locals.AbuseSmartTVDisplay_recommendationTitle},e("RULES_LINK")),t)};var GN=e(8943),qN=e.n(GN);const XN=e=>{let{onClickHandler:t}=e;va(qN());const{abuseButtonClickHandler:i}=hw(),{isFocused:n}=UN({onEnter:i});return yr("div",{onClick:t,className:GN.locals.AbuseSmartTVIcon},yr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"none"},yr("g",null,yr("rect",{width:"48",height:"48",rx:"24",fill:n?"#fff":"#000",fillOpacity:n?"1":".25"}),yr("path",{d:"M24 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM24 26.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM24 35.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",fill:n?"#000":"#fff"}))))},KN=()=>{const{abuseScreenCloseHandler:e,abuseButtonClickHandler:t,abuseDisplayStatus:i}=hw(),n=nE(),r=Fw(i),o=gw(n),a=Pl((()=>(oa({control:r?"AdTuneScreenClose":"AdTuneScreenKebab",purpose:"adTune"}),r?e():t())));return yw()?yr(Sr,null,o&&!r&&yr(FD,{debugName:"icon",focusPriority:!0,isFocusable:!0},yr(XN,{onClickHandler:a})),r&&yr(HN,{onClick:a})):null};var JN=e(9216),ZN=e.n(JN);const QN=()=>{va(ZN());const{abuseDisplayStatus:e}=hw(),t=Fw(e),i=nE(),n=dE(),{themeEmptyParameters:r}=TE(),o=!(null==r||!r.greenUrl),a=!!i.adLabel;return t||!o&&!a?null:yr("div",{className:JN.locals.InfoBlockSmartTV},o&&yr("span",null,r.greenUrl),o&&a&&yr("span",null," \u2022 "),a&&yr("span",{className:JN.locals.InfoBlockSmartTV__adLabel},n("AD_TITLE")))};var $N=e(9124),eR=e.n($N);su({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK"});const tR=e=>{let{className:t}=e;return va(eR()),yr(Wl,{className:ha($N.locals.SpinnerIcon__css_animated,t)})};var iR=e(4202),nR=e.n(iR);const rR=e=>{let{className:t}=e;return va(nR()),yr(tR,{className:ha(iR.locals.Spinner,t)})};var oR=e(8921),aR=e.n(oR);const sR=e=>{let{isPlayButtonAvailable:t}=e;va(aR());const{play:i}=YP(),n=(()=>{const{playingState:e,isStarted:t,isSlowStart:i}=YP(),{play:n,loader:r}=nE(),{isAbuseSubmitted:o,abuseDisplayStatus:a}=hw(),{isPackshotPlaying:s}=iC(),l=Vw(cT());if(o)return"none";const d=Fw(a)&&l,c="pause"===e,u=c&&!1!==n&&!d&&!s;return u||c||t||!i||!1===r?u?"paused":"none":"loading"})();if("loading"===n)return yr("div",{className:oR.locals.OverlayLayer__spinnerContainer},yr(rR,null));return t&&"paused"===n?yr("div",{className:oR.locals.OverlayLayer__playButtonContainer,onClick:()=>{oa({control:"OverlaysLayerPlayButton",purpose:"changePlayingState"}),i()}},yr(Yl,null)):null};var lR=e(4995),dR=e.n(lR),cR=e(6883),uR=e.n(cR),hR=e(7213),pR=e.n(hR);const mR=e=>{let{title:t,greenUrl:i}=e;return va(pR()),yr("div",{className:hR.locals.InfoBlock},i&&yr("div",{className:hR.locals.InfoBlock__greenUrl},yr(ew,{autoplayDelay:3e3},i)),t&&yr("div",{className:hR.locals.InfoBlock__title},yr(ew,{autoplayDelay:3e3},t)))};var vR=e(4610),gR=e.n(vR);const fR=e=>{va(gR());const{buttonLabel:t,size:i="small"}=e;return yr("button",{className:ha(vR.locals.ActionButton,{[vR.locals.ActionButton_width_100]:"big"===i,[vR.locals.ActionButton_height_38]:"big"===i})},yr("span",{className:ha(vR.locals.ActionButton__buttonText,{[vR.locals.ActionButton__buttonText_size_small]:"small"===i,[vR.locals.ActionButton__buttonText_size_middle]:"small"!==i})},t),yr(ql,null))},AR=260,_R=e=>{va(uR());const{faviconSrc:t,greenUrl:i,buttonLabel:n,title:r,onClickThru:o,targetUrl:a}=e,{width:s}=cT(),[l,d]=Yr(!1),[c,u]=Yr(!1),h=s<AR,p=s>=300;return Gr((()=>{if(l||!p)return;const e=setTimeout((()=>{l||u(!c)}),3e3);return()=>{clearTimeout(e)}}),[c,l,p]),Gr((()=>fs(iu.document,(e=>{d(!e)}))),[]),yr(IE,{isClickDisabled:!1,onClickThru:o,clickThruUrl:a,className:cR.locals.SmallActionPanel,onPointerEnter:()=>{d(!0)},onPointerLeave:()=>{d(!1)}},yr("div",{className:ha(cR.locals.SmallActionPanel__content,{[cR.locals.SmallActionPanel__slider]:p,[cR.locals.SmallActionPanel__content__minWidth_216]:p,[cR.locals.SmallActionPanel__slider_moving]:p&&c,[cR.locals.SmallActionPanel__content_left_padding_disable]:h})},yr(Uw,{size:"small",className:cR.locals.SmallActionPanel__abuseButton}),!h&&yr("div",{className:cR.locals.SmallActionPanel__faviconDomainContainer},yr("img",{src:t,alt:"",className:cR.locals.SmallActionPanel__faviconImg}),yr(mR,{greenUrl:i})),yr(fR,{buttonLabel:n}),p&&yr("div",{className:cR.locals.SmallActionPanel__title},r)))},yR=()=>{va(dR());const{themeEmptyParameters:e}=TE(),{ecomShopState:{isCtaEnabled:t,isDomainEnabled:i}}=rC(),n=aE(),r=lC(),{domain:o,ctaDomain:a,actionButton:s}=nE(),{clickThrough:l,clickUrl:d}=eE(),c=yO(),u=cT(),h=Jr((()=>{l({url:d,playerHandles:!0,clickSource:"SkinTopGreenUrl"})}),[l,d]),p=null==e?void 0:e.greenUrl;if(!p)return null;const m="videoInCombo"===r,v=u.width<AR&&!1!==a&&!1!==s,g=yr("div",Xl({className:ha(lR.locals.TopGreenUrl,{[lR.locals.TopGreenUrl_vic]:m})},qw(Xw.TOP_GREEN_URL)),yr(PE,{className:lR.locals.TopGreenUrl__Link,url:e.targetUrl,onClick:h},n&&yr("img",{className:lR.locals.TopGreenUrl__Favicon,src:n,alt:""}),v?yr(ew,{autoplay:!0},yr("span",{className:lR.locals.TopGreenUrl__Text},p)):yr("span",{className:lR.locals.TopGreenUrl__Text},p)));if(v)return g;if(i)return null;const f=c&&u.width<AR;return m||t||f?m&&!0!==o&&!f?null:g:null};var bR=e(9505),SR=e.n(bR);const TR=e=>{let{className:t,fill:i}=e;return va(SR()),yr(Jl,{className:ha(bR.locals.MuteIcon,{[bR.locals.MuteIcon_Fill]:i},t)})};var ER=e(1147),wR=e.n(ER);const CR=e=>{let{className:t,fill:i}=e;return va(wR()),yr(Zl,{className:ha(ER.locals.UnmuteIcon,{[ER.locals.UnmuteIcon_Fill]:i},t)})};var PR=e(5326),kR=e.n(PR);const IR=()=>{const{playingState:e}=YP(),t=nE(),{product:i,bannerId:n}=tD();va(kR());const{volumeStatus:r,setMuted:o}=lD(),a="videoInCombo"===lC(),s="unmuted"===r;return Kl({playingState:e,volumeStatus:r,controlsVisibility:t})?yr("div",Ql({className:PR.locals.TopMuteButton,onClick:s?()=>{oa({control:"TopMuteButton",purpose:"changeVolume",product:i,bannerId:n}),o(!0)}:()=>{oa({control:"TopUnmuteButton",purpose:"changeVolume",product:i,bannerId:n}),o(!1)}},qw(Xw.MUTE_UNMUTE)),yr(s?TR:CR,{fill:a})):null};var OR=e(8944),DR=e.n(OR);const NR=e=>{let{className:t}=e;va(DR());const{playingState:i,play:n,pause:r}=YP();return yr("div",{className:ha(OR.locals.TopPlayButton,t),onClick:()=>{const e="pause"===i,t=e?n:r;oa({control:e?"TopPlayButton":"TopPauseButton",purpose:"changePlayingState"}),t()}},yr("pause"===i?Yl:$l,null))};var RR=e(2609),xR=e.n(RR);const VR=e=>{let{className:t}=e;va(xR());const{isVisible:i,toggle:n}=oD();return yr("div",{className:ha(RR.locals.TopSubtitlesButton,t),onClick:()=>{oa({control:i?"TopSubtitlesOnButton":"TopSubtitlesOffButton",purpose:"changeSubtitlesState"}),n()}},yr("div",{className:RR.locals.TopSubtitlesButton__Inner},yr(i?td:ed,null)))};var LR=e(5291),MR=e.n(LR);const BR=e=>{let{isPlayButtonAvailable:t}=e;va(MR());const i="small"===aC(),{width:n}=cT(),{product:r}=tD(),o=Boolean(r),a=bC(),s=nE(),l="videoInCombo"===lC(),{isPackshotPlaying:d}=iC(),{videoInComboNewPackshotVisibility:c}=gC(),u=(i||l||o)&&(!d||!1===c||d&&a),h=u,p=oD().isAllowed&&!1!==s.subtitlesButton&&u,{ecomShopState:m}=rC(),v=(!d||d&&a)&&!(null!=m&&m.isDomainEnabled)||n<AR,g=ha(LR.locals.TopControlsLayer,o&&LR.locals.TopControlsLayer_withLeftTopOffset),f=l?(e=>{if(!(e<=Pw))return{"--responsive-multiplier":e/Pw}})(n):void 0,A=ha(LR.locals.TopControlsLayer__Button,!l&&LR.locals.TopControlsLayer__Button_topFix);return yr(Sr,null,yr("div",{className:g,style:f},h&&yr(IR,null),p&&yr(VR,{className:A}),t&&yr(NR,{className:A}),v&&yr(yR,null)))};var FR=e(1090),UR=e.n(FR);const HR=e=>{let{onClick:t}=e;return va(UR()),t?yr("div",{className:FR.locals.UnderlyingLayer,onClick:t}):null};var zR=e(3883),jR=e.n(zR),WR=e(5108),YR=e.n(WR);const GR=e=>{let{className:t}=e;va(YR());const{skipCallback:i,timeToSkip:n}=yE(),r=Pl((()=>{oa({control:"SkipButton",purpose:"skip"}),i()})),{isFocused:o}=UN({onEnter:r}),a=cT(),{ecomShopState:s}=rC(),l=cE(),d=ZO(),c=SC(TE().themeEmptyParameters),u=id(n),h=l("SKIP"),p=0===n;if(Wm)return yr(KR,{isActive:p,isFocused:o,countdownString:u,skipTitle:h,onClick:r});const m=ha(t,WR.locals.SkipButton__clickable,p&&WR.locals.SkipButton_active),v=ha(WR.locals.SkipButton,c&&WR.locals.SkipButton_rmpVersion),g=s.isCtaEnabled?360:320,f=a.width>g;let A;return A="startVideo"===d.type||"continueVideo"===d.type?d.poster:[],yr("button",{className:m,onClick:r},yr("div",{className:v},f&&yr(XR,{skipTitle:h,image:A}),yr("div",{className:WR.locals.SkipButton__contentRight},yr(qR,{countdownString:u}))))},qR=e=>{let{countdownString:t}=e;if(!t)return yr(Qw,{className:WR.locals.SkipButton__icon});const[i,n]=t;return yr("div",{className:WR.locals.SkipButton__timeToSkipString},yr("span",{className:WR.locals.SkipButton__timeToSkipString__leftDigit},i),yr("span",{className:WR.locals.SkipButton__timeToSkipString__rightDigit},n))},XR=e=>{let{skipTitle:t,image:i}=e;return yr("div",{className:WR.locals.SkipButton__contentLeft},i.length>0?yr("img",{src:i[0].url,className:WR.locals.SkipButton__leftImage}):yr("div",{className:WR.locals.SkipButton__skipText},t))},KR=e=>{let{onClick:t,skipTitle:i,countdownString:n,isFocused:r,isActive:o}=e;return yr("div",{onClick:t,className:ha(WR.locals.SkipButton_smartTV,{[WR.locals.SkipButton_smartTV_active]:o,[WR.locals.SkipButton_smartTV_focused]:r})},yr("div",{className:ha(WR.locals.SkipButton_smartTV__text,WR.locals.SkipButton_smartTV__skipTitle)},i),n&&yr("div",{className:ha(WR.locals.SkipButton_smartTV__text,WR.locals.SkipButton_smartTV__timeToSkip)},Ou(n.split(""),((e,t)=>yr("span",{key:t},e)))))};var JR=e(6936),ZR=e.n(JR),QR=e(221),$R=e.n(QR);const ex=e=>{va($R());const t=hE(),{size:i,product:n,hideText:r,inert:o}=e,{priceInfo:a,image:s,text:l}=n,d=Kr((()=>{const e=("m"===i?60:40)*gn(window);return oA(s,e)}),[i,s]);return yr("div",{className:ha(QR.locals.EcomCtaCard,{[QR.locals.EcomCtaCard_size_m]:"m"===i,[QR.locals.EcomCtaCard_size_s]:"s"===i,[QR.locals.EcomCtaCard_withPrice]:a}),inert:o},yr("img",nd({className:QR.locals.EcomCtaCard__Image,src:d,alt:""},qw(Xw.ECOM_ITEM_IMG))),!r&&yr("div",{className:QR.locals.EcomCtaCard__Content},a&&yr("span",nd({className:QR.locals.EcomCtaCard__Price},qw(Xw.ECOM_ITEM_PRICE)),Is(a.price,a.currency,t,0)),yr(Kk,nd({className:QR.locals.EcomCtaCard__Text,text:l,minWordLength:15,title:l},qw(Xw.ECOM_ITEM_NAME)))))};var tx=e(5087),ix=e.n(tx);const nx=e=>{const{size:t,hideText:i,inert:n,className:r}=e;va(ix());const{themeEmptyParameters:o}=TE(),{greenUrl:a=""}=o||{},s=aE();return yr("div",{className:ha(tx.locals.EcomCtaDomain,{[tx.locals.EcomCtaDomain_size_m]:"m"===t,[tx.locals.EcomCtaDomain_size_s]:"s"===t},r),inert:n},yr("div",{className:tx.locals.EcomCtaDomain__FavIcon},yr("img",rd({src:s,alt:"favicon"},qw(Xw.ECOM_DOMAIN_FAVICON)))),!i&&yr("div",{class:tx.locals.EcomCtaDomain__Content},yr("div",rd({className:tx.locals.EcomCtaDomain__Text},qw(Xw.ECOM_DOMAIN_TEXT)),yr(ew,{autoplayDelay:3e3},a))))},rx=(e,t)=>(t+1)%e.length,ox=e=>e.length>1,ax=e=>{va(ZR());const{size:t,hideText:i,products:n,onProductClick:r,paused:o,initialDelay:a=0,innerRef:s,showDomainOnPause:l,onDomainClickThrough:d,targetUrl:c}=e,u=cE(),h=Xr(),p=Xr(null),m=Xr(),v=Xr(!0),[g,f]=Yr(0),A=Kr((()=>l?function(e){let{products:t=[],targetUrl:i}=e;const n=t.length%2===0||1===t.length?[...t]:[...t,...t];return bc(n,((e,t,n)=>n%2===0?[...e,od(i),t]:[...e,t]),[])}({products:n,targetUrl:c}):n),[l,n,c]),[_,y]=Yr(A.length?A[0]:null),[b,S]=Yr((()=>ox(A)?A[rx(A,0)]:null)),[T,E]=Yr(!1),[w,C]=Yr(!1),P=o&&l,k=Jr((()=>{null!=_&&_.isDomain||P?null==d||d():_&&(null==r||r(_))}),[_,r,d,P]),I=()=>{C(!0)},O=()=>{C(!1)};h.current=Jr((()=>{E(!1);const e=rx(A,g);f(e),y(A[e]);const t=rx(A,e);S(A[t])}),[A,g]),Gr((()=>{if(!ox(A))return;const e=e=>{e.target===p.current&&(null==h.current||h.current())};return p.current&&p.current.addEventListener("transitionend",e),()=>{p.current&&p.current.removeEventListener("transitionend",e)}}),[A]),Gr((()=>{if(!ox(A)||w||o)return;let e=2e3;return v.current&&(e+=a,v.current=!1),m.current=setTimeout((()=>{w||o||E(!0)}),e),()=>{m.current&&clearTimeout(m.current)}}),[A,g,w,o]),Gr((()=>fs(document,(e=>{C(!e)}))),[]);let D=[];return _&&b?D=[_,b]:_&&(D=[_]),yr(PE,ad({className:ha(JR.locals.EcomCta,{[JR.locals.EcomCta_size_m]:"m"===t,[JR.locals.EcomCta_size_s]:"s"===t,[JR.locals.EcomCta_hideText]:i}),innerRef:s,url:P?c:null==_?void 0:_.link,onClick:k,onFocus:I,onBlur:O},qw(Xw.CTA_PANEL)),yr(Uw,{className:JR.locals.EcomCta__AbuseInCta}),yr("div",{className:JR.locals.EcomCta__Clip,onPointerEnter:I,onPointerLeave:O},yr("div",{className:ha(JR.locals.EcomCta__Slider,{[JR.locals.EcomCta__Slider_moving]:T}),ref:p},yr("div",{class:ha(JR.locals.EcomCta__Inner,{[JR.locals.EcomCta__Inner_hidden]:P})},sh(D,((e,n)=>{const r=0===n?g:rx(A,g);return e.isDomain?yr(nx,{key:r,size:t,inert:0!==n,hideText:i}):yr(ex,{key:r,size:t,product:e,inert:0!==n,hideText:i})}))),l&&yr(nx,{size:t,hideText:i,className:ha(JR.locals.EcomCta__Domain,{[JR.locals.EcomCta__Domain_hidden]:!P})})),yr("div",{className:JR.locals.EcomCta__Button},yr(Kw,{size:"big"},u("THEME_EMPTY_ACTION_BUTTON_LABEL")))))};var sx=e(4918),lx=e.n(sx);const dx=e=>{va(lx());const{one:t,two:i,condition:n}=e,r=cT(),[o,a]=Yr(void 0),[s,l]=Yr(n),d=Xr(null),c=Xr(null),u=Xr(!1);Gr((()=>{if(!u.current)return;const e=n?d.current:c.current;if(!e)return;const t=()=>{e.style.maxWidth=""};return e.style.maxWidth=e.getBoundingClientRect().width+"px",e.addEventListener("transitionend",t,{once:!0}),l(n),()=>{null==e||e.removeEventListener("transitionend",t)}}),[n]),Gr((()=>{var e,t;u.current=!0;const i=null==(e=d.current)?void 0:e.offsetHeight,n=null==(t=c.current)?void 0:t.offsetHeight;i&&n&&a(Math.max(i,n))}),[r]);const h=ha(sx.locals.ActionFlip,{[sx.locals.ActionFlip_mounted]:u.current}),p=ha(sx.locals.ActionFlip__Item,{[sx.locals.ActionFlip__Item_hidden]:s}),m=ha(sx.locals.ActionFlip__Item,{[sx.locals.ActionFlip__Item_hidden]:!s});return yr("div",{className:h,style:{height:o}},yr("div",{className:p,ref:d},t),yr("div",{className:m,ref:c},i))};var cx=e(5237),ux=e.n(cx);const hx=e=>{va(ux());const{faviconSrc:t,greenUrl:i,buttonLabel:n,title:r,onClickThru:o,targetUrl:a}=e;return yr(IE,{isClickDisabled:!1,onClickThru:o,clickThruUrl:a,className:cx.locals.MiddleActionPanel},yr(Uw,{size:"small",className:cx.locals.MiddleActionPanel__abuseButton}),yr("div",{className:cx.locals.MiddleActionPanel__faviconContainer},yr("img",{src:t,alt:"",className:cx.locals.MiddleActionPanel__faviconImg})),yr("div",{className:cx.locals.MiddleActionPanel__text},yr("span",null,i),yr("span",{className:cx.locals.MiddleActionPanel__title},r)),yr(fR,{buttonLabel:n,size:"middle"}))};var px=e(1271),mx=e.n(px),vx=e(8977),gx=e.n(vx),fx=e(8380),Ax=e.n(fx);const _x=()=>{va(Ax());const{label:e,dspLabel:t,tooltipText:i,onClick:n,domain:r}=DP();return!1===nE().adLabel?null:yr(PE,sd({className:ha(fx.locals.BackpackAdLabel,JD),tooltip:i,onClick:n},qw(Xw.AD_LABEL)),e,t&&" | "+t,r&&" | "+r)};var yx=e(5770),bx=e.n(yx);const Sx=()=>{va(bx());const e=Zr(KO),t=nE(),i=dE();return!e||e.count<=1||!1===t.backpackAdSequence?null:yr("span",{className:yx.locals.BackpackAdSequence},e.index+1," ",i("OF")," ",e.count)},Tx="data-age-restriction",Ex=()=>{const{themeEmptyParameters:e}=TE(),t=nE(),{ageRestriction:i}=e||{};return!1!==t.ageLabel&&m(i)?yr("span",{[Tx]:!0},i):null},wx=()=>{const e=vw(),t=[];return null!=e&&e.advertiserInfo&&t.push(e.advertiserInfo),null!=e&&e.token&&t.push("erid: "+e.token),t.length?yr("span",{style:{paddingRight:"16px"}},t.join(" \u2022 ")):null},Cx=e=>{va(gx());const t=yr("div",{className:ha(vx.locals.Backpack,{[vx.locals.Backpack_defaultStyles_enabled]:!e.disableDefaultStyle}),translate:!1},yr(_x,null),yr(Sx,null),yr(Ex,null),Wm&&yr(wx,null),!e.disableBusinessUnit&&yr(UP,{isSmall:!0,theme:"light",showTooltipArrow:!1,position:"bottom"}));return Wm?yr(ew,null,t):t},Px=e=>{va(mx());const{faviconSrc:t,greenUrl:i,buttonLabel:n,title:r,onClickThru:o,targetUrl:a}=e;return yr(IE,{isClickDisabled:!1,onClickThru:o,clickThruUrl:a,className:px.locals.BigActionPanel},yr(Uw,{size:"big",hideBackground:!1}),yr("div",{className:px.locals.BigActionPanel__content},yr("div",{className:px.locals.BigActionPanel__header},yr("div",{className:px.locals.BigActionPanel__faviconContainer},yr("img",{src:t,alt:"",className:px.locals.BigActionPanel__faviconImg})),yr("div",{className:px.locals.BigActionPanel__urlAndAdLabel},yr("div",{className:px.locals.BigActionPanel__url},yr(ew,null,i)),yr("div",{className:px.locals.BigActionPanel__adLabel},yr(Cx,{disableDefaultStyle:!0,disableBusinessUnit:!0}),yr(UP,{isSmall:!0,theme:"light",showTooltipArrow:!1,position:"bottom"})))),yr("div",{className:px.locals.BigActionPanel__title},r),yr(fR,{buttonLabel:n,size:"big"})))},kx=e=>{const t=cE(),{size:i="small",onClickThrough:n}=e,r=aC(),o=ld({},e,{title:m(e.title)?e.title:t("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),buttonLabel:!m(e.buttonLabel)||"small"===r&&"big"!==i||e.buttonLabel.length>10&&"big"!==i?t("THEME_EMPTY_ACTION_BUTTON_LABEL"):e.buttonLabel,onClickThru:()=>{n({clickSource:"ActionPanel",playerHandles:!0,url:void 0})}});return yr("big"===i?Px:"middle"===i?hx:_R,o)},Ix=e=>{var t;let{compactMode:i,onProductClick:n,renderRmpVersion:r=!1}=e;const{themeEmptyParameters:o}=TE(),{clickThrough:a,clickUrl:s}=eE(),{ecomShopState:l}=rC(),{isPackshotPlaying:d}=iC(),{isEcomShopVisible:c,shouldRestrictActionPanelWidth:u}=qa(),h=cT(),p=bO(),{greenUrl:m,label:v,targetUrl:g,title:f}=o||{},A=aE(),_=PT(),y=Jr((()=>{a({url:s,playerHandles:!0,clickSource:"SkinActionButton"})}),[a,s]),b=Jr((()=>{a({url:s,playerHandles:!0,clickSource:"EcomCtaDomain"})}),[a,s]);if(Gr((()=>{s||_({name:"ThemeEmpty_noClickUrl"})}),[s]),!o)return null;if(!s)return null;const S=e=>SC(o)?yr(lP,{compactMode:i,isVideInComboRmp:r}):p?yr(kx,{title:f,greenUrl:m,buttonLabel:v,targetUrl:g,faviconSrc:A,size:p,onClickThrough:y}):i?yr(IC,{showLabelOnButton:!0,faviconSrc:A,hasFixedWidth:u}):yr(CC,{greenUrl:m,buttonLabel:v,targetUrl:g,onClickThrough:y,faviconSrc:A,domainSize:e?"m":"s",hasFixedWidth:u});if(l.isCtaEnabled&&null!=l&&null!=(t=l.ecomShop)&&t.products){const e=h.width<260,t=c||d,r=yr(ax,{size:i?"s":"m",hideText:e,products:l.ecomShop.products,onProductClick:n,onDomainClickThrough:b,paused:c,showDomainOnPause:null==l?void 0:l.isDomainEnabled,targetUrl:g});return null!=l&&l.isDomainEnabled?r:yr(dx,{one:r,two:S(!0),condition:t})}return S()};var Ox=e(8949),Dx=e.n(Ox),Nx=e(2048),Rx=e.n(Nx),xx=e(6877),Vx=e.n(xx);const Lx=e=>{let{icon:t,onClick:i,className:n,disabled:r=!1,dataName:o}=e;return va(Vx()),yr("div",dd({className:ha(xx.locals.ControlPanelButton,n,r&&xx.locals.ControlPanelButton_disabled),onClick:r?void 0:i},qw(o)),t)},Mx=e=>{let{className:t}=e;const{playingState:i,play:n,pause:r}=YP();return yr(Lx,{className:t,onClick:()=>{oa({control:"pause"===i?"ControlPanelPlayButton":"ControlPanelPauseButton",purpose:"changePlayingState"}),"pause"===i?n():r()},icon:yr("pause"===i?Yl:$l,null)})};var Bx=e(7711),Fx=e.n(Bx);const Ux=e=>{let{variant:t="slider",disabled:i=!1}=e;va(Fx());const{volumeStatus:n,setMuted:r,setVolume:o,volume:a}=lD(),s="unmuted"===n,[l,d]=Yr(!1),[c,u]=Yr(!1),h="slider"===t&&!i,p=h&&(c||l),m=Xr(null);return yr("div",{onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},className:ha(Bx.locals.ControlPanelSoundButton,p&&Bx.locals.ControlPanelSoundButton_opened)},yr(Lx,{onClick:()=>{oa({control:s?"MuteButton":"UnmuteButton",purpose:"changeVolume"}),r(s)},disabled:i,icon:yr(Hx,{volume:a}),dataName:Xw.MUTE_UNMUTE}),h?yr("div",{className:Bx.locals.ControlPanelSoundButton__SliderContainer,onMouseDown:e=>{if(!m.current)return;u(!0);const{left:t,width:i}=m.current.getBoundingClientRect(),n=m.current.ownerDocument,r=e=>{const n=Gn((e.clientX-t)/i,0,1);o(n)},a=()=>{u(!1),null==n||n.removeEventListener("mousemove",r),null==n||n.removeEventListener("mouseup",a)};n.addEventListener("mousemove",r),n.addEventListener("mouseup",a),r(e)},ref:m,onClick:()=>{oa({control:"VolumeSlider",purpose:"changeVolume"})}},yr("div",{className:Bx.locals.ControlPanelSoundButton__SliderContainerLiner}),yr("div",{className:Bx.locals.ControlPanelSoundButton__SliderContainerThumbContainer},yr("div",{className:Bx.locals.ControlPanelSoundButton__SliderContainerThumb,style:{left:Math.round(100*a)+"%"}}))):null)},Hx=e=>{let{volume:t}=e;return yr(0===t?hd:t<.24?cd:t<.5?ud:pd,null)};var zx=e(4272),jx=e.n(zx);const Wx=e=>{let{className:t}=e;va(jx());const{toggleFullscreen:i,isFullscreen:n}=Zr(mD);return yr(Lx,{className:ha(zx.locals.ControlPanelFullscreenButton,t),onClick:()=>{oa({control:n?"FullscreenExitButton":"FullscreenOpenButton",purpose:"changeFullscreenState"}),i()},icon:yr(n?vd:md,null)})};var Yx=e(3989),Gx=e.n(Yx);const qx=e=>{let{className:t}=e;va(Gx());const{isVisible:i,toggle:n}=oD();return yr(Lx,{className:ha(Yx.locals.ControlPanelSubtitlesButton,t),onClick:()=>{oa({control:i?"SubtitlesOnButton":"SubtitlesOffButton",purpose:"changeSubtitlesState"}),n()},icon:yr(i?td:ed,null)})},Xx=e=>{let{className:t}=e;va(Rx());const{playingState:i}=YP(),{volumeStatus:n}=lD(),{supportsFullscreen:r}=tD(),o=nE(),{isTouchScreenDevice:a}=XE(),{isPackshotPlaying:s}=iC(),l=Kl({controlsVisibility:o,volumeStatus:n,playingState:i}),d=Gl({controlsVisibility:o,playingState:i}),c=oD().isAllowed&&!1!==o.subtitlesButton&&!s;return l||r||d?yr("div",{className:ha(Nx.locals.ControlPanelControls,t)},d&&yr(Mx,{className:Nx.locals.ControlPanelControls__playButton}),l&&yr(Ux,{variant:a?"toggle":"slider"}),c&&yr(qx,{className:Nx.locals.ControlPanelControls__PushRight}),r&&yr(Wx,{className:Nx.locals.ControlPanelControls__PushRight})):null};var Kx=e(4675),Jx=e.n(Kx);const Zx=e=>{let{className:t}=e;va(Jx());const i=SD(),n=nE(),r=i.value;return!1!==n.timeline?yr("div",{className:ha(Kx.locals.ControlPanelTimeLine_container,t)},yr("div",gd({},qw(Xw.TIMELINE),{className:ha(Kx.locals.ControlPanelTimeLine)}),yr("div",{className:ha(Kx.locals.ControlPanelTimeLine__bar,{[Kx.locals.ControlPanelTimeLine__bar_full]:r>=1}),style:{width:100*r+"%"}}))):null},Qx=()=>{va(Dx());const{creativeType:e}=wP(),i="survey"===e,n=aC(),r=yO(),{height:o}=cT(),{disclaimerInfo:a}=qa();let s=i?0:o*pC;r&&!i&&(s=a?o*a.mandatoryHeightPortion:0);const l=(()=>{const{creativeType:e}=wP(),i="survey"===e,n="videoInCombo"===lC(),r="TRUE"===Tu.getFlagValueAndActivateTestId("VAS_NEW_SKIN_DELAY_INITIAL_PANEL_MINIMIZATION"),o=SD().value,a=XO(),s=t(a)?o*a:0,{isHovered:l}=Zr(HO),{playingState:d}=YP(),c="small"===aC(),u="pause"===d,[h,p]=Yr((()=>!r&&!c)),[m,v]=Yr(!r),g=Xr(null);return Gr((()=>{m||s<3||v(!0)}),[m,s]),qr((()=>i||n?p(!0):m?(null!==g.current&&clearTimeout(g.current),c||l||u?p(!1):(g.current=setTimeout((()=>{p(!0)}),.5*L_),()=>{f(clearTimeout)&&null!==g.current&&clearTimeout(g.current)})):void 0),[l,c,u,m,i,n]),h})(),d="small"===n||i,{controlPanel:c,timeline:u,play:h}=nE(),p="videoInCombo"===lC(),{supportsFullscreen:m}=tD(),v=function(){const{adLabel:e,ageLabel:t,businessUnitAdLabel:i,backpackAdSequence:n}=nE(),r=!1!==e||!1!==i||!1!==t||!1!==n,o=bO(),{isPackshotPlaying:a}=iC();return r&&("big"!==o||a)}();if(!1===c&&!1===v&&!1===u&&!1===h)return null;const g=!d&&!p&&!i,A=p||i||!(v||g);return yr("div",{style:{minHeight:s},className:ha(Ox.locals.ControlPanel,{[Ox.locals.ControlPanel_small]:d,[Ox.locals.ControlPanel_withoutShadow]:A,[Ox.locals.ControlPanel_minimized]:l})},yr("div",{className:Ox.locals.ControlPanel__backpackLine},v&&yr(Cx,null),"small"===n&&m&&yr(Wx,{className:Ox.locals.ControlPanel__fullscreenButton})),yr(Zx,{className:Ox.locals.ControlPanel__timeLine}),g&&yr(Xx,{className:Ox.locals.ControlPanel__controls}))};var $x=e(9823),eV=e.n($x);const tV=jr("xs");tV.Provider.displayName="SurveySizingContext";var iV=e(3641),nV=e.n(iV);const rV=e=>{let{isSimple:t,forceSizing:i,styleVariables:n={}}=e;va(nV());const{timeToSkip:r,skipCallback:o}=yE(),a=dE(),s=Zr(tV),l=null!=i?i:s,d=r>0;let c;c=t?ha(iV.locals.SurveySkipButton,iV.locals.SurveySkipButton_size_l,{[iV.locals.SurveySkipButton_disabled]:d}):ha(iV.locals.SurveySkipButton,{[iV.locals.SurveySkipButton_disabled]:d,[iV.locals.SurveySkipButton_size_l]:"l"===l,[iV.locals.SurveySkipButton_size_m]:"m"===l,[iV.locals.SurveySkipButton_size_s]:"s"===l,[iV.locals.SurveySkipButton_size_xs]:"xs"===l});const u=Math.ceil(r);return yr("div",{className:ha(iV.locals.SurveySkipButton_clickable),onClick:o},yr("div",{className:c,style:n},yr("div",null,a("SURVEY_SKIP_BUTTON_TEXT")),d&&yr("div",{className:ha(iV.locals.SurveySkipButton__timer)},String(u).padStart(2,"0"))))},oV=e=>{let{translate:t,onClick:i}=e;const n=t("SURVEY_PACKSHOT_COMPANY").split(" "),r=t("SURVEY_AD_LABEL"),{skip:o}=nE(),{width:a}=cT(),s=a/2-107.5-34-10-10>115,l=!1!==o;return yr(Sr,null,yr("div",{className:ha($x.locals.SurveyHeader,$x.locals.SurveyHeader_background_none,s&&$x.locals.SurveyHeader_justifyContent_center,$x.locals.SurveyHeader_modern)},yr("div",{className:ha($x.locals.SurveyHeader__adLabel),onClick:i},yr("div",{className:ha($x.locals.SurveyHeader__adLabelText,$x.locals.SurveyHeader__logoText)},n[0]),yr("div",{className:$x.locals.SurveyHeader__adLabelIcon}),yr("div",{className:ha($x.locals.SurveyHeader__adLabelText,$x.locals.SurveyHeader__logoText)},n[1]),yr("div",{className:ha($x.locals.SurveyHeader__adLabelText,$x.locals.SurveyHeader__logoText)},"\xb7 "+r))),yr("div",{className:$x.locals.SurveyHeader_skipWrapper},l&&yr(rV,{isSimple:!1,forceSizing:"s",styleVariables:{"--survey-buttons-padding":"8px 12px","--survey-buttons-line-height":"17px","--survey-buttons-font-size":"14px"}})))},aV=e=>{let{translate:t,onClick:i,shouldHideBackground:n,adLabelPosition:r}=e;return yr("div",{className:ha($x.locals.SurveyHeader,{[$x.locals.SurveyHeader_background_none]:n,[$x.locals.SurveyHeader_justifyContent_center]:"center"===r})},yr("div",{className:ha($x.locals.SurveyHeader__adLabel),onClick:i},yr("div",{className:ha($x.locals.SurveyHeader__adLabelIcon)}),yr("div",{className:ha($x.locals.SurveyHeader__adLabelText)},t("SURVEY_PACKSHOT_COMPANY")+" \xb7 "+t("SURVEY_AD_LABEL"))))},sV=e=>{let{onClick:t,shouldHideBackground:i}=e;va(eV());const n=dE(),r=Zr(fD),o=Zr(AD),a=ww();if(o)return null;return yr(a?oV:aV,{translate:n,adLabelPosition:r,shouldHideBackground:i,onClick:t})},lV=.55;var dV=e(5206),cV=e.n(dV);const uV=e=>{const{className:t}=e;va(cV());const i=Xr(null),r=cT(),o=Zr(jO),[l,d]=Yr(void 0),{fontSize:u,lineHeight:h}=function(e){let{width:t,height:i}=e;const n=t*i;let r,o;switch(!0){case n<8e4:r=12,o=15;break;case n<12e4:r=13,o=17;break;case n<34e4:r=16,o=20;break;case n<78e4:r=18,o=22;break;default:r=20,o=24}return{fontSize:r,lineHeight:o}}(r),{playingState:p}=YP(),[m,v]=Yr(0),[g,f]=Yr(!1),{isAllowed:A,isVisible:_,rawCues:y,videoNode:b,absoluteBottom:S,allow:T}=oD(),E=void 0!==S,w=PT(),C=Kr((()=>{let e=[];try{e=(e=>{if(!tc(e))throw new Error("Not an Array");return sh(e,((e,t)=>{if(!n(e))throw new Error("Cue is not an object");if(!Jt(e.start_time)||!Jt(e.end_time))throw new Error("Time format is wrong");if(!s(e.text))throw new Error("Text is not a string");return{id:t,start:e.start_time/L_,end:e.end_time/L_,text:e.text}}))})(y)}catch(hb){return void w({name:"SubtitlesParseError",data:{message:hb.message}})}return e}),[y]),P=Kr((()=>a(((e,t,i)=>{w({name:"SubtitlesInfo",data:{lengths:sh(t,(e=>e.text.length)),slotSize:i},dailySensors:{show:e}})}))),[]),k=Kr((()=>C?function(e,t,i){t-=.8*i;const n={};for(let r=0;r<e.length;r++){const o=_d(e[r].text,t,i);o&&(n[r]=o)}if(c(n).length>0){const t=[];for(let i=0;i<e.length;i++){const r=e[i],o=n[i];if("object"===typeof o){const n=e.length+2*i;t.push({id:n,start:r.start,end:r.end,text:o.text1},{id:n+1,start:r.start,end:r.end,text:o.text2})}else t.push(r)}return t}return e}(C,r.width,u):void 0),[C,r.width,u]);return Gr((()=>{if(!_||"play"!==p||!b||g)return;let e;const t=()=>{v(b.currentTime),e=setTimeout(t,50)};return t(),()=>{clearTimeout(e)}}),[_,p,b,g]),Gr((()=>fs(document,(e=>{f(!e)}))),[]),Gr((()=>{if(!o||!i.current||!C)return;const e=r.width,t=r.height,n=e<500||t<500,a=e/(o.width/o.height),s=(t-a)/2>120;let l=!0,c=0;if((n||s)&&void 0===S){const e=i.current,r=e.offsetTop+e.offsetHeight;if(n&&(t-r+2*h)/t*100>(Number(Tu.getFlagValue("VAS_SUBTITLES_PERC"))||41)&&(l=!1),l&&s){const e=r-t/2-a/2;e>2.5*h&&(c=e-2.5*h)}}let u=!1;l&&(u="TRUE"!==Tu.getFlagValueAndActivateTestId("VAS_SUBTITLES_OFF")),Tu.getFlagValueAndActivateTestId("VAS_SUBTITLES_PERC"),T(u),d(c>0?c:0),P(u,C,r)}),[r,o,h,S,C]),k?yr("div",{className:ha(dV.locals.Subtitles,E&&dV.locals.Subtitles_absolute,t),ref:i,style:{"--font-size":fd(u),"--line-height":fd(h),paddingBottom:l&&l>0?fd(l):void 0,bottom:E?S:void 0}},A&&_&&sh(function(e,t){return yu(e,(e=>{let{start:i,end:n}=e;return t>=i&&t<=n}))}(k,m),(e=>yr("div",{key:e.id,className:dV.locals.Subtitles__Line},e.text)))):null};var hV=e(8246),pV=e.n(hV);const mV=e=>{let{className:t,style:i}=e;return yr(yd,{className:t,style:i})},vV=()=>{va(pV());const{skipCallback:e,timeToSkip:t}=yE(),i=cT(),n=dE(),r=ZO(),o=id(t),a=n("SKIP"),s=0===t;let l;l="startVideo"===r.type||"continueVideo"===r.type?r.poster:[];const d=i.width>=320;return yr("button",{className:ha(hV.locals.ThemeEmptySkipButton,{[hV.locals.ThemeEmptySkipButton_active]:s}),onClick:()=>{s&&(oa({control:"SkipButton",purpose:"skip"}),e())}},yr("div",{className:hV.locals.ThemeEmptySkipButton__content},yr(gV,{countdownString:o}),d&&yr(fV,{skipTitle:a,image:l})))},gV=e=>{let{countdownString:t}=e;if(!t)return yr(mV,{className:hV.locals.ThemeEmptySkipButton__icon});const[i,n]=t;return yr("div",null,i,n)},fV=e=>{let{skipTitle:t,image:i}=e;return i.length>0&&yr("img",{src:i[0].url,className:hV.locals.ThemeEmptySkipButton__poster}),yr("div",null,t)},AV={small:36,middle:46,big:38},_V=()=>{var e;va(jR());const{pause:t}=YP(),{playingState:i}=YP(),{creativeType:n}=wP(),r="themeEmpty"===n,o="survey"===n,a=Zr(gD),s=Zr(ED),l=bw(),{onClick:d}=DP(),c=nE(),{ecomShopState:u}=rC(),{themeEmptyParameters:h}=TE(),{isPackshotPlaying:p}=iC(),v=ww(),{isActionButtonVisible:g,isSkipButtonVisible:f,isSkipButtonCanBeVisible:A,shouldUseTwoLinesLayout:_,fontSize:y,skipButtonFontSize:b,disclaimerInfo:S,isEcomShopVisible:T,shouldUseSmallCta:E,isVerticalFormat:w,ecomShop:C,skinSize:P,shouldHideSurveyHeaderBackground:k}=qa(),I=bO(),O=lC(),{socialAdvertising:D}=fP(),{abuseDisplayStatus:N,abuseScreenCloseHandler:R}=hw(),x=Fw(N);let V=!1;EC(h)&&(Tu.getFlagValueAndActivateTestId("VAS_USE_NEW_RMP_DESIGN_INSTREAM_V1"),Tu.getFlagValueAndActivateTestId("VAS_USE_NEW_RMP_DESIGN_INSTREAM_V2"),V="exp"===sy("VIDEO_IN_COMBO_RMP_NEW_DESIGN"));let L=!1,M=!1;!r||p||o||("multiroll"===O?L="small"===P:M="hidden"===N&&("pause"===i||"idle"===i));const B=function(e){const{controlsVisibility:t,skinSize:i,creativeType:n,ecomShopState:r,playingState:o,isVideoInCombo:a,isPauseAlreadyAvailable:s}=e;return"small"===i&&!!Gl({controlsVisibility:t,playingState:o})&&"survey"!==n&&("themeEmpty"!==n||(!s||r.isVisible)&&!a)}({controlsVisibility:c,skinSize:P,creativeType:n,ecomShopState:u,isVideoInCombo:"videoInCombo"===O,playingState:i,isPauseAlreadyAvailable:L||M}),F={"--skin-font-size":y,"--skin-skip-button-font-size":b},U=m(null==(e=Ga(ZT(),uE()))?void 0:e.text),H=ha(zR.locals.Skin,JD,{[zR.locals.Skin_smartTV]:Wm,[zR.locals.Skin_twoControlLines]:_,[zR.locals.Skin_vertical]:w,[zR.locals.Skin_smallControls]:E,[zR.locals.Skin_CtaAlwaysOnTenPercentOverBottom]:"videoInCombo"===O&&("big"!==I||U)}),z=yO(),j=ha(zR.locals.Skin__CtaContainer,{[zR.locals.Skin__CtaContainer_actionPanel]:z,[zR.locals.Skin__CtaContainer_width_full]:w&&z&&!f,[zR.locals.Skin__CtaContainer_isAbuseInside]:l}),W=ha(Wm?zR.locals.Skin_smartTV__skipButtonContainer:zR.locals.Skin__SkipButtonContainer,{[zR.locals.Skin__SkipButtonContainer_invisible]:g&&A&&!f}),Y=g?A:f,G=Xr(null),{clickThrough:q}=eE(),X="small"===P||w?1:3,{isPossible:K,absoluteBottom:J}=oD(),Z=bC(),Q=K&&!1!==c.subtitles&&(!p||p&&Z);if(o&&(a||v)){const e=v&&s?{top:65,right:10,"z-index":2}:{top:9,right:10};return yr("div",{translate:!1},s&&yr(sV,{onClick:d,shouldHideBackground:k}),!l&&yr(MN,{hideBurgerButtonBackground:!0,abuseBurgerButtonPosition:e}))}const $=!g&&l;return yr("div",{className:H,style:F,translate:!1},g&&"big"===I&&yr("div",{className:zR.locals.Skin__BottomFade}),yr("div",{className:zR.locals.Skin__DisclaimerContainer},S&&yr(tk,{heightPortion:S.mandatoryHeightPortion,text:S.text})),yr(HR,{onClick:L?t:void 0}),yr(eN,{onClickOutside:L?t:void 0}),yr(sR,{isPlayButtonAvailable:!B&&(L||M)}),yr("div",{className:zR.locals.Skin__TopControlsContainer},yr(BR,{isPlayButtonAvailable:B})),Y&&!I&&yr(FD,{debugName:"SkipButton",index:1,isFocusable:!x},yr("div",{className:W},yr(GR,null))),T&&C&&yr("div",{className:ha(zR.locals.Skin__ProductsPackshotContainer,{[zR.locals.Skin__ProductsPackshotContainer_visible]:T})},yr(rI,{products:C.products,autoScrollDelay:3,maxItemsPerView:X,onProductClick:e=>{q({url:e.clickThruUrl,playerHandles:!0,clickSource:"EcomProduct"})}})),Q&&yr(uV,{className:ha(zR.locals.Skin__Subtitles,{[zR.locals.Skin__Subtitles_withBottomGap]:I||!E||u.isCtaEnabled,[zR.locals.Skin__Subtitles_absolute]:void 0!==J})}),g&&!I&&yr("div",{className:j,ref:G},yr(Ix,{compactMode:E,onProductClick:e=>{q({url:e.clickThruUrl,playerHandles:!0,clickSource:"EcomCta"})},renderRmpVersion:V})),$&&yr("div",{className:ha(zR.locals.Skin__CtaContainer,{[zR.locals.Skin__CtaContainer_isAbuseInside]:!0})},yr(Uw,{size:"big",hideBackground:!1})),I&&yr("div",{className:ha(zR.locals.Skin__CtaAndAlternativeSkipButtonContainer,{[zR.locals.Skin__CtaAndAlternativeSkipButtonContainer_isAbuseInside]:l})},yr("div",{className:zR.locals.Skin__ThemeEmptyActionPanelContainer},g&&yr(Ix,{compactMode:E,onProductClick:e=>{q({url:e.clickThruUrl,playerHandles:!0,clickSource:"EcomCta"})},renderRmpVersion:V})),Y&&yr("div",{className:ha(zR.locals.Skin__SkipButtonAlternativeContainer,{[zR.locals.Skin__SkipButtonContainer_invisible]:g&&A&&!f}),style:{height:AV[I]}},yr(vV,null))),yr("div",{className:zR.locals.Skin_BottomControlsContainer},yr(Qx,null)),Wm&&yr("div",{className:zR.locals.Skin_smartTV__topPanel},yr(FD,{index:0,debugName:"AbuseSmartTVContainer"},yr(KN,null)),yr(QN,null)),!l&&!Wm&&yr(MN,null),l&&x&&yr(Sr,null,yr(xN,null),E&&yr(Bw,{onClickHandler:()=>{oa({control:"AdTuneScreenClose",purpose:"adTune"}),R()},isActive:!0,hideBackground:!1}),yr(DN,{isVisibleAbuse:!0,socialAdvertising:D})),yr(aN,null))},yV=(bV=()=>yr(_V,null),(e,t)=>{const i=new _u,n=new _u,r=new _u,o=new Promise(((e,t)=>{i.addOne((()=>{i.removeAll(),n.removeAll(),e()})),n.addOne((e=>{i.removeAll(),n.removeAll(),t(e)}))})),a=new Promise(((e,t)=>{r.addOne((e=>{t(e)}))})),s=yr(aT,{onFirstRender:e=>{"success"===e.status?i.dispatch(void 0):n.dispatch(e.error)},onRuntimeError:e=>{r.dispatch(e)}},yr(sT,{components:GD,componentsProps:{id:"skin",adDisplayController:t,slotElement:e}},bV()));return ah("Skin: render skin"),zr(s,e),{firstRenderPromise:o,runtimeErrorPromise:a,clear:()=>{i.removeAll(),n.removeAll(),ah("Skin: destroy skin"),zr(null,e)}}});var bV,SV;const TV=[(void 0===SV&&(SV={}),Cl({name:"skin",deps:[],factory:()=>yV},SV))],EV=Object.create(null);let wV,CV;"exp"===Tu.getFlagValue("VAS_SKIN_TO_PLUGIN")&&(wV=new class{constructor(e,t){const i=(e=>({require:El(e+"_require"),define:El(e+"_define")}))(t),n=i.require,r=i.define;e[n]||e[r]||wl(e,i.require,i.define),this._require=e[n],this._define=e[r]}define(e,t,i){this._define(e,t,i)}require(e,t){this._require(e,t)}}(EV,"vas"),CV=new class{constructor(e){this.impl=e}define(e){this.impl.define(e.name,e.deps,this.boxPlugin(e.name,e.deps,e.factory))}require(e,t,i){this.impl.require(e,(e=>{e.get(t,i)}))}requireWeak(e){let t;return this.require(e,(e=>{t=e})),t}requireAsync(e){return new Promise((t=>{this.require(e,t)}))}boxPlugin(e,t,i){return()=>{const n={get:(r,o)=>{const a=[],s=function(e,t){let i=0;const n=[];if(0===e)return t(),n;for(let r=0;r<e;r++)n.push(te((()=>{i+=1,i===e&&t()})));return n}(t.length,(()=>{!function(t,r,o){if(n.__value&&!hp(n.__value))return r(n.__value);if(!n.__value)try{n.__value=i(...t)}catch(hb){const i=new UO("PluginDIError: ["+e+"] PLUGIN_FACTORY_FAILED");i.originalError=hb,o&&o(i)}hp(n.__value)?n.__value.then((e=>{n.__value=e.default,r(n.__value)})).catch((t=>{const i=new UO("PluginDIError: ["+e+"] PLUGIN_FACTORY_FAILED");n.__value=void 0,i.originalError=t,o&&o(i)})):r(n.__value)}(a,r,o)}));t.forEach(((e,t)=>{this.require(e,(e=>{a[t]=e,s[t]()}))}))},__value:void 0};return n}}}(wV),nu(TV,(e=>{CV.define(e)})));const PV={onClickThrough:void 0,onStartError:void 0,onPlayStateChanged:void 0,onAdSkippableStateChange:void 0,onComplete:void 0,onFulfilled:void 0,onSlotVisible:void 0,onBeforeAdStart:void 0,onAdStartRejected:void 0,onAdStart:void 0,onAdEnd:void 0,onAdMediaStart:void 0,onAdMediaEnd:void 0,onAdSkipped:void 0,onAdImpression:void 0,onAdContentSizeChange:void 0,onAdRemainingTimeChange:void 0,onCurrentViewerAssetsAvailable:void 0,onAdPodComplete:void 0};class kV extends wh{constructor(e){var t;let{videoSlot:i,layoutSlot:n,mediaAds:r,playbackParameters:o,stats:a}=e;if(super(),this.pauseAd=this.createPlaybackMethod("pauseAd",(()=>{ah("[AdPlaybackController]: method pauseAd() is called"),this.adDisplayController.pause()})),this.resumeAd=this.createPlaybackMethod("resumeAd",(()=>{ah("[AdPlaybackController]: method resumeAd() is called"),this.adDisplayController.resume()})),this.isPlayAdCalled=new XS,this.getPublicInstance=()=>{const e={playAd:this.playAd,warmupAd:this.warmupAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,setCallback:this.setCallback,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdSubtitlesAvailabilityState:this.getAdSubtitlesAvailabilityState,setAdSubtitlesVisibility:this.setAdSubtitlesVisibility,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,getCurrentViewerAssets:this.getCurrentViewerAssets,getCurrentVideoMediaFile:this.getCurrentVideoMediaFile,setControlsVisibility:this.setControlsVisibility,triggerClickThroughTrackings:this.triggerClickThroughTrackings,getAdTuneControlsMethods:this.getAdTuneControlsMethods};return $d(c(PV),(t=>{let i;const n={set:e=>{this.setCallback(t,e),i=e},get:()=>i,enumerable:!0};Object.defineProperty(e,t,n)})),e},this.getAdMediaState=()=>this.adDisplayController.adMediaState.getValue(),this.getAdContentSize=()=>this.adDisplayController.adContentSize.getValue(),this.setControlsVisibility=e=>this.adDisplayController.setPublicApiControlsSettings(e),this.getMediaElementStatusAfterAdStopped=()=>{if(this.isDestroyed)return{lastMediaRetained:Boolean(this.adDisplayController.lastMediaRetained.getValue())}},this.playAd=()=>{ah("[AdPlaybackController]: method playAd() is called"),this.isPlayAdCalled.getDispatched()?this.stats.log({name:"AttemptToPlayAdSecondTime"}):(this.isPlayAdCalled.dispatch(void 0),this.adDisplayController.showAd(this.mediaAds).then((()=>{this.destroy("adComplete")})).catch(Ue))},this.warmupAd=()=>{this.playAd(),this.pauseAd()},this.stopAd=()=>{ah("[AdPlaybackController]: method stopAd() is called"),this.destroy("stopAd")},this.getAdPlayingState=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle",this.getAdSkippableState=()=>this.adDisplayController.adSkippableState.getValue(),this.getAdPodTimeToSkip=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?fE:this.adDisplayController.timeToSkip.getValue(),this.getAdPodCloseState=()=>this.adDisplayController.adPodCloseState.getValue(),this.getAdPodAdTuneState=()=>this.adDisplayController.adTuneState.getValue(),this.getAdVolume=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?0:this.adDisplayController.getVolume(),this.setAdVolume=e=>{this.isPlayAdCalled.getDispatched()&&!this.isDestroyed&&(e<0||e>1?this.stats.error({error:new Qu({code:"VOLUME_IS_OUT_OF_RANGE",details:{volume:e}})}):0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))},this.getAdVolumeAvailabilityState=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?FI:this.adDisplayController.getAdVolumeAvailability(),this.getAdSubtitlesAvailabilityState=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?BI:this.adDisplayController.getAdSubtitlesAvailability(),this.setAdSubtitlesVisibility=e=>{this.isPlayAdCalled.getDispatched()&&!this.isDestroyed&&"boolean"===typeof e&&this.adDisplayController.setAdSubtitlesVisibility(e)},this.getAdRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdRemainingTime():this.getAdDuration(),this.getAdPodRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration(),this.getAdDuration=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getDuration():yl(this.mediaAds),this.getAdPodDuration=()=>{var e;if(this.isPlayAdCalled.getDispatched())return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds;return null!=(e=null==t?void 0:t.getDuration())?e:0},this.skipAd=()=>{if(this.getAdSkippableState())this.adDisplayController.skipAllViewers();else if(this.isDestroyed)this.stats.error({error:new Qu({code:"ATTEMPT_TO_SKIP_AD_AFTER_DESTROY",details:void 0})});else if(Boolean(this.isPlayAdCalled)){if(this.adDisplayController.getCurrentViewerSkipDelay()||this.getAdPodTimeToSkip()>0)return void this.stats.error({error:new Qu({code:"ATTEMPT_TO_SKIP_AD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})});this.stats.error({error:new Qu({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD",details:void 0})})}else this.stats.error({error:new Qu({code:"ATTEMPT_TO_SKIP_AD_BEFORE_START",details:void 0})})},this.getCurrentViewerAssets=()=>this.adDisplayController.getCurrentViewerAssets(),this.getCurrentVideoMediaFile=()=>{const e=this.adDisplayController.getCurrentVideoMediaFile();return e?function(e,t){const i={};for(let n=0;n<t.length;n++){const r=t[n],o=e[r];e.hasOwnProperty(r)&&(i[r]=o)}return i}(e,nb):void 0},this.setCallback=(e,t)=>{const i=(()=>{switch(e){case"onStartError":return"AdStartRejected";case"onAdStart":return"AdStarted";case"onComplete":case"onAdPodComplete":return"AdPodComplete";case"onCurrentViewerAssetsAvailable":return"CurrentViewerAssetsAvailable";case"onAdEnd":case"onAdMediaEnd":return"AdPodStopped";case"onAdSkipped":return"AdPodSkipped";case"onAdImpression":return"AdPodImpression";default:return}})();return i?this.subscribe(i,t):Y},this.subscribe=(e,t)=>{if("function"!==typeof t)return Y;const i=i=>{try{t(i)}catch(cL){this.stats.error({error:new Qu(cL,{code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),Ue(cL)}},n=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(n);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(n);case"AdStartRequest":return this.isPlayAdCalled.getDispatched()?Y:this.isPlayAdCalled.subscribe(n);case"AdStarted":return this.adDisplayController.onAdStart.add(n);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(n);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(n);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(n);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(n);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(n);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(n);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add((()=>{i({})}));case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(n);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(n);case"AdClickThru":return this.adDisplayController.onClickThrough.add(n);case"AdPodError":return this.adDisplayController.onAdPodError.add((e=>{let t,{error:n,adPodId:r}=e;"string"===typeof n.code?t=n.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",this.stats.error({error:new Qu({code:t,details:{error:n,adPodId:r}})})),i({code:t,adPodId:r})}));case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(n);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(n);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(n);case"AllAdPodVideoComplete":return this.adDisplayController.onAllAdPodComplete.add(n);case"AdStopped":return this.adDisplayController.onDestroy_PUBLIC_DO_NOT_USE.add((e=>{let{reason:t}=e;"unload"!==t&&n()}));case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add((e=>{i({skippableState:e})}));case"AdVolumeChange":return this.adDisplayController.adVolume.add((()=>{i({})}));case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add((()=>{i({})}));case"AdSubtitlesAvailabilityStateChange":return this.adDisplayController.subtitlesState.add((e=>{var t;i({state:null!=(t=null==e?void 0:e.isAllowed)?t:BI})}));case"AdPlayingStateChange":return this.adDisplayController.playingState.add((e=>{i({playingState:e})}));case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(n);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(n);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(n);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(n);case"CurrentViewerAssetsAvailable":return this.adDisplayController.onCurrentViewerAssetsAvailable.add((e=>{!1!==e&&n()}));default:return Y}},this.saveCurrentInstanceToRegistry=()=>{if(!gu.isDebugEnabled)return;const e=rl(window),{stats:t}=this;if(!e.adPlaybackControllerRegistry){const i=new Set;Object.defineProperty(e,"adPlaybackControllerRegistry",{get:()=>(L("You are using debug code ad display controller registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdPlaybackControllerRegistryGetter"}),i)});const n=()=>(L("You are using debug code ad display controllers getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdPlaybackControllersGetter"}),Array.from(e.adPlaybackControllerRegistry.values()));e.getAdPlaybackControllers=n}const i=e.adPlaybackControllerRegistry;i.add(this),this.addDestroyHandler((()=>{i.delete(this)}))},this.triggerClickThroughTrackings=e=>{let{url:t,clickSource:i}=e;this.adDisplayController.triggerClickThroughTrackings({url:t,clickSource:i})},this.getAdTuneControlsMethods=()=>{const e=this.adDisplayController.abuseParameters.getValue().abuseUrl,t=this.adDisplayController.adFoxAdTuneParameters.getValue(),i=!t||!1===t.show;if(e||!i)return{open:this.openAdTune,close:this.closeAdTune,getAdvertiserInfoLink:this.getAdvertiserInfoLink}},this.openAdTune=()=>{this.adDisplayController.abuseButtonClickHandler()},this.closeAdTune=()=>{this.adDisplayController.abuseScreenCloseHandler()},this.getAdvertiserInfoLink=()=>{const e=this.adDisplayController.abuseParameters.getValue().abuseUrl;return m(e)?lw(e):""},this.stats=a,!Boolean(n)){const e=new Qu({code:"APC_SLOT_IS_NOT_SET",details:{slotString:String(n)}});throw a.error({error:e}),e}var s;a.log({name:"CreatePlaybackController",data:{config:o,adBreakType:null==(t=r[0])?void 0:t.adBreak.adType}}),this.videoSlot=i,s=this.videoSlot,BO&&(s.poster="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),this.layoutSlot=n,this.mediaAds=r,this.playbackParameters=o;const l=new XC(n);let d,u;if(this.addDestroyHandler((()=>{l.destroy()})),o.visibilitySlot){d=o.visibilitySlot;const e=new XC(d);u=e.onResize,this.addDestroyHandler((()=>{e.destroy()}))}else d=n,u=l.onResize;const h=IA(this.mediaAds,(e=>e.getIsYandexCreative())),p=new MO(d,{numberOfMeasurementSteps:10,enableTrackVisibility:RO(window)&&h&&"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_IMPRESSIONS_CONSIDER_TRACK_VISIBILITY")});this.addDestroyHandler((()=>{p.destroy(void 0)}));const v={element:d,size:u,visibilityRatio:p.totalVisibilityRatioValueSignal};this.adDisplayController=new NO({config:this.playbackParameters,videoNode:this.videoSlot,layoutSlot:this.layoutSlot,skinParameters:{getRenderSkinFunction:e=>{CV&&"exp"===Tu.getFlagValueAndActivateTestId("VAS_SKIN_TO_PLUGIN")?CV.require("skin",e):e(yV)}},visibilitySlotParameters:v,retainLastMediaAfterPlayback:this.playbackParameters.retainLastMediaAfterPlayback,stats:a}),this.addDestroyHandler((e=>{this.adDisplayController.destroy({reason:e,details:void 0})})),this.addDestroyHandler(ol((()=>{this.destroy("unload")}),iu)),gu.isDebugEnabled&&this.saveCurrentInstanceToRegistry()}createPlaybackMethod(e,t){return()=>{this.isPlayAdCalled.getDispatched()&&!this.isDestroyed?t():qt(new Qu({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}class IV extends wh{constructor(e){var t;super(),t=this,this.showAdPlaybackControllers=[],this.subscriptions=[],this.oldDestroyHandlers=[],this.getPublicInstance=()=>({createPlaybackController:this.createPlaybackController,destroy:()=>{this.destroy()},filterAdPodsIndependentOnHtmlControls:this.filterAdPodsIndependentOnHtmlControls,getAdBreakType:this.getAdBreakType,getAdDuration:this.getAdDuration,getAdPodsCount:this.getAdPodsCount,getAdSourceTypes:this.getAdSourceTypes,getNonYandexVastXmlTree:this.getNonYandexVastXmlTree,getYandexBidReqIdArray:this.getYandexBidReqIdArray,getAdMetadata:this.getAdMetadata,hasYandexCreative:this.hasYandexCreative,preload:this.preload,preventPlaying:this.preventPlaying,separateAdPods:this.separateAdPods,filterAdPods:this.filterAdPods,setStatsRootFields:this.setStatsRootFields,showAd:this.showAd,subscribe:this.subscribe}),this.createPlaybackController=this.ignoreAfterDestroy((function(e,i,n){var r,o;void 0===n&&(n={});const a=null==(r=t.params.mediaAds[0])||null==(o=r.vastAd)?void 0:o.serializablePlaybackParameters,{config:s,errors:l}=Qs(n,a);Ae(l,t.params.stats);const d=new kV({videoSlot:e,layoutSlot:i,mediaAds:t.params.mediaAds,playbackParameters:s,stats:t.params.stats}).getPublicInstance();d.subscribe("AdStartRequest",(()=>{t.cancelPreloading("PublicControllerPlayAd")}));const c=yu(t.subscriptions,(e=>{let{event:t}=e;return"CreateAdPlaybackController"===t}));return $d(c,(e=>{let{handler:t}=e;return t({playbackController:d})})),d}),"AdStore.createPlaybackController",Eh.CALL_NORMALLY),this.showAd=this.ignoreAfterDestroy((function(e,i,n){void 0===n&&(n={}),t.cancelPreloading("AdStoreShowAd");const r=t.createPlaybackController(e,i,n);t.showAdPlaybackControllers.push(r);const o=new Promise((e=>{r.subscribe("AdStopped",(()=>{t.showAdPlaybackControllers=yu(t.showAdPlaybackControllers,(e=>e!==r)),e()}))}));return r.playAd(),o}),"AdStore.showAd",Eh.CALL_NORMALLY),this.getAdDuration=this.ignoreAfterDestroy((()=>yl(this.params.mediaAds)),"AdStore.getAdDuration",Eh.CALL_NORMALLY),this.separateAdPods=this.ignoreAfterDestroy((()=>sh(this.params.mediaAds,(e=>{const t=new IV({mediaAds:[e],vast:uD(this.params),stats:this.params.stats});return $d(this.subscriptions,(e=>{let{event:i,handler:n}=e;t.subscribe(i,n)})),this.addDestroyHandler((()=>{t.destroy()})),t.getPublicInstance()}))),"AdStore.separateAdPods",Eh.CALL_NORMALLY),this.filterAdPods=this.ignoreAfterDestroy((e=>{const t=yu(this.params.mediaAds,e);if(0===t.length){const e=new Qu({code:"FILTER_AD_PODS_EMPTY_MEDIA_ADS",details:{mediaAds:this.params.mediaAds}});throw this.params.stats.error({error:e}),e}return new IV({mediaAds:t,vast:uD(this.params),stats:this.params.stats}).getPublicInstance()}),"AdStore.filterAdPods",Eh.CALL_NORMALLY),this.getAdSourceTypes=this.ignoreAfterDestroy((()=>yu(sh(this.params.mediaAds,(e=>{let{contentType:t}=e;return t})),((e,t,i)=>i.indexOf(e)===t))),"AdStore.getAdSourceType",Eh.CALL_NORMALLY),this.getAdBreakType=this.ignoreAfterDestroy((()=>{return"midroll"===(e=this.params.mediaAds[0].adBreak).adType?null!=(t=e.originalAdType)?t:"midroll":e.adType;var e,t}),"AdStore.getAdBreakType",Eh.CALL_NORMALLY),this.setStatsRootFields=this.ignoreAfterDestroy((e=>{this.params.stats.setRootFields(e),Ih.setRootFields(e)}),"AdStore.setStatsRootFields",Eh.CALL_NORMALLY),this.hasYandexCreative=this.ignoreAfterDestroy((()=>fh(this.params.mediaAds,(e=>e.getIsYandexCreative()))),"AdStore.hasYandexCreative",Eh.CALL_NORMALLY),this.getNonYandexVastXmlTree=this.ignoreAfterDestroy((()=>this.hasYandexCreative()?void 0:bd(uD(this.params))),"AdStore.getNonYandexVastXmlTree",Eh.CALL_NORMALLY),this.preload=this.ignoreAfterDestroy((e=>{if(he(window))return Promise.resolve();if(void 0===this.preloadPromise){const t=sh(this.params.mediaAds,(t=>t.preload(e)));this.preloadPromise=Promise.all(t)}return this.preloadPromise}),"AdStore.preload",Eh.CALL_NORMALLY),this.filterAdPodsIndependentOnHtmlControls=this.ignoreAfterDestroy((e=>{const[t,i]=sn(this.params.mediaAds,(e=>e.getIfIsRequiredHtmlControls()));this.params.mediaAds=ar(i),$d(t,(t=>{t.trackError(new Qu({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))}))}),"AdStore.filterAdPodsIndependentOnHtmlControls",Eh.CALL_NORMALLY),this.getYandexBidReqIdArray=this.ignoreAfterDestroy((()=>sh(this.params.mediaAds,(e=>{let{vastAd:t}=e;return t.bidreqid}))),"AdStore.getYandexBidReqIdArray",Eh.CALL_NORMALLY),this.preventPlaying=this.ignoreAfterDestroy(((e,t)=>{$d(this.params.mediaAds,(i=>{i.trackError(new Qu({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))})),this.params.mediaAds=[]}),"AdStore.preventPlaying",Eh.CALL_NORMALLY),this.getAdPodsCount=this.ignoreAfterDestroy((()=>this.params.mediaAds.length),"AdStore.getAdPodsCount",Eh.CALL_NORMALLY),this.subscribe=this.ignoreAfterDestroy(((e,t)=>(this.subscriptions.push({event:e,handler:t}),()=>{this.subscriptions=yu(this.subscriptions,(i=>!(i.event===e&&i.handler===t)))})),"AdStore.subscribe",Eh.CALL_NORMALLY),this.addOldDestroyHandler=e=>{this.oldDestroyHandlers.push(e)},this.cancelPreloading=this.ignoreAfterDestroy((e=>{$d(this.params.mediaAds,(t=>{t.cancelPreloading(e)}))}),"AdStore.cancelPreloading",Eh.CALL_NORMALLY),this.destroyPreloading=this.ignoreAfterDestroy((()=>{$d(this.params.mediaAds,(e=>{e.cancelPreloading("Destroy")}))}),"AdStore.destroyPreloading",Eh.CALL_NORMALLY),this.getAdMetadata=this.ignoreAfterDestroy((()=>sh(this.params.mediaAds,(e=>{return{adId:(t=e.vastAd).adId,bannerId:t.bannerId,creativeId:t.creativeId};var t}))),"AdStore.getAdMetadata"),this.params=e,this.addOldDestroyHandler((()=>{$d(this.showAdPlaybackControllers,(e=>{e.stopAd()})),this.showAdPlaybackControllers.length=0,this.destroyPreloading(),this.preloadPromise=void 0,this.subscriptions.length=0}))}destroy(){W(this.oldDestroyHandlers)}}class OV extends wh{constructor(e){let{adConfig:t,vmap:n,adBreak:r,adPlacementOptions:o,stats:a,adLoaderConfigType:s}=e;if(super(),this.getPublicInstance=()=>({loadAd:this.loadAd,destroy:()=>this.destroy()}),this.load=async e=>{const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t},this.loadAd=async()=>{try{const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new Qu({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new IV({mediaAds:t,vast:i,stats:this.stats}).getPublicInstance()}catch(cL){throw an(cL),this.stats.errorToStats(cL),cL}},this.getInPageBlock=()=>fr(this.getAdBreaks(),"inpage")[0],this.getPrerollBlock=()=>fr(this.getAdBreaks(),"preroll")[0],this.getDefaultAdBreakToPlayAd=()=>{const{impId:e,adBreakType:t}=this.adConfig;return gr(t)&&this.stats.log({name:"UseAdBreakTypeFromConfigToFindAdBreak",probability:Wu}),function(e,t){let{impId:n,adBreakType:r}=t;return i(n)?qc(e,(e=>e.impId===n)):gr(r)?qc(e,(e=>e.adType===r)):void 0}(this.getAdBreaks(),{impId:e,adBreakType:null!=t?t:"preroll"})},this.adConfig=t,this.adBreak=r,this.vmap=n,this.adPlacementOptions=o,this.stats=a,ah("AdLoader: create"),a.log({name:"CreateAdLoader",data:{adConfig:t,adBreak:r},dailySensors:{adLoaderConfigType:s}}),bh({secureMode:t.secureMode,url:void 0})){const e=Ip();e.addUser(),this.addDestroyHandler((()=>{e.removeUser()})),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:5e3})}}getAdBreaks(){return this.adBreak?[this.adBreak]:this.vmap.adBreaks}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:n}=this;return cr({adConfig:i,adBreak:t,adPlacementOptions:n,win:window},this.stats)}}class DV{constructor(){this.adBreaks=[],this.isSingleVideoSession=!1,this.isUniformat=!1}}const NV=e=>(new XMLSerializer).serializeToString(e),RV={start:"preroll",end:"postroll"},xV=c({inpage:0,preroll:0,midroll:0,pauseroll:0,postroll:0,postPauseroll:0,inroll:0}),VV="linear,nonlinear",LV="linear",MV="nonlinear",BV={dark:"dark",light:"light"},FV={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},UV=e=>{const t=wd("Collapse",e);return!0===wd("Repeat",e)?"auto":!1===t?"manual":null},HV=e=>{if(!n(e))return;const{preferableAdSize:t,preferableAdSizeVideoUI:r}=e;let o=t;if(n(r)&&"exp"===Tu.getFlagValueAndActivateTestId("VAS_ENABLE_PREFERABLE_AD_SIZES_FOR_VIDEO_UI")&&(o=r),!n(o))return;const{width:a,height:s}=o;return i(a)&&i(s)?{width:a,height:s}:void 0},zV=c(Bc),jV="Unsafe",WV=e=>{if(!n(e))return jV;const{secureMode:t}=e;return t&&-1!==zV.indexOf(t)?t:jV},YV="0",GV=["vastBase64"],qV=()=>{if(!gu.isDebugEnabled)return;const e=zy();if(null==e||!e.getVmap)return;const t=e.getVmap();return Ih.log({name:"LoadInlineTestUtilsVmap",data:{vmap:t},probability:Hu}),t},XV=e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0},KV=()=>lc()/1e3,JV="adsdksessionwatchedtimesinceadmap";class ZV{constructor(){void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:n=KV}=e;if(!i)return;const r=Md(i);r[t]=n();try{Hc.setItem({localStorage:i},JV,JSON.stringify(r))}catch(o){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:n,now:r=KV}=e;if(!n)return 0;const o=Md(n)[t];if(!i(o))return 0;const a=r();if(!i(a))return 0;const s=a-o;return i(s)?s:0}({category:t,storage:this.storage})}}const QV=gu.loaderLoadedFromAnYandexRu?"https://"+du+"/vmap/":gu.loaderLoadedFromYaRu?"https://"+uu+"/ads/vmap/":"https://"+cu+"/ads/vmap/",$V=(e,t)=>{const{category:i,vmapScenarioId:n,hasPreroll:r,targetRef:o}=e,a=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),s=c_(e);let l;try{l=new ZV}catch(cL){}let d=0;"number"===typeof i&&l&&(d=l.getWatchedTimeSinceAd({category:i}));const c=S(t),u=t.document.referrer;let h;return h=o||(c===d_?u:c),h=en(h),Bd({},s,a,{[Yp]:eL(r),[Wp]:void 0===n?void 0:String(n),[Gp]:String(Math.floor(d)),client_type:"html"},"TRUE"===Tu.getFlagValueAndActivateTestId("VAS_ENABLE_VAST_IN_VMAP")?{"target-ref":h,"inline-preroll-vast-in-vmap":"1"}:{})},eL=e=>!1===e?"0":!0===e?"1":void 0,tL=()=>{const e=Tu.getNumberFlagValueAndActivateTestId("VAS_GET_CUSTOM_VMAP_TIMEOUT_VALUE");return i(e)?e:6e3},iL=e=>{const t=new ph(Eu);return Promise.resolve().then((()=>Ud({rawAdConfig:e,adPlacementOptions:Gd,stats:t}))).then((e=>e.getPublicInstance())).catch((e=>{throw Ae([e],t),e}))},nL=(gu.hardcodedParams.adsdkgrforced?100:1)/100,rL="https://"+hu+"/pcode-static/resources/74/gr/gr.js",oL=/(static|cdn|s3)\.dzeninfra\.ru$/,aL=(e=>"requestIdleCallback"in e?{requestIdleCallback:e.requestIdleCallback.bind(e),cancelIdleCallback:e.cancelIdleCallback.bind(e)}:(e=>({requestIdleCallback:function(t,i){var n;void 0===i&&(i={});const r=null!=(n=i.timeout)?n:1,o=e.performance,a=o.now();return e.setTimeout((function(){t({get didTimeout(){return!Boolean(i.timeout)&&o.now()-a-1>r},timeRemaining:function(){return Math.max(0,o.now()-a+1)}})}),1)},cancelIdleCallback:function(t){e.clearTimeout(t)}}))(e))(window),{requestIdleCallback:sL,cancelIdleCallback:lL}=aL,dL="https://"+hu+"/s3/home/fonts/ys/3/text-variable-full.woff2";!function(e,t){const i=window;if(P_(i))Ih.log({name:"InitModuleBrokeInIE",probability:Hu});else{if(Qc&&!Se(Qc)&&(void 0===(n=Qc)&&(n=""),!oL.test(n))&&"exp"===Tu.getFlagValueAndActivateTestId("VAS_NO_MODULE_INVALID_HOSTNAME")){const t=new Qu({code:"LOAD_VAS_MODULE_INVALID_HOSTNAME",details:{moduleName:e,hostname:Qc}});throw Ih.error({error:t}),t}var n;(function(){let e=window.document.getElementById("ysTextCssRule");if(e)return;const t=document.createElement("link");t.rel="preload",t.href=dL,t.type="font/woff2",t.as="font",t.importance="low",t.crossOrigin="anonymous";let i=document.getElementsByTagName("head")[0];Boolean(i)||(i=document.createElement("head"),document.documentElement.appendChild(i)),i.appendChild(t),e=document.createElement("style"),e.setAttribute("id","ysTextCssRule"),e.innerHTML='@font-face {\n        font-family: "YS Text Variable";\n        src: url("'+dL+'") format("woff2");\n        font-weight: 400 700;\n        font-display: optional;\n    }',i.appendChild(e)})(),Ih.log({name:"ModuleInited",dailySensors:{moduleName:e,es2017:!0}}),nl(i,{videoAd:{loadedModules:{[e]:t}}},"ya"),!0===(!gu.grWasSent&&!(gu.VAS_USER_SESSION_RANDOM>=ju)&&!(gu.VAS_USER_SESSION_RANDOM>=nL)&&"TRUE"!==Tu.getFlagValueAndActivateTestId("VAS_DO_NOT_LOAD_GR")&&(gu.grWasSent=!0,!0))&&sL((()=>{(e=>{const t=$_.createHidden({parentElement:e,scope:"GREEDJS_IFRAME"});if(!Boolean(t))return void Ih.log({name:"GrCannotCreateIframe",probability:Hu});const i=()=>{t.destroy(void 0)};(async e=>{var t;const i=Date.now(),n=oh(e),r=rL,o=n?n(r):r;try{await Sn({src:o,win:e}).promise}catch(cL){return void Ih.log({name:"GrCannotLoadScript",data:{error:cL},probability:Hu})}const a=Date.now(),s=a-i,l=e,d=null!=(t=l.PGreed)?t:l.Greed;if(d)try{const e=await d.safeGet(2e3),t=Date.now()-a;Ih.log({name:"GrData",data:{data:e,spentOnGet:t,spentOnScriptLoad:s},probability:Hu})}catch(cL){Ih.log({name:"GrGetError",data:{error:cL},probability:Hu})}else Ih.log({name:"GrNoVariable",probability:Hu})})(t.iframe.contentWindow).then(i).catch(i)})(window.document.body)}))}}("AdLoader",{AdLoader:{create:iL},play:async e=>{let{videoSlot:t,slot:i,config:n}=e;ah("videoAd.play: create adLoader");const r=await iL(n);try{ah("videoAd.play: load ad");const e=await r.loadAd();ah("videoAd.play: show ad"),await e.showAd(t,i,n),e.destroy()}finally{ah("videoAd.play: destroy loader"),r.destroy()}return ah("videoAd.play: done"),{}},activateTestIds:Tu.activateExternalTestIds,subscribeOnTestIdActivated:e=>f(e)?Tu.onTestIdActivated.add(e):Y})}()}();